<!DOCTYPE html>
<html lang="null">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="뒤태지존의 끄적거림">
    <title>Selenide 꿀팁 - 뒤태지존의 끄적거림</title>
    <meta name="author" content="HomoEfficio">
    <meta name="description" content="뒤태지존의 끄적거림">
    
        <link rel="icon" href="/assets/images/favicon.ico">
    
    
        <link rel="alternative" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="SelenideSelenide(셀레나이드)는 브라우저에서의 액션을 테스트 할 수 있게 해주는 테스팅 도구다. 이름에서 “어? 어디서 본 듯한?”하는 말이 떠오를 수 있는데, 그 짐작이 맞다.Selenium이 WebDriver라는 기술 기반으로 브라우저 테스팅을 위한 저수준 API를 제공한다면, Selenide는 Selenium을 더 쓰기 쉽도록 고수준 Ja">
<meta name="keywords" content="Selenide,셀레나이드,Selenium,셀레늄,JUnit,Browser Test,Acceptance Test,Test,WebDriver,웹 드라이버,브라우저 테스트,인수 테스트,테스트">
<meta property="og:type" content="blog">
<meta property="og:title" content="Selenide 꿀팁">
<meta property="og:url" content="http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/index.html">
<meta property="og:site_name" content="뒤태지존의 끄적거림">
<meta property="og:description" content="SelenideSelenide(셀레나이드)는 브라우저에서의 액션을 테스트 할 수 있게 해주는 테스팅 도구다. 이름에서 “어? 어디서 본 듯한?”하는 말이 떠오를 수 있는데, 그 짐작이 맞다.Selenium이 WebDriver라는 기술 기반으로 브라우저 테스팅을 위한 저수준 API를 제공한다면, Selenide는 Selenium을 더 쓰기 쉽도록 고수준 Ja">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/selenide-01.png">
<meta property="og:updated_time" content="2018-10-13T15:49:56.240Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Selenide 꿀팁">
<meta name="twitter:description" content="SelenideSelenide(셀레나이드)는 브라우저에서의 액션을 테스트 할 수 있게 해주는 테스팅 도구다. 이름에서 “어? 어디서 본 듯한?”하는 말이 떠오를 수 있는데, 그 짐작이 맞다.Selenium이 WebDriver라는 기술 기반으로 브라우저 테스팅을 위한 저수준 API를 제공한다면, Selenide는 Selenium을 더 쓰기 쉽도록 고수준 Ja">
<meta name="twitter:image" content="http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/selenide-01.png">
    
        <meta rel="publisher" content="https://plus.google.com/+오명운"/>
    
    
    
        <meta property="og:image" content="https://www.gravatar.com/avatar/30f0244ab86396288cdb62c3591c0c30?s=640"/>
    
    
        <meta property="og:image" content="/2016/01/27/Selenide-꿀팁/http:/selenide.org/images/selenide-logo-big.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/http://selenide.org/images/selenide-logo-big.png" />
    
    
        <meta property="og:image" content="/2016/01/27/Selenide-꿀팁/coverImage-Selenide.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/coverImage-Selenide.png" />
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-79893978-1']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6494847158566766",
    enable_page_level_ads: true
  });
</script>
</head>

    <body>
        <div id="blog">
            <header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">뒤태지존의 끄적거림</a>
    </h1>
    
        <a class="header-right-picture" href="/#about">
            <img class="header-picture" src="https://www.gravatar.com/avatar/30f0244ab86396288cdb62c3591c0c30?s=90"/>
        </a>
    
</header>
            <nav id="sidebar" data-behavior="1">
    
    <div class="sidebar-profile">
        <a href="/#about">
            
            <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/30f0244ab86396288cdb62c3591c0c30?s=90"/>
            
        </a>
        <span class="sidebar-profile-name">HomoEfficio</span>
    </div>
    
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/ 
                    ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-categories
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-tags
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-archives
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link st-search-show-outputs"
                    href="#search
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="#about
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About me</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="https://github.com/HomoEfficio" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="mailto:homo.efficio@gmail.com" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                    <span class="sidebar-button-desc">Mail</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/atom.xml
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>
            <div id="main" data-behavior="1">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
        <div class="post-header-cover" style="background-image:url('/2016/01/27/Selenide-꿀팁/coverImage-Selenide.png');">
            <div class="post-header main-content-wrap">
    
        <h1 class="post-title" itemprop="headline">Selenide 꿀팁</h1>
    
    <div class="post-meta">
    <time  itemprop="datePublished" content="Wed Jan 27 2016 19:50:49 GMT+0900">
        Jan 27, 2016
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/개발-환경-및-도구/">개발 환경 및 도구</a>


    
</div>
</div>
        </div>
    
    <div class="post-content markdown main-content-wrap" itemprop="articleBody">
        
            <h1 id="Selenide"><a href="#Selenide" class="headerlink" title="Selenide"></a>Selenide</h1><p><strong>Selenide(<a href="http://selenide.org/" target="_blank" rel="noopener">셀레나이드</a>)는 브라우저에서의 액션을 테스트 할 수 있게 해주는 테스팅 도구</strong>다.</p>
<p>이름에서 “어? 어디서 본 듯한?”하는 말이 떠오를 수 있는데, 그 짐작이 맞다.<br>Selenium이 WebDriver라는 기술 기반으로 브라우저 테스팅을 위한 저수준 API를 제공한다면, <strong>Selenide는 Selenium을 더 쓰기 쉽도록 고수준 Java API를 제공하는 Wrapper</strong>라고 할 수 있다. </p>
<p>이 글 역시 예전에 작성했던 <a href="http://hanmomhanda.github.io/2015/09/23/Selenium-%EA%BF%80%ED%8C%81/" target="_blank" rel="noopener">Selenium 꿀팁</a>의 속편이라고 볼 수 있겠다. 위 글에 댓글 달아주신 Disqus 아이디 @gaemi82님 덕에 Selenide를 알게 되었다. 감사드리면서.. 시작~</p>
<h1 id="Selenide를-이용한-실제-테스트-영상-40초"><a href="#Selenide를-이용한-실제-테스트-영상-40초" class="headerlink" title="Selenide를 이용한 실제 테스트 영상(40초)"></a>Selenide를 이용한 실제 테스트 영상(40초)</h1><p>수동으로 실행하면 <strong>5분 정도 소요</strong>되지만,<br>자동화를 통해 <strong>40초</strong>만에 완료(화면 빨리 돌린거 아님..)</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/bSixvofQ2Lk" frameborder="0" allowfullscreen></iframe></div>
<h1 id="Selenide를-사용하기-위한-pom-xml"><a href="#Selenide를-사용하기-위한-pom-xml" class="headerlink" title="Selenide를 사용하기 위한 pom.xml"></a>Selenide를 사용하기 위한 pom.xml</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.codeborne<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>selenide<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="Selenium보다-나은점"><a href="#Selenium보다-나은점" class="headerlink" title="Selenium보다 나은점"></a>Selenium보다 나은점</h1><h3 id="브라우저-테스트-용-코드가-무지-깔끔해졌다"><a href="#브라우저-테스트-용-코드가-무지-깔끔해졌다" class="headerlink" title="브라우저 테스트 용 코드가 무지 깔끔해졌다."></a>브라우저 테스트 용 코드가 무지 깔끔해졌다.</h3><p>기본적으로 jQuery와 유사한 생김새의 API를 제공해주고 있어서 코드 작성 및 읽기가 아주 쉽고 직관적이다. </p>
<p>이 부분은 구구절절 여기다 썰 푸는 것보다 <a href="https://github.com/codeborne/selenide/wiki/Selenide-vs-Selenium" target="_blank" rel="noopener">Selenide vs Selenium</a>를 보는 것이 낫겠다.</p>
<h3 id="Select-Box의-선택-동작이-개선되었다"><a href="#Select-Box의-선택-동작이-개선되었다" class="headerlink" title="Select Box의 선택 동작이 개선되었다."></a>Select Box의 선택 동작이 개선되었다.</h3><p>예전에 <a href="http://hanmomhanda.github.io/2015/09/23/Selenium-%EA%BF%80%ED%8C%81/" target="_blank" rel="noopener">Selenium 꿀팁</a>을 작성할 때는 Select Box의 선택이 뜻하는대로 되지 않는 경우가 많아서 이를 극복하는 꼼수(?)를 얘기했었는데, 이번에 Selenide를 써보니 별다른 꼼수없이 그냥 제공해주는 API로도 꽤 잘 동작한다.</p>
<p>물론 최신 버전의 Selenium도 그 부분이 개선되었을지 모르지만, Selenide의 소스를 보니 Select Box를 wrapping하면서 이 부분을 보완한 흔적이 보인다.</p>
<p>하지만, 여전히 제대로 동작하지 않는 경우도 많아서, 아직까지는 Select Box에 한해서는 Selenide API 보다는 JavaScript를 활용하는 것이 정신건강에 이롭다.</p>
<h3 id="waitUntil"><a href="#waitUntil" class="headerlink" title="waitUntil"></a>waitUntil</h3><p>어떤 요소가 어떤 텍스트/값/속성을 가지게 되거나 어떤 조건을 만족할 때까지 기다려야 할 때 쉽고 요긴하게 쓸 수 있는 <code>waitUntil</code> 메서드 제공</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SelenideElement.waitUntil(텍스트/값/속성/상태, 기다릴 시간 in millisecond)의 형식으로 사용</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">"#welcome"</span>).waitUntil(hasText(<span class="string">"Hello, Johny!"</span>), <span class="number">2000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(hasAttribute(<span class="string">"name"</span>, <span class="string">"user.name"</span>), <span class="number">2000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(hasClass(<span class="string">"green-button"</span>), <span class="number">2000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(hasValue(<span class="string">"123"</span>), <span class="number">2000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(matchesText(<span class="string">"Johny"</span>), <span class="number">2000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(not(matchesText(<span class="string">"Noname"</span>)), <span class="number">2000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(matchText(<span class="string">"^Johny$"</span>), <span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(present, <span class="number">5000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(enabled, <span class="number">5000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(disabled, <span class="number">5000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(visible, <span class="number">5000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(appears, <span class="number">5000</span>);</span><br><span class="line">$(<span class="string">"#username"</span>).waitUntil(disappears, <span class="number">5000</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Selenium에서-할-수-있는-건-다-할-수-있다"><a href="#Selenium에서-할-수-있는-건-다-할-수-있다" class="headerlink" title="Selenium에서 할 수 있는 건 다 할 수 있다."></a>Selenium에서 할 수 있는 건 다 할 수 있다.</h3><p>Wrapper이면서도 Selenium의 기능을 다 쓸 수 있도록 열어두었다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Selenium의 WebDriver를 가져올 수 있다.</span></span><br><span class="line">WebDriver driver = WebDriverRunner.getWebDriver();</span><br><span class="line"></span><br><span class="line"><span class="comment">// JavaScript를 사용할 수 있는 JavaScriptExecutor를 가져올 수 있다.</span></span><br><span class="line">JavascriptExecutor js = (JavascriptExecutor)driver;</span><br><span class="line"></span><br><span class="line"><span class="comment">// SelenideElement 인터페이스의 getWrappedElement()로</span></span><br><span class="line"><span class="comment">// Wrapping 되어 있는 원래의 WebElement를 가져올 수 있다.</span></span><br><span class="line">WebElement we = $(<span class="string">"#css-selector"</span>).getWrappedElement();</span><br></pre></td></tr></table></figure>
<h1 id="아쉬운-점"><a href="#아쉬운-점" class="headerlink" title="아쉬운 점"></a>아쉬운 점</h1><ul>
<li><p>Selenium IDE 처럼 브라우저 상에서의 액션을 녹화해서 소스 코드를 자동으로 만들어주는 기능은 없다.</p>
<ul>
<li>하지만, Selenium IDE에서 자동 생성한 코드도 scroll등 어느 정도 손을 봐줘야 한다는 점을 감안하면, API의 뛰어난 직관성이 이를 충분히 커버해준다.</li>
</ul>
</li>
<li><p>Selenium과 마찬가지로 화면(viewport)에 렌더링되지 않은 요소에는 값 세팅이나 이벤트 유발이 불가능하다.</p>
<ul>
<li>결국 해당 요소가 렌더링 되도록 적절히 화면을 적절히 scroll 해주는 소스를 직접 작성해야 하는데, 그래서일까 <code>$(&quot;#css-selector&quot;).scrollTo();</code> 처럼 쉽고 직관적인 API를 제공해준다.</li>
</ul>
</li>
</ul>
<h1 id="꿀팁"><a href="#꿀팁" class="headerlink" title="꿀팁"></a>꿀팁</h1><p>아쉬운 점이 없었다면 꿀팁도 필요 없었겠지만~</p>
<h2 id="JavaScript의-사용"><a href="#JavaScript의-사용" class="headerlink" title="JavaScript의 사용"></a>JavaScript의 사용</h2><p>아무리 쉬운 API라 한 들, 브라우저 테스트라면 결국 DOM을 다뤄야 하는데, JavaScript를 쓸 수 없다면 한계가 많을 것이다. 위에 잠깐 언급했지만 다음과 같이 <code>executeJavaScript</code> 메서드를 통해 JavaScript를 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">executeJavaScript(<span class="string">"document.getElementById('name').value = 'Selenide'"</span>);</span><br></pre></td></tr></table></figure>
<p>위의 코드는 아래의 selenium에서의 JavaScript 사용 방식을 Wrapping 한 것이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Selenium 방식</span></span><br><span class="line">WebDriver driver = WebDriverRunner.getWebDriver();</span><br><span class="line">JavascriptExecutor js = (JavascriptExecutor)driver;</span><br><span class="line"></span><br><span class="line">js.executeScript(<span class="string">"document.getElementById('name').value = 'Selenide'"</span>);</span><br></pre></td></tr></table></figure>
<p><code>executeJavaScript</code>라고 길게 타이핑 하기 귀찮으니 다음과 같이 얄팍한 수를 쓰자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">J</span><span class="params">(String javaScriptSource)</span> </span>&#123;</span><br><span class="line">    Object obj = executeJavaScript(javaScriptSource);</span><br><span class="line"><span class="comment">//    System.out.println(obj);  // null이 나오기도 값이 나오기도 한다. 궁금하면 찾아보기~</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>그럼 아래와 같이 더 쉽게 쓸 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">J(<span class="string">"document.getElementById('name').value = 'Selenide'"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="Select-Box"><a href="#Select-Box" class="headerlink" title="Select Box"></a>Select Box</h2><p>위에서 잠깐 언급했듯이 Select Box는 개선되기는 했지만 여전히 말썽꾸러기다.<br>일단 아래와 같이 편리하게 Selenide API로 해보고,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Selenide API를 사용해서 "Selenide"라는 옵션을 선택</span></span><br><span class="line">$(<span class="string">"#bad-select-box"</span>).selectOption(<span class="string">"Selenide"</span>);</span><br></pre></td></tr></table></figure>
<p>이게 마음대로 작동하지 않으면, 이건 어디까지나 테스트 임을 명심하면서, Selenide API로 어떻게 안 될까 고집 부리지 말고(물론, 굳이 말릴 생각은 없으나, 여러가지로 해보니 잘 안된다는.. ㅠㅜ) 아래와 같이 JavaScript를 쓰는 방식으로 처리하자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">J(<span class="string">"document.getElementById('bad-select-box').selectedIndex='1'"</span>);</span><br><span class="line">J(<span class="string">"$('#bad-select-box').change()"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="Alert-창의-처리"><a href="#Alert-창의-처리" class="headerlink" title="Alert 창의 처리"></a>Alert 창의 처리</h2><p>요즘 같은 호화로운 UI 시대에 웬 Alert 창?</p>
<p>그래도 알아는 보자. Selenium에서는 Selenium IDE로 녹화할 때 alert 창 관련 아래와 같은 코드를 자동으로 생성해주므로, <code>closeAlertAndGetItsText</code> 메서드를 호출하면 Alert 창의 메시지를 비교해서 처리할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">WebDriver driver = WebDriverRunner.getWebDriver();</span><br><span class="line"><span class="keyword">boolean</span> acceptNextAlert = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">~~ 중략 ~~</span><br><span class="line"></span><br><span class="line">$(<span class="string">"#saveAcademy"</span>).click();</span><br><span class="line">assertEquals(<span class="string">"학력 정보를 성공적으로 저장했습니다."</span>, closeAlertAndGetItsText());</span><br><span class="line"></span><br><span class="line">~~ 중략 ~~</span><br><span class="line"><span class="comment">// Selenium이 자동 생성해주는 코드</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">closeAlertAndGetItsText</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Alert alert = driver.switchTo().alert();</span><br><span class="line">        String alertText = alert.getText();</span><br><span class="line">        <span class="keyword">if</span> (acceptNextAlert) &#123;</span><br><span class="line">            alert.accept();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            alert.dismiss();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> alertText;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        acceptNextAlert = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Selenide에서는 위의 내용을 Wrapping해서 <code>confirm</code>라는 메서드를 제공해준다. 그래서 아래와 같이 아주 단순하게 처리할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// WebDriver에 대한 의존성도 사라졌다!!</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">"#saveAcademy"</span>).click();</span><br><span class="line">confirm(<span class="string">"학력 정보를 성공적으로 저장했습니다."</span>);</span><br></pre></td></tr></table></figure>
<h2 id="readonly-의-처리"><a href="#readonly-의-처리" class="headerlink" title="readonly 의 처리"></a>readonly 의 처리</h2><p>readonly의 값은 Selenium으로도 Selenide로도 모두 설정할 수 없다. 어떻게 보면 당연하기도 한데, 그럼에도 불구하고 실무에서는 readonly의 값을 설정해야할 때도 있다. </p>
<p>예를 들면, 달력이나 또는 우편번호/주소 같은 경우 보통 팝업 창 등을 이용해서 검색을 통해 값을 설정하므로 readonly로 설정하지만, 테스트에서는 팝업 창 할 필요 없이 그냥 직접 값을 설정해주는 것이 편하기 때문이다.</p>
<p>이럴 때는 DOM API를 직접 쓰거나, 테스트 할 페이지가 jQuery를 사용할 수 있게 되어 있다면 jQuery로도 값을 설정할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// id가 'read-only'인 요소가 readonly 일 때</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Selenide API 사용 시 에러 발생</span></span><br><span class="line"><span class="comment">// org.openqa.selenium.InvalidElementStateException: Element is read-only and so may not be used for actions</span></span><br><span class="line">$(<span class="string">"#readonly-text"</span>).setValue(<span class="string">"ReadOnly는 Selenide API로는 안 된다고 전해라"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// DOM API 사용 가능</span></span><br><span class="line">J(<span class="string">"document.getElementById('readonly-text').value = 'DOM API는 된다'"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// jQuery 사용 가능(단, 테스트 대상 웹 페이지 자체가 jQuery를 쓸 수 있게 되어 있어야 함)</span></span><br><span class="line">J(<span class="string">"$('#readonly-text').val('jQuery도 된다')"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="hidden의-처리"><a href="#hidden의-처리" class="headerlink" title="hidden의 처리"></a>hidden의 처리</h2><p>화면에 렌더링 되지 않는 hidden 요소의 값도 Selenium이나 Selenide로는 변경하지 못한다. 따라서 DOM API나 jQuery를 써야한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// id가 'hidden-text'인 요소가 hidden 일 때</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Selenide API 사용 시 에러 발생</span></span><br><span class="line"><span class="comment">// Element not found &#123;#hidden-text&#125;</span></span><br><span class="line">$(<span class="string">"#hidden-text"</span>).setValue(<span class="string">"hidden은 Selenide API로는 안 된다고 전해라"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// DOM API 사용 가능</span></span><br><span class="line">J(<span class="string">"document.getElementById('hidden-text').value = 'DOM API는 된다'"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// jQuery 사용 가능(단, 테스트 대상 웹 페이지 자체가 jQuery를 쓸 수 있게 되어 있어야 함)</span></span><br><span class="line">J(<span class="string">"$('#hidden-text').val('jQuery도 된다')"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="가-포함된-아이디의-CSS-Selector"><a href="#가-포함된-아이디의-CSS-Selector" class="headerlink" title=".가 포함된 아이디의 CSS Selector"></a>.가 포함된 아이디의 CSS Selector</h2><p>이건 팁이라기보다는 일반적인 사용법에 가까운데, 아이디에 . 가 포함되면 CSS Selector를 작성할 때 적절히 escape 처리를 해줘야 한다. </p>
<p>Spring의 <code>form</code> taglib과 <code>path</code> 속성을 사용했다면 . 를 처리해줄 일이 많을 것이다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Selenide API 사용 시 . 앞에 \를 2회 써준다.</span></span><br><span class="line">$(<span class="string">"#obj\\.prop"</span>).setValue(<span class="string">"역슬래쉬 2회"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// getElementById()는 CSS Selector를 사용하지 않으므로 escape 불필요</span></span><br><span class="line">J(<span class="string">"document.getElementById('obj.prop').value = 'Escape 처리 불필요'"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// CSS Selector를 사용하는 </span></span><br><span class="line"><span class="comment">// document.querySelector(), document.querySelectorAll() 과 jQuery의 $ 메서드에는 역슬래쉬 4회 써준다.</span></span><br><span class="line">J(<span class="string">"$('#obj\\\\.prop').val('역슬래쉬 4회')"</span>);</span><br></pre></td></tr></table></figure>
<h1 id="실제-소스-예"><a href="#실제-소스-예" class="headerlink" title="실제 소스 예"></a>실제 소스 예</h1><p>프로젝트에 실제 적용한 소스의 일부이다. JUnit과 함께 사용하는 방법은 <a href="http://hanmomhanda.github.io/2015/09/23/Selenium-%EA%BF%80%ED%8C%81/" target="_blank" rel="noopener">Selenium 꿀팁</a>를 참고하자.</p>
<img src="/2016/01/27/Selenide-꿀팁/selenide-01.png">
<h1 id="정리"><a href="#정리" class="headerlink" title="정리"></a>정리</h1><blockquote>
<ul>
<li>Java로 브라우저 사용자 테스트 할 때 Selenide 쓰자. Selenium에 비해 정말 많이 편해졌다.</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>화면에 보이지 않는 요소에는 값 설정, 클릭 등의 액션을 처리할 수 없으므로, 적절히 화면 scroll 해주는 소스를 추가해줘야 한다.</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>waitUntil()로 다양한 상황에서의 대기 처리를 쉽게 할 수 있다.</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Selenide API로 안되는 여러 상황(hidden, readonly, alert 창 등)에서는 Selenium에서 했던 방법대로 JavaScript를 사용하자. </li>
</ul>
</blockquote>
<h1 id="더-읽을-거리"><a href="#더-읽을-거리" class="headerlink" title="더 읽을 거리"></a>더 읽을 거리</h1><ul>
<li><a href="http://hanmomhanda.github.io/2015/09/23/Selenium-%EA%BF%80%ED%8C%81/" target="_blank" rel="noopener">Selenium 꿀팁</a></li>
</ul>
<h1 id="참고-자료"><a href="#참고-자료" class="headerlink" title="참고 자료"></a>참고 자료</h1><ul>
<li><a href="https://github.com/codeborne/selenide/wiki/Selenide-vs-Selenium" target="_blank" rel="noopener">https://github.com/codeborne/selenide/wiki/Selenide-vs-Selenium</a></li>
<li><a href="https://gist.github.com/mkpythonanywhereblog/947633ba1bf0bc239639" target="_blank" rel="noopener">https://gist.github.com/mkpythonanywhereblog/947633ba1bf0bc239639</a></li>
<li><a href="http://selenide-recipes.blogspot.kr/2015/08/6-waits.html" target="_blank" rel="noopener">http://selenide-recipes.blogspot.kr/2015/08/6-waits.html</a></li>
</ul>

        
        
            
        
        <hr/>
        <div>
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="크리에이티브 커먼즈 라이선스" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><a href='https://github.com/homoefficio' target='_blank'>HomoEfficio</a>가 작성한 이 저작물은(는) <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">크리에이티브 커먼즈 저작자표시-비영리-동일조건변경허락 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.
        </div>
    </div>
    <div class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/Acceptance-Test/">Acceptance Test</a> <a class="tag tag--primary tag--small t-link" href="/tags/Browser-Test/">Browser Test</a> <a class="tag tag--primary tag--small t-link" href="/tags/JUnit/">JUnit</a> <a class="tag tag--primary tag--small t-link" href="/tags/Selenide/">Selenide</a> <a class="tag tag--primary tag--small t-link" href="/tags/Selenium/">Selenium</a> <a class="tag tag--primary tag--small t-link" href="/tags/Test/">Test</a> <a class="tag tag--primary tag--small t-link" href="/tags/WebDriver/">WebDriver</a> <a class="tag tag--primary tag--small t-link" href="/tags/브라우저-테스트/">브라우저 테스트</a> <a class="tag tag--primary tag--small t-link" href="/tags/셀레나이드/">셀레나이드</a> <a class="tag tag--primary tag--small t-link" href="/tags/셀레늄/">셀레늄</a> <a class="tag tag--primary tag--small t-link" href="/tags/웹-드라이버/">웹 드라이버</a> <a class="tag tag--primary tag--small t-link" href="/tags/인수-테스트/">인수 테스트</a> <a class="tag tag--primary tag--small t-link" href="/tags/테스트/">테스트</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/02/03/AWS-다른-계정의-서울-Region-S3로-이사가기/"  data-tooltip="AWS - 다른 계정의 서울 Region S3로 이사가기">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/23/BlockChain-기초-개념/" data-tooltip="BlockChain 기초 개념">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>
        
            <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 HomoEfficio. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/02/03/AWS-다른-계정의-서울-Region-S3로-이사가기/"  data-tooltip="AWS - 다른 계정의 서울 Region S3로 이사가기">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/23/BlockChain-기초-개념/" data-tooltip="BlockChain 기초 개념">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>
                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="1">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://homoefficio.github.io/2016/01/27/Selenide-꿀팁/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        <div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="https://www.gravatar.com/avatar/30f0244ab86396288cdb62c3591c0c30?s=110"/>
        
            <h4 id="about-card-name">HomoEfficio</h4>
        
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Seoul, Korea.
            </h5>
        
    </div>
</div>
        <div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js"></script>
<!--SCRIPTS END-->

    <script type="text/javascript">
        var disqus_shortname = 'hanmomhanda';
        (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>



</html>
