<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="뒤태지존의 끄적거림">
    <title>Hello Triangle in WebGL - 뒤태지존의 끄적거림</title>
    <meta name="author" content="HomoEfficio">
    <meta name="description" content="뒤태지존의 끄적거림">
    
        <link rel="icon" href="/assets/images/favicon.ico">
    
    
        <link rel="alternative" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="Hello Triangle in WebGL위 커버이미지는 31,000개가 넘는 토끼 들이 화면 내에서 60fps 수준을 유지하면서 마음대로 뛰어다니는 장면을 캡쳐한 것이다. http://www.goodboydigital.com/pixijs/bunnymark_v3/ 에서 직접 해볼 수 있다.일반적인 DOM 핸들링으로는 내기 어려운 성능의 그래픽을 가능하게 해">
<meta name="keywords" content="WebGL,웹지엘,Graphics,그래픽스">
<meta property="og:type" content="blog">
<meta property="og:title" content="Hello Triangle in WebGL">
<meta property="og:url" content="http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/index.html">
<meta property="og:site_name" content="뒤태지존의 끄적거림">
<meta property="og:description" content="Hello Triangle in WebGL위 커버이미지는 31,000개가 넘는 토끼 들이 화면 내에서 60fps 수준을 유지하면서 마음대로 뛰어다니는 장면을 캡쳐한 것이다. http://www.goodboydigital.com/pixijs/bunnymark_v3/ 에서 직접 해볼 수 있다.일반적인 DOM 핸들링으로는 내기 어려운 성능의 그래픽을 가능하게 해">
<meta property="og:locale" content="ko">
<meta property="og:updated_time" content="2018-10-13T15:49:56.208Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hello Triangle in WebGL">
<meta name="twitter:description" content="Hello Triangle in WebGL위 커버이미지는 31,000개가 넘는 토끼 들이 화면 내에서 60fps 수준을 유지하면서 마음대로 뛰어다니는 장면을 캡쳐한 것이다. http://www.goodboydigital.com/pixijs/bunnymark_v3/ 에서 직접 해볼 수 있다.일반적인 DOM 핸들링으로는 내기 어려운 성능의 그래픽을 가능하게 해">
    
        <meta rel="publisher" content="https://plus.google.com/+오명운"/>
    
    
    
        <meta property="og:image" content="https://www.gravatar.com/avatar/30f0244ab86396288cdb62c3591c0c30?s=640"/>
    
    
        <meta property="og:image" content="/2015/10/17/Hello-Triangle-in-WebGL/http:/www.davevoyles.com/wp-content/uploads/2014/10/webgl-html5.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/http://www.davevoyles.com/wp-content/uploads/2014/10/webgl-html5.png" />
    
    
        <meta property="og:image" content="/2015/10/17/Hello-Triangle-in-WebGL/webgl-bunnymark.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/webgl-bunnymark.png" />
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-79893978-1']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6494847158566766",
    enable_page_level_ads: true
  });
</script>
</head>

    <body>
        <div id="blog">
            <header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">뒤태지존의 끄적거림</a>
    </h1>
    
        <a class="header-right-picture" href="/#about">
            <img class="header-picture" src="https://www.gravatar.com/avatar/30f0244ab86396288cdb62c3591c0c30?s=90"/>
        </a>
    
</header>
            <nav id="sidebar" data-behavior="1">
    
    <div class="sidebar-profile">
        <a href="/#about">
            
            <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/30f0244ab86396288cdb62c3591c0c30?s=90"/>
            
        </a>
        <span class="sidebar-profile-name">HomoEfficio</span>
    </div>
    
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/ 
                    ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-categories
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-tags
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-archives
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link st-search-show-outputs"
                    href="#search
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="#about
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About me</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="https://github.com/HomoEfficio" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="mailto:homo.efficio@gmail.com" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                    <span class="sidebar-button-desc">Mail</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/atom.xml
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>
            <div id="main" data-behavior="1">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
        <div class="post-header-cover" style="background-image:url('/2015/10/17/Hello-Triangle-in-WebGL/webgl-bunnymark.png');">
            <div class="post-header main-content-wrap">
    
        <h1 class="post-title" itemprop="headline">Hello Triangle in WebGL</h1>
    
    <div class="post-meta">
    <time  itemprop="datePublished" content="Sat Oct 17 2015 22:31:20 GMT+0900">
        Oct 17, 2015
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/WebGL/">WebGL</a>


    
</div>
</div>
        </div>
    
    <div class="post-content markdown main-content-wrap" itemprop="articleBody">
        
            <h1 id="Hello-Triangle-in-WebGL"><a href="#Hello-Triangle-in-WebGL" class="headerlink" title="Hello Triangle in WebGL"></a>Hello Triangle in WebGL</h1><p>위 커버이미지는 31,000개가 넘는 토끼 들이 화면 내에서 60fps 수준을 유지하면서 마음대로 뛰어다니는 장면을 캡쳐한 것이다. <a href="http://www.goodboydigital.com/pixijs/bunnymark_v3/" target="_blank" rel="noopener">http://www.goodboydigital.com/pixijs/bunnymark_v3/</a> 에서 직접 해볼 수 있다.<br><strong>일반적인 DOM 핸들링으로는 내기 어려운 성능의 그래픽을 가능하게 해주는 것이 바로 WebGL이다.</strong></p>
<blockquote>
<p>WebGL은</p>
<ul>
<li>아무런 플러그인 없이</li>
<li>브라우저 자체만으로</li>
<li>GPU를 이용하는</li>
<li>고성능 3D 그래픽을</li>
</ul>
<p>그릴 수 있게 해주는 그래픽 라이브러리다.</p>
</blockquote>
<p>프로그래밍 언어를 배울 때 보통 Hello World를 찍어보는 것으로 시작하는데, 그래픽스를 다루는 WebGL에서는 화면에 삼각형을 그리는 것으로 시작한다.</p>
<p>Hello World를 찍는 데는 사실 사전 지식이 거의 필요없다. 하지만, WebGL로 브라우저 화면에 삼각형을 그리려면 상상 이상으로 많은 사전 지식이 필요하다. 그런 사전 지식은 검색해보면 비록 영어지만 꽤 많은 자료가 있다. 하지만 그 사전 지식을 알려준 후, <strong>실제 삼각형을 그릴 때 작성하는 Hello Triangle 소스 코드에 대한 친절한 설명은 쉽게 찾아보기 어렵다</strong>.</p>
<p>그래서 한글로 된! 게다가 엄청 친절한! 주석이 가득한 소스 코드를 올려본다.<br>아래 소스 코드는 본격 하드코어 개발 커뮤니티인 <a href="https://www.facebook.com/groups/bs5js" target="_blank" rel="noopener">ProjectBS</a>의 스터디 내용을 정리하면서 작성했으며, <a href="http://www.yes24.com/24/goods/18486582" target="_blank" rel="noopener">WebGL을 활용한 3D 그래픽 프로그래밍</a>에 나와있는 소스를 이해하기 쉽게 더 가다듬었다.</p>
<p><strong>단언컨대, 이렇게 친절하고, 자세한, 무려 한글로 된 WebGL Hello Triangle 소스 코드는 이것 말고는 없다! ㅋㅋ</strong><br>(삼각형을 그리는데 필요한 WebGL에 대한 사전 지식은 다음 기회에..=3=3)</p>
<figure class="highlight html"><figcaption><span>Hello Triangle in WebGL</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"ko"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span> WebGL 삼각형 그리기 <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">"vertexShaderSource"</span> <span class="attr">type</span>=<span class="string">"x-shader/x-vertex"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="comment">// type에는 text/javascript가 아닌 임의의 값을 주면 됨.</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//     javascript로 해석되지 않도록 하는 것이 목적</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">attribute vec3 aVertexPosition;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// attribute : 셰이더 변수 종류(attribute | uniform | varying)</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// vec3 : 배열 타입, vec3는 3행 배열</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// aVertexPosition : 배열 이름, 3개의 원소로 한 개의 버텍스를 나타내며, 버텍스의 값은 대개 CPU에서 전달받는다.</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//                   관습적으로 맨 앞에 a를 붙여서 attribute임을 표시</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="keyword">void</span> main() &#123;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 버텍스 하나 마다 실행되는 버텍스 셰이더 실행부</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//     버퍼에 있는 배열 데이터는 gl.vertexAttribPointer()의 파라미터에 있는 정보를 기준으로 여러 개의 버텍스로 분리되고,</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//     여러 개의 버텍스는 여러 개의 코어에서 이 main() 함수에 의해 한 번에 병렬 처리된다.</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    gl_Position = vec4(aVertexPosition, 1.0);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// vec4() : 네 개의 원소를 파라미터로 받아서 4행 벡터를 반환하는 함수</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// aVertexPosition : 세 개의 원소(x, y, z)로 한 개의 버텍스를 나타내는 변수.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1.0 : 버텍스는 점 이므로 1.0(동차좌표계 내용(https://github.com/hanmomhanda/WebGL-Study#동차-좌표계) 참고)</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// gl_Position : 버텍스 셰이더의 내장 변수. 동차좌표계를 사용하므로 vec4 타입만 받는다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 별도의 return 문 없이도 gl_Position에 할당된 값이</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//     파이프라인 상에서 버텍스 셰이더의 다음 단계(primitive 조립)의 입력값으로 전달된다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 이 예제에서는 단순히 버텍스 하나를 그대로 gl_Position에 할당할 뿐이지만,</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//     일반적인 경우 버텍스에 여러가지 변환 연산을 적용한 후에 gl_Position에 값을 할당한다.</span></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">"fragmentShaderSource"</span> <span class="attr">type</span>=<span class="string">"x-shader/x-fragment"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="comment">// type에는 text/javascript가 아닌 임의의 값을 주면 됨.</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//     javascript로 해석되지 않도록 하는 것이 목적</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">precision mediump float;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// precision : 데이터의 정밀도 지정</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// mediump : 정밀도 수준(highp | mediump | lowp) 대부분의 경우 mediump를 사용</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// float : 부동소수형 데이터</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="keyword">void</span> main() &#123;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 프래그먼트 하나마다 실행되는 프래그먼트 셰이더 실행부</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//     프래그먼트 셰이더는 파이프라인 상에서 래스터라이징의 바로 다음 단계에 있으며,</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//     래스터라이징의 결과물인 프래그먼트 하나하나마다 이 main() 함수가 실행되는데,</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//     여러 개의 코어에서 이 main() 함수가 각기 다른 프래그먼트 정보를 기준으로 한 번에 병렬 실행된다.</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1.0, 1.0, 1.0, 1.0 : r, g, b, a 값</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// gl_FragColor : 프래그먼트셰이더의 내장 변수. rgba 값을 사용하므로 vec4 타입만 받는다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 별도의 return 문 없이도 gl_FragColor에 할당된 값이</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//     파이프라인 상에서 프래그먼트 셰이더의 다음 단계(가위 테스트)의 입력값으로 전달된다.</span></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">startup</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// WebGL 컨텍스트 생성</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'webGLCanvas'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> gl = createGLContext(canvas);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 셰이더 준비</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> shaderProgram = setupShaders(gl);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 버퍼 준비</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> vertexBuffer = setupBuffers(gl);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 화면 준비</span></span></span><br><span class="line"><span class="undefined">    setupViewport(gl, canvas);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 그리기</span></span></span><br><span class="line"><span class="undefined">    draw(gl, shaderProgram, vertexBuffer);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">/**</span></span><br><span class="line"><span class="undefined"> * WebGL 컨텍스트 생성</span></span><br><span class="line"><span class="undefined"> *     canvas에서 WebGL 컨텍스트를 가져온다.</span></span><br><span class="line"><span class="undefined"> *</span></span><br><span class="line"><span class="undefined"> * @canvas WebGL 컨텍스트를 가지고 있는 HTML 캔버스 요소</span></span><br><span class="line"><span class="undefined"> */</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">createGLContext</span><span class="params">(canvas)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> glNames = [ <span class="string">"webgl"</span>, <span class="string">"experimental-webgl"</span> ]; <span class="comment">// experimental-webgl은 WebGL이 정식으로 지원되지 않을 때 사용되던 이름</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> context;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = glNames.length; i &lt; l ; i++) &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// try 문은 canvas.getContext() 실행 중 에러가 나더라도</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 스크립트 실행이 정지되지 않고 glNames의 다음 요소로 다시 시도하게 한다.</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="undefined">            context = canvas.getContext(glNames[i]);</span></span><br><span class="line"><span class="actionscript">        &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">if</span> (context)</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> context;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 컨텍스트가 없으면 종료</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (!context) &#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">"Fail to get WebGL Context"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="literal">null</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">/**</span></span><br><span class="line"><span class="undefined"> * 셰이더 준비</span></span><br><span class="line"><span class="undefined"> *     버텍스 셰이더, 프래그먼트 셰이더의 소스를 읽고, 컴파일하고</span></span><br><span class="line"><span class="undefined"> *     셰이더 프로그램에 두 셰이더를 추가하고, 링크한다.</span></span><br><span class="line"><span class="undefined"> *</span></span><br><span class="line"><span class="actionscript"> * @gl WebGL 컨텍스트. <span class="string">'gl.~~~()는 버스를 통해 GPU에게 무언가를 시키는 것이다.'</span>라고 해석하자.</span></span><br><span class="line"><span class="undefined"> */</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">setupShaders</span><span class="params">(gl)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 버텍스 셰이더 소스를 문자열로 담아온다.</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> vertexShaderSource = <span class="built_in">document</span>.getElementById(<span class="string">'vertexShaderSource'</span>).text;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 버텍스 셰이더를 담을 그릇을 GPU한테 받아온다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> vertexShader = gl.createShader(gl.VERTEX_SHADER);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// vertexShader라는 그릇에 vertexShaderSource를 담아서 GPU에 보내고</span></span></span><br><span class="line"><span class="undefined">    gl.shaderSource(vertexShader, vertexShaderSource);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// GPU에게 vertexShader를 컴파일하도록 시킨다.</span></span></span><br><span class="line"><span class="undefined">    gl.compileShader(vertexShader);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 컴파일이 제대로 되었는지도 GPU에게 시켜서 확인</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) &#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">"Error compiling vertex shader : "</span> + gl.getShaderInfoLog(vertexShader));</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 컴파일이 실패했으면 GPU 메모리에서 vertexShader를 지우도록 GPU에게 시킨다.</span></span></span><br><span class="line"><span class="undefined">        gl.deleteShader(vertexShader);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="literal">null</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 위의 버텍스 셰이더와 똑같은 과정</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> fragmentShaderSource = <span class="built_in">document</span>.getElementById(<span class="string">'fragmentShaderSource'</span>).text;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);</span></span><br><span class="line"><span class="undefined">    gl.shaderSource(fragmentShader, fragmentShaderSource);</span></span><br><span class="line"><span class="undefined">    gl.compileShader(fragmentShader);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) &#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">"Error compiling fragment shader : "</span> + gl.getShaderInfoLog(fragmentShader));</span></span><br><span class="line"><span class="undefined">        gl.deleteShader(fragmentShader);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="literal">null</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 셰이더 프로그램을 담을 그릇을 GPU한테 얻어온다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> shaderProgram = gl.createProgram();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 셰이더 프로그램 그릇에 컴파일 된 두 셰이더를 담는다.</span></span></span><br><span class="line"><span class="undefined">    gl.attachShader(shaderProgram, vertexShader);</span></span><br><span class="line"><span class="undefined">    gl.attachShader(shaderProgram, fragmentShader);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 컴파일 된 두 셰이더를 링크한다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 링크할 때 버텍스 셰이더의 varying 변수와 프래그먼트 셰이더의 varying 변수가 연결된다.</span></span></span><br><span class="line"><span class="undefined">    gl.linkProgram(shaderProgram);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 링크가 제대로 되었는지도 GPU에게 시켜서 확인</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) &#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">"Failed to link shaders"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 링크가 실패했으면 GPU 메모리에서 shaderProgram를 지우도록 GPU에게 시킨다.</span></span></span><br><span class="line"><span class="undefined">        gl.deleteProgram(shaderProgram);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="literal">null</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 링크까지 성공했으면 그리는데 shaderProgram을 이용하도록 GPU에게 시킨다.</span></span></span><br><span class="line"><span class="undefined">    gl.useProgram(shaderProgram);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> shaderProgram;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">/**</span></span><br><span class="line"><span class="undefined"> * 버퍼 준비</span></span><br><span class="line"><span class="undefined"> *     삼각형을 그릴 정보를 버퍼에 담는다.</span></span><br><span class="line"><span class="undefined"> *</span></span><br><span class="line"><span class="actionscript"> * @gl WebGL 컨텍스트. <span class="string">'gl.~~~()는 버스를 통해 GPU에게 무언가를 시키는 것이다.'</span>라고 해석하자.</span></span><br><span class="line"><span class="undefined"> */</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">setupBuffers</span><span class="params">(gl)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 버퍼를 담을 그릇을 GPU한테 얻어온다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> vertexBuffer = gl.createBuffer();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// GPU 메모리 내에 있는 gl.ARRAY_BUFFER라는 key에 vertexBuffer를 바인딩하도록 GPU에게 시킨다.</span></span></span><br><span class="line"><span class="undefined">    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 삼각형의 버텍스 정보(x, y, z 좌표값)</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 좌표값은 WebGL이 표시되는 영역의 중심을 원점으로 -1.0 ~ 1.0 사이의 값을 쓴다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 어떤 값을 -1.0 ~ 1.0 사이의 값으로 환산하여 표시하는 것을 정규화라고 한다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> triangleVertices = [</span></span><br><span class="line"><span class="undefined">         0.0,  0.5,  0.0,</span></span><br><span class="line"><span class="undefined">        -0.5, -0.5,  0.0,</span></span><br><span class="line"><span class="undefined">         0.5, -0.5,  0.0</span></span><br><span class="line"><span class="undefined">    ];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 삼각형 정보를 Array Buffer에 담고, Array Buffer의 Float32 형 View인 Typed Array를 반환한다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// Array Buffer, Typed Array는 3강 내용 참고</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> typedArray = <span class="keyword">new</span> <span class="built_in">Float32Array</span>(triangleVertices);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// GPU 메모리 내에 있는 gl.ARRAY_BUFFER라는 key에 바인딩 되어 있는 버퍼(vertexBuffer)에</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//     삼각형 정보를 담도록 GPU에게 시킨다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// https://github.com/projectBS/S63-WebGL/blob/master/Day2-20150908.md#glcreatebuffer-glbindbuffer-glbufferdata 참고</span></span></span><br><span class="line"><span class="undefined">    gl.bufferData(gl.ARRAY_BUFFER, typedArray, gl.STATIC_DRAW);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 버텍스 하나의 위치를 나타내는 정보의 개수(1 ~ 4의 값 가능. 2D context라면 2를 쓴다. 여기서는 x, y, z를 사용하므로 3)</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 나중에 gl.vertexAttribPointer()에 사용</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// itemsPerVertex는 내장 변수 아님</span></span></span><br><span class="line"><span class="undefined">    vertexBuffer.itemsPerVertex = 3;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 버텍스의 갯수(여기서는 삼각형이므로 3)</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 나중에 gl.draw~~~()에 사용</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// numOfVertices는 내장 변수 아님</span></span></span><br><span class="line"><span class="undefined">    vertexBuffer.numOfVertices = 3;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> vertexBuffer;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">/**</span></span><br><span class="line"><span class="undefined"> * 화면 준비</span></span><br><span class="line"><span class="undefined"> *     GPU에게 화면의 viewport 범위를 지정하도록 시키고,</span></span><br><span class="line"><span class="undefined"> *     viewport 범위를 싹 칠해버릴 색깔을 지정하도록 시킨다.</span></span><br><span class="line"><span class="undefined"> *</span></span><br><span class="line"><span class="actionscript"> * @gl WebGL 컨텍스트. <span class="string">'gl.~~~()는 버스를 통해 GPU에게 무언가를 시키는 것이다.'</span>라고 해석하자.</span></span><br><span class="line"><span class="undefined"> * @canvas  viewport 범위 정보를 가지고 있는 캔버스</span></span><br><span class="line"><span class="undefined"> */</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">setupViewport</span><span class="params">(gl, canvas)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// GPU에게 캔버스의 전체를 viewport 로 지정하도록 시킨다.</span></span></span><br><span class="line"><span class="undefined">    gl.viewport(0, 0, canvas.width, canvas.height);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// GPU에게 viewport 범위를 싹 칠해버릴 색깔을 지정하도록 시킨다.</span></span></span><br><span class="line"><span class="undefined">    gl.clearColor(0.0, 0.0, 0.2, 1.0);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">/**</span></span><br><span class="line"><span class="undefined"> * 그리기</span></span><br><span class="line"><span class="undefined"> *     GPU에 각종 버퍼 정보를 전달해주고, gl.draw~~~()로 GPU에게 그리기를 시킨다.</span></span><br><span class="line"><span class="undefined"> *</span></span><br><span class="line"><span class="undefined"> * @gl</span></span><br><span class="line"><span class="undefined"> * @shaderProgram</span></span><br><span class="line"><span class="undefined"> * @vertexBuffer</span></span><br><span class="line"><span class="undefined"> */</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">draw</span><span class="params">(gl, shaderProgram, vertexBuffer)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// GPU에게 viewport 범위를 지정된 색으로 싹 칠하도록 시킨다.</span></span></span><br><span class="line"><span class="undefined">    gl.clear(gl.COLOR_BUFFER_BIT);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// shaderProgram 내에서 aVertexPosition에 접근할 수 있는 위치값(포인터)을 GPU한테 시켜서 받아온다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> indexOfVertexPositionAttrubite = gl.getAttribLocation(shaderProgram, <span class="string">"aVertexPosition"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// aVertexPosition의 위치값을 이용해서 aVertexPosition에</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//     현재 gl.ARRAY_BUFFER라는 key에 바인딩 되어 있는 버퍼(vertexBuffer, 삼각형 버텍스정보를 담고 있다)를</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//     할당하도록 GPU에게 시킨다.</span></span></span><br><span class="line"><span class="undefined">    gl.vertexAttribPointer(</span></span><br><span class="line"><span class="actionscript">        indexOfVertexPositionAttrubite, <span class="comment">// index : aVertexPosition에 접근할 수 있는 위치값</span></span></span><br><span class="line"><span class="actionscript">        vertexBuffer.itemsPerVertex,    <span class="comment">// size : 버텍스 하나의 위치를 나타내는 위치 정보의 개수. x, y, z라서 3</span></span></span><br><span class="line"><span class="actionscript">        gl.FLOAT,                       <span class="comment">// type : vertexBuffer에 담겨있는 데이터 타입(gl.FLOAT | gl.FIXED)</span></span></span><br><span class="line"><span class="actionscript">        <span class="literal">false</span>,                          <span class="comment">// float이 아닌 데이터를 float로 변환할 지 여부</span></span></span><br><span class="line"><span class="actionscript">        <span class="number">0</span>,                              <span class="comment">// stride : 버텍스 하나를 구성하는 byte 수(0 ~ 255의 값)</span></span></span><br><span class="line"><span class="actionscript">                                        <span class="comment">//          stride == (위치 정보 개수 + 기타 정보 개수) * 데이터타입의 byte수</span></span></span><br><span class="line"><span class="actionscript">                                        <span class="comment">//          0이면 기타 정보 개수가 0인 것으로 간주한다.</span></span></span><br><span class="line"><span class="actionscript">                                        <span class="comment">//          여기서는 기타 정보 없이 위치 정보 개수가 3이므로</span></span></span><br><span class="line"><span class="actionscript">                                        <span class="comment">//          stride에 0을 주는 것과 12(위치 정보 개수 3 * float의 byte 수 4)를</span></span></span><br><span class="line"><span class="actionscript">                                        <span class="comment">//          주는 것은 같은 결과를 보여준다.</span></span></span><br><span class="line"><span class="actionscript">        <span class="number">0</span>                               <span class="comment">// offset : 추출하고자 하는 정보의 시작 위치(byte 단위)</span></span></span><br><span class="line"><span class="actionscript">                                        <span class="comment">//          여기서는 기타 정보가 없으므로 0이지만</span></span></span><br><span class="line"><span class="actionscript">                                        <span class="comment">//          기타 정보가 있는 경우 0이외의 값이 올 수 있음</span></span></span><br><span class="line"><span class="actionscript">                                        <span class="comment">// stride와 offset은 http://stackoverflow.com/a/16888156 참고</span></span></span><br><span class="line"><span class="undefined">    );</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 파라미터로 지정된 위치에 있는 attribute 변수를 활성화 한다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 활성화의 의미는 그릴 때 이 attribute 변수의 내용을 사용하도록 한다는 의미</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 안 쓸 때는 disableVertexAttribArray(index)를 해준다.</span></span></span><br><span class="line"><span class="undefined">    gl.enableVertexAttribArray(</span></span><br><span class="line"><span class="actionscript">        indexOfVertexPositionAttrubite  <span class="comment">// index : enable할 attribute 변수의 위치값</span></span></span><br><span class="line"><span class="undefined">    );</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// GPU에게 최종적으로 그리기를 시킨다.</span></span></span><br><span class="line"><span class="undefined">    gl.drawArrays(</span></span><br><span class="line"><span class="actionscript">        gl.TRIANGLES, <span class="comment">// mode : 그리는 방법을 지정. 정확하게는 버퍼 데이터로 생성할 primitive를 지정</span></span></span><br><span class="line"><span class="actionscript">                      <span class="comment">//        파이프라인 상에서 버텍스 셰이더의 다음 단계인 Primitive 조립 에서</span></span></span><br><span class="line"><span class="actionscript">                      <span class="comment">//        이 mode 값에 지정된 방식대로 Primitive를 조립한다.</span></span></span><br><span class="line"><span class="actionscript">        <span class="number">0</span>,            <span class="comment">// first : 그리기에 사용할 첫번째 버텍스의 위치(0이 아니면 안되던데..)</span></span></span><br><span class="line"><span class="actionscript">        vertexBuffer.numOfVertices  <span class="comment">// count : 버텍스의 갯수</span></span></span><br><span class="line"><span class="undefined">    );</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"startup();"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"webGLCanvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

        
        
            
        
        <hr/>
        <div>
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="크리에이티브 커먼즈 라이선스" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><a href='https://github.com/homoefficio' target='_blank'>HomoEfficio</a>가 작성한 이 저작물은(는) <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">크리에이티브 커먼즈 저작자표시-비영리-동일조건변경허락 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.
        </div>
    </div>
    <div class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/Graphics/">Graphics</a> <a class="tag tag--primary tag--small t-link" href="/tags/WebGL/">WebGL</a> <a class="tag tag--primary tag--small t-link" href="/tags/그래픽스/">그래픽스</a> <a class="tag tag--primary tag--small t-link" href="/tags/웹지엘/">웹지엘</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/16/JavaScript-식별자-찾기-대모험/"  data-tooltip="JavaScript 식별자 찾기 대모험">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/10/16/번역할-뻔-했던-Patterns-of-Enterprise-Application-Architecture/" data-tooltip="번역할 뻔 했던 Patterns of Enterprise Application Architecture">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>
        
            <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 HomoEfficio. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/16/JavaScript-식별자-찾기-대모험/"  data-tooltip="JavaScript 식별자 찾기 대모험">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/10/16/번역할-뻔-했던-Patterns-of-Enterprise-Application-Architecture/" data-tooltip="번역할 뻔 했던 Patterns of Enterprise Application Architecture">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>
                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="1">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://homoefficio.github.io/2015/10/17/Hello-Triangle-in-WebGL/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        <div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="https://www.gravatar.com/avatar/30f0244ab86396288cdb62c3591c0c30?s=110"/>
        
            <h4 id="about-card-name">HomoEfficio</h4>
        
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Seoul, Korea.
            </h5>
        
    </div>
</div>
        <div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js"></script>
<!--SCRIPTS END-->

    <script type="text/javascript">
        var disqus_shortname = 'hanmomhanda';
        (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>



</html>
