<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ë’¤íƒœì§€ì¡´ì˜ ë„ì ê±°ë¦¼</title>
  
  <subtitle>ê°œë°œ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://homoefficio.github.io/"/>
  <updated>2020-07-23T08:00:46.995Z</updated>
  <id>http://homoefficio.github.io/</id>
  
  <author>
    <name>HomoEfficio</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JPA í•„ìš”í•œ ê²ƒë§Œ ì¡°íšŒí•˜ì</title>
    <link href="http://homoefficio.github.io/2020/07/23/JPA-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%83%EB%A7%8C-%EC%A1%B0%ED%9A%8C%ED%95%98%EC%9E%90/"/>
    <id>http://homoefficio.github.io/2020/07/23/JPA-í•„ìš”í•œ-ê²ƒë§Œ-ì¡°íšŒí•˜ì/</id>
    <published>2020-07-23T06:57:12.000Z</published>
    <updated>2020-07-23T08:00:46.995Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JPA-í•„ìš”í•œ-ê²ƒë§Œ-ì¡°íšŒí•˜ì"><a href="#JPA-í•„ìš”í•œ-ê²ƒë§Œ-ì¡°íšŒí•˜ì" class="headerlink" title="JPA í•„ìš”í•œ ê²ƒë§Œ ì¡°íšŒí•˜ì"></a>JPA í•„ìš”í•œ ê²ƒë§Œ ì¡°íšŒí•˜ì</h1><p>JPA ëŠ” í¸ë¦¬í•˜ì§€ë§Œ í¸ë¦¬í•¨ ë’¤ì— ìˆ¨ì–´ìˆëŠ” ì„±ëŠ¥ ì†ì‹¤ ìœ„í—˜ì´ ìˆë‹¤. ì´ê±´ JPAê°€ ê·¸ ìì²´ë¡œ ì„±ëŠ¥ ìƒ ë¶ˆë¦¬í•˜ë‹¤ëŠ” ì–˜ê¸°ê°€ ì•„ë‹ˆë¼, í¸í•˜ê²Œë§Œ ì“°ë‹¤ë³´ë©´ ì˜ëª» ì“°ëŠ” ê¸¸ë¡œ ë¹ ì ¸ì„œ ì„±ëŠ¥ì— í•´ë¥¼ ë¼ì¹  ìœ„í—˜ë„ ê½¤ ìˆë‹¤ëŠ” ì–˜ê¸°ë‹¤.</p><p>ì—¬ëŸ¬ê°€ì§€ ì›ì¹™ì´ ìˆê² ì§€ë§Œ, ì´ë²ˆì— ê¸°ì–µí•´ë‘¬ì•¼ í•  ì›ì¹™ì€ <strong>JPAëŠ” í•„ìš”í•œ ê²ƒë§Œ ì¡°íšŒí•˜ì</strong></p><h2 id="ì—”í‹°í‹°"><a href="#ì—”í‹°í‹°" class="headerlink" title="ì—”í‹°í‹°"></a>ì—”í‹°í‹°</h2><p>ì•„ë˜ëŠ” ì–´ë–¤ ì¹´í…Œê³ ë¦¬ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì—”í‹°í‹°ë‹¤. ì¹´í…Œê³ ë¦¬ëŠ” ë³´í†µ í•˜ìœ„ì— ë™ì¼í•œ íƒ€ì…ì˜ ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ë¥¼ ìì‹ìœ¼ë¡œ ê°€ì§€ê³  ìˆê³ , ìƒìœ„ì—ë„ ë™ì¼í•œ íƒ€ì…ì˜ ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ë¥¼ ë¶€ëª¨ë¡œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. <code>parent_category_id</code> ì»¬ëŸ¼ì—ëŠ” ì¸ë±ìŠ¤ê°€ ê±¸ë ¤ìˆê³ , ë°ì´í„°ëŠ” ì•½ 54,000ê±´ ìˆë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZZZCategory</span> <span class="keyword">extends</span> <span class="title">BaseEntity</span> <span class="keyword">implements</span> <span class="title">TreeEntity</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ManyToOne</span></span><br><span class="line">    <span class="meta">@JoinColumn</span>(name = <span class="string">"parent_category_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> ZZZCategory parentCategory;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OneToMany</span>(mappedBy = <span class="string">"parentCategory"</span>, cascade = CascadeType.PERSIST)</span><br><span class="line">    <span class="keyword">private</span> List&lt;ZZZCategory&gt; childCategories = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OneToMany</span>(mappedBy = <span class="string">"ZZZCategory"</span>, cascade = CascadeType.PERSIST)</span><br><span class="line">    <span class="keyword">private</span> List&lt;ZZZ&gt; ZZZs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="í˜„ì¬-ì¡°íšŒ-ë©”ì„œë“œ"><a href="#í˜„ì¬-ì¡°íšŒ-ë©”ì„œë“œ" class="headerlink" title="í˜„ì¬ ì¡°íšŒ ë©”ì„œë“œ"></a>í˜„ì¬ ì¡°íšŒ ë©”ì„œë“œ</h2><p>ì—¬ëŸ¬ ê°œì˜ ì¹´í…Œê³ ë¦¬IDê°€ ì£¼ì–´ì§€ë©´ ì£¼ì–´ì§„ ì¹´í…Œê³ ë¦¬IDë“¤ê³¼ ê·¸ë“¤ì˜ í•˜ìœ„ ì¹´í…Œê³ ë¦¬IDë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¤ëŠ” ë¡œì§ì´ í•„ìš”í•œë° ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„ë¼ ìˆë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Set&lt;Long&gt; <span class="title">getAllZZZCategoryIdsIncludingDescendants</span><span class="params">(Set&lt;Long&gt; ZZZCategoryIds)</span> </span>&#123;</span><br><span class="line">    List&lt;ZZZCategory&gt; ZZZCategories = ZZZCategoryRepository.findAll(ZZZCategoryIds);</span><br><span class="line">    Set&lt;Long&gt; ids = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    ids.addAll(ZZZCategoryIds);</span><br><span class="line">    ids.addAll(getChildIds(ZZZCategories));</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> HashSet&lt;&gt;(ids);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> Set&lt;Long&gt; <span class="title">getChildIds</span><span class="params">(List&lt;ZZZCategory&gt; ZZZCategories)</span> </span>&#123;</span><br><span class="line">    Set&lt;Long&gt; ids = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (ZZZCategories == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> ids;</span><br><span class="line"></span><br><span class="line">    ids.addAll(ZZZCategories.stream().map(ZZZCategory::getId).collect(toList()));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (ZZZCategory category : ZZZCategories) &#123;</span><br><span class="line">        List&lt;ZZZCategory&gt; children = ZZZCategoryRepository.findWithFetchedChildren(category.getId()).getChildCategories();</span><br><span class="line">        ids.addAll(getChildIds(children));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ids;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì „ì²´ ì•½ 5.4ë§Œê±´ì—ì„œ 21ê°œì˜ IDë¡œ ê·¸ í•˜ìœ„ IDë¥¼ ëª¨ë‘ ì¡°íšŒí•˜ë‹ˆ ì•½ 4.8ë§Œê±´ì´ ì¡°íšŒëœë‹¤. ì†Œìš” ì‹œê°„ì€ 200ì´ˆ ë‚´ì™¸ë‹¤.</p><p>íŠ¹ë³„í•  ê±´ ì—†ì§€ë§Œ í•„ìš”í•œ ê±´ ID ë¿ì¸ë°, í¸í•œ ë§›ì— <code>ZZZCategoryRepository.findAll(ZZZCategoryIds)</code>ë¥¼ ì‚¬ìš©í•´ì„œ ì¹´í…Œê³ ë¦¬ë¥¼ í†µì§¸ì˜ ëª©ë¡ì„ ì½ì–´ì™€ì„œ ID ë¥¼ ì¶”ì¶œí•˜ëŠ” ë°©ì‹ì´ë¼ëŠ” ê²Œ ëˆˆì— ì‚´ì§ ê±°ìŠ¬ë¦°ë‹¤. ì´ê±¸ ê°œì„ í•´ë³´ì.</p><h2 id="ê°œì„ -í›„-ì¡°íšŒ-ë©”ì„œë“œ"><a href="#ê°œì„ -í›„-ì¡°íšŒ-ë©”ì„œë“œ" class="headerlink" title="ê°œì„  í›„ ì¡°íšŒ ë©”ì„œë“œ"></a>ê°œì„  í›„ ì¡°íšŒ ë©”ì„œë“œ</h2><p>ZZZCategory ì—”í‹°í‹° í†µì§¸ë¡œ ì¡°íšŒí•˜ì§€ ì•Šê³  IDë§Œ ì¡°íšŒí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë°”ê¿¨ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Set&lt;Long&gt; <span class="title">getAllZZZCategoryIdsIncludingDescendants</span><span class="params">(Set&lt;Long&gt; ZZZCategoryIds)</span> </span>&#123;</span><br><span class="line">    Set&lt;Long&gt; ids = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    ids.addAll(ZZZCategoryIds);</span><br><span class="line">    ids.addAll(getChildIds(ZZZCategoryIds));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> HashSet&lt;&gt;(ids);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// IDë¥¼ ì¸ìë¡œ ë°›ë„ë¡ ë³€ê²½</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> Set&lt;Long&gt; <span class="title">getChildIds</span><span class="params">(Set&lt;Long&gt; ZZZCategoryIds)</span> </span>&#123;</span><br><span class="line">    Set&lt;Long&gt; ids = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (ZZZCategoryIds == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ids;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ids.addAll(ZZZCategoryIds);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Long ZZZCategoryId : ZZZCategoryIds) &#123;</span><br><span class="line">        <span class="comment">// ID ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¡œ ëŒ€ì²´</span></span><br><span class="line">        List&lt;Long&gt; childCategoryIds = ZZZCategoryRepository.findChildCategoryIds(ZZZCategoryId);</span><br><span class="line">        ids.addAll(getChildIds(<span class="keyword">new</span> HashSet&lt;&gt;(childCategoryIds)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ids;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì—”í‹°í‹°ë¥¼ í†µì§¸ë¡œ ê°€ì ¸ì˜¤ëŠ” <code>ZZZCategoryRepository.findAll(ZZZCategoryIds)</code> ëŒ€ì‹ ì— IDë§Œ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œë¥¼ QueryDSLë¡œ êµ¬í˜„í•´ì„œ ëŒ€ì‹  ì‚¬ìš©í–ˆë‹¤. ì•ì—ì„œ ì–˜ê¸°í•œ ê²ƒì²˜ëŸ¼ <code>parent_category_id</code>ì—ëŠ” ì¸ë±ìŠ¤ê°€ ê±¸ë ¤ ìˆìœ¼ë¯€ë¡œ ì¡°íšŒ íš¨ìœ¨ì´ ê´œì°®ì„ ê²ƒì´ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Long&gt; <span class="title">findChildCategoryIds</span><span class="params">(Long parentId)</span> </span>&#123;</span><br><span class="line">    QZZZCategory zzzCategory = QZZZCategory.zzzCategory;</span><br><span class="line">    <span class="keyword">return</span> from(zzzCategory)</span><br><span class="line">            .where(zzzCategory.parentCategory.id.eq(parentId))</span><br><span class="line">            .select(zzzCategory.id)</span><br><span class="line">            .fetch();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ê°œì„  í›„ ì‹¤í–‰í•´ë³´ë‹ˆ ë˜‘ê°™ì€ ì¡°íšŒë¥¼ ìˆ˜í–‰í•˜ëŠ”ë° ì†Œìš” ì‹œê°„ì´ <strong>200ì´ˆ ë‚´ì™¸ì—ì„œ 25ì´ˆ ë‚´ì™¸ë¡œ ê°œì„ ë˜ì–´ ì•½ 8ë°° ì •ë„ ë¹¨ë¼ì¡Œë‹¤.</strong></p><p>ì‚¬ì‹¤ ìœ„ ì—”í‹°í‹° ì½”ë“œëŠ” ê°„ë‹¨í•œ ì„¤ëª…ì„ ìœ„í•´ ì‹¤ì œë³´ë‹¤ ì¶•ì•½í•œ í˜•íƒœë¼ì„œ ìœ„ ì½”ë“œë§Œìœ¼ë¡œëŠ” 8ë°° ê¹Œì§€ ê°œì„ ë˜ì§€ëŠ” ì•Šì„ ìˆ˜ë„ ìˆë‹¤.</p><p>ì—¬íŠ¼ ì¤‘ìš”í•œ ê²ƒì€ <strong>JPAë¥¼ ì“¸ ë•ŒëŠ” í¸í•˜ë‹¤ê³  ë‹¤ ì½ì–´ë“¤ì´ì§€ ë§ê³  ì¡°ê¸ˆ ì†ì´ ê°€ë”ë¼ë„ í•„ìš”í•œ ê²ƒë§Œ ì¡°íšŒí•˜ì.</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;JPA-í•„ìš”í•œ-ê²ƒë§Œ-ì¡°íšŒí•˜ì&quot;&gt;&lt;a href=&quot;#JPA-í•„ìš”í•œ-ê²ƒë§Œ-ì¡°íšŒí•˜ì&quot; class=&quot;headerlink&quot; title=&quot;JPA í•„ìš”í•œ ê²ƒë§Œ ì¡°íšŒí•˜ì&quot;&gt;&lt;/a&gt;JPA í•„ìš”í•œ ê²ƒë§Œ ì¡°íšŒí•˜ì&lt;/h1&gt;&lt;p&gt;JPA ëŠ” í¸ë¦¬í•˜ì§€ë§Œ í¸ë¦¬í•¨ ë’¤ì—
      
    
    </summary>
    
      <category term="Technique" scheme="http://homoefficio.github.io/categories/Technique/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="JPA" scheme="http://homoefficio.github.io/tags/JPA/"/>
    
      <category term="Performance" scheme="http://homoefficio.github.io/tags/Performance/"/>
    
      <category term="QueryDSL" scheme="http://homoefficio.github.io/tags/QueryDSL/"/>
    
      <category term="Projection" scheme="http://homoefficio.github.io/tags/Projection/"/>
    
  </entry>
  
  <entry>
    <title>IDE ì—ì„œëŠ” ë˜ëŠ”ë° jar ì—ì„œëŠ” ì•ˆ ë¼ìš” - Java Resource</title>
    <link href="http://homoefficio.github.io/2020/07/21/IDE-%EC%97%90%EC%84%9C%EB%8A%94-%EB%90%98%EB%8A%94%EB%8D%B0-jar-%EC%97%90%EC%84%9C%EB%8A%94-%EC%95%88-%EB%8F%BC%EC%9A%94-Java-Resource/"/>
    <id>http://homoefficio.github.io/2020/07/21/IDE-ì—ì„œëŠ”-ë˜ëŠ”ë°-jar-ì—ì„œëŠ”-ì•ˆ-ë¼ìš”-Java-Resource/</id>
    <published>2020-07-21T13:55:37.000Z</published>
    <updated>2020-07-23T06:56:23.364Z</updated>
    
    <content type="html"><![CDATA[<h1 id="IDE-ì—ì„œëŠ”-ë˜ëŠ”ë°-jar-ì—ì„œëŠ”-ì•ˆ-ë¼ìš”-Java-Resource"><a href="#IDE-ì—ì„œëŠ”-ë˜ëŠ”ë°-jar-ì—ì„œëŠ”-ì•ˆ-ë¼ìš”-Java-Resource" class="headerlink" title="IDE ì—ì„œëŠ” ë˜ëŠ”ë° jar ì—ì„œëŠ” ì•ˆ ë¼ìš” - Java Resource"></a>IDE ì—ì„œëŠ” ë˜ëŠ”ë° jar ì—ì„œëŠ” ì•ˆ ë¼ìš” - Java Resource</h1><blockquote><p>í•œ ì¤„ ìš”ì•½: <strong>ì›¬ë§Œí•˜ë©´ <code>getResource()</code> ì“°ì§€ ë§ê³  <code>getResourceAsStream()</code> ì“°ì</strong></p></blockquote><h2 id="ê¸°ë³¸-í´ë”-êµ¬ì¡°"><a href="#ê¸°ë³¸-í´ë”-êµ¬ì¡°" class="headerlink" title="ê¸°ë³¸ í´ë” êµ¬ì¡°"></a>ê¸°ë³¸ í´ë” êµ¬ì¡°</h2><p>ìë°”ì—ì„œëŠ” ë©”ì´ë¸ì´ ë„ë¦¬ ì‚¬ìš©ë˜ë©´ì„œ ì•„ë˜ì™€ ê°™ì€ í´ë” êµ¬ì¡°ê°€ í‘œì¤€ì²˜ëŸ¼ ì‚¬ìš©ë˜ê³  ìˆë‹¤.</p><p><img src="https://i.imgur.com/zpDIgeL.png" alt="Imgur"></p><p>src/main/java í´ë” í•˜ìœ„ì— ìˆëŠ” java íŒŒì¼ì€ ë¹Œë“œ í›„ target/classes í•˜ìœ„ì— ìœ„ì¹˜í•˜ê²Œ ë˜ê³ ,<br>src/main/resources/static í´ë”ëŠ” ë¹Œë“œ í›„ target/static í´ë” ë°”ë¡œ ì•„ë˜ì— ìœ„ì¹˜í•˜ê²Œ ëœë‹¤.</p><p>ìë°” íŒŒì¼ì´ë“  ê·¸ ì™¸ íŒŒì¼ì´ë“  ê²°êµ­ ë¹Œë“œ í›„ì—ëŠ” target ë””ë ‰í„°ë¦¬ê°€ ë£¨íŠ¸ ë””ë ‰í„°ë¦¬ê°€ ëœë‹¤.</p><h2 id="main-í´ë˜ìŠ¤"><a href="#main-í´ë˜ìŠ¤" class="headerlink" title="main í´ë˜ìŠ¤"></a>main í´ë˜ìŠ¤</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ResourceLoader resourceLoader =</span><br><span class="line">                <span class="keyword">new</span> ResourceLoader(<span class="string">"/static"</span>, Path.of(<span class="string">"/static"</span>));</span><br><span class="line">        resourceLoader.loadResourceAsFile(<span class="string">"/folder1/sample1"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="getResource"><a href="#getResource" class="headerlink" title="getResource()"></a>getResource()</h2><p><code>getResource()</code>ë¥¼ ì‚¬ìš©í•´ì„œ íŒŒì¼ë¡œ ì½ì–´ë“¤ì¸ í›„ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResourceLoader</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String root;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Path rootPath;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadResourceAsFile</span><span class="params">(String resourceLocation)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        log.info(<span class="string">"*** getResource() + File ë°©ì‹"</span>);</span><br><span class="line">        log.info(<span class="string">"content root: &#123;&#125;"</span>, rootPath);</span><br><span class="line">        log.info(<span class="string">"resourceLocation: &#123;&#125;"</span>, resourceLocation);</span><br><span class="line"></span><br><span class="line">        URL resourceURL = <span class="keyword">this</span>.getClass().getResource(root + resourceLocation);</span><br><span class="line">        log.info(<span class="string">"resourceURL: &#123;&#125;"</span>, resourceURL);</span><br><span class="line"></span><br><span class="line">        String fileLocation = resourceURL.getFile();</span><br><span class="line">        log.info(<span class="string">"fileLocation from URL: &#123;&#125;"</span>, fileLocation);</span><br><span class="line"></span><br><span class="line">        File file = <span class="keyword">new</span> File(fileLocation);</span><br><span class="line">        FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">        <span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[(<span class="keyword">int</span>) file.length()];</span><br><span class="line">        fileReader.read(chars);</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">"resource contents: &#123;&#125;"</span>, <span class="keyword">new</span> String(chars));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="IDE-ì—ì„œ-ë™ì‘-í™•ì¸"><a href="#IDE-ì—ì„œ-ë™ì‘-í™•ì¸" class="headerlink" title="IDE ì—ì„œ ë™ì‘ í™•ì¸"></a>IDE ì—ì„œ ë™ì‘ í™•ì¸</h3><p>IDE ì—ì„œ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì •ìƒì ìœ¼ë¡œ ì¶œë ¥ëœë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">00:56:15.152 [main] INFO io.homo_efficio.ResourceLoader - *** getResource() + File ë°©ì‹</span><br><span class="line">00:56:15.155 [main] INFO io.homo_efficio.ResourceLoader - content root: /static</span><br><span class="line">00:56:15.156 [main] INFO io.homo_efficio.ResourceLoader - resourceLocation: /folder1/sample1</span><br><span class="line">00:56:15.158 [main] INFO io.homo_efficio.ResourceLoader - resourceURL: file:/Users/1003604/gitRepo/study/maven-fat-jar-test/target/classes/static/folder1/sample1</span><br><span class="line">00:56:15.158 [main] INFO io.homo_efficio.ResourceLoader - fileLocation from URL: /Users/1003604/gitRepo/study/maven-fat-jar-test/target/classes/static/folder1/sample1</span><br><span class="line">00:56:15.159 [main] INFO io.homo_efficio.ResourceLoader - resource contents: Sample File 1</span><br></pre></td></tr></table></figure><p><strong>resourceURL ê°’ì´ <code>file:</code> ë¡œ ì‹œì‘í•œë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•´ë‘ì.</strong></p><p>ì½ì„ íŒŒì¼ ê²½ë¡œëŠ” <code>/Users/1003604/gitRepo/study/maven-fat-jar-test/target/classes/static/folder1/sample1</code>ë¡œ í‘œì‹œë˜ëŠ”ë° ì´ëŠ” íŒŒì¼ì‹œìŠ¤í…œì— ì‹¤ì œ ì¡´ì¬í•˜ëŠ” ê²½ë¡œì™€ ì¼ì¹˜í•œë‹¤.</p><h3 id="fat-jar-ì—ì„œ-ë™ì‘-í™•ì¸"><a href="#fat-jar-ì—ì„œ-ë™ì‘-í™•ì¸" class="headerlink" title="fat-jar ì—ì„œ ë™ì‘ í™•ì¸"></a>fat-jar ì—ì„œ ë™ì‘ í™•ì¸</h3><p>í•˜ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì´ <code>java -jar</code> ëª…ë ¹ìœ¼ë¡œ fat-jar íŒŒì¼ì„ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. mavenì—ì„œ fat-jar ë§Œë“œëŠ” ë°©ë²•ì€ <a href="https://github.com/HomoEfficio/dev-tips/blob/master/Maven-fat-jar.md" target="_blank" rel="noopener">https://github.com/HomoEfficio/dev-tips/blob/master/Maven-fat-jar.md</a> ë¥¼ ì°¸ê³ í•œë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">maven-fat-jar-test git:master ğŸºğŸ¦‘ğŸºğŸ•ğŸº â¯ java -jar target/maven-fat-jar.jar</span><br><span class="line">00:58:11.479 [main] INFO io.homo_efficio.ResourceLoader - *** getResource() + File ë°©ì‹</span><br><span class="line">00:58:11.481 [main] INFO io.homo_efficio.ResourceLoader - content root: /static</span><br><span class="line">00:58:11.482 [main] INFO io.homo_efficio.ResourceLoader - resourceLocation: /folder1/sample1</span><br><span class="line">00:58:11.484 [main] INFO io.homo_efficio.ResourceLoader - resourceURL: jar:file:/Users/1003604/gitRepo/study/maven-fat-jar-test/target/maven-fat-jar.jar!/static/folder1/sample1</span><br><span class="line">00:58:11.484 [main] INFO io.homo_efficio.ResourceLoader - fileLocation from URL: file:/Users/1003604/gitRepo/study/maven-fat-jar-test/target/maven-fat-jar.jar!/static/folder1/sample1</span><br><span class="line">Exception in thread &quot;main&quot; java.io.FileNotFoundException: file:/Users/1003604/gitRepo/study/maven-fat-jar-test/target/maven-fat-jar.jar!/static/folder1/sample1 (No such file or directory)</span><br><span class="line">        at java.base/java.io.FileInputStream.open0(Native Method)</span><br><span class="line">        at java.base/java.io.FileInputStream.open(FileInputStream.java:212)</span><br><span class="line">        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:154)</span><br><span class="line">        at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:75)</span><br><span class="line">        at io.homo_efficio.ResourceLoader.loadResourceAsFile(ResourceLoader.java:38)</span><br><span class="line">        at io.homo_efficio.App.main(App.java:19)</span><br></pre></td></tr></table></figure><p>ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë³´ë©´ íŒŒì¼ ê²½ë¡œ(ì •í™•íˆëŠ” URL)ê°€ <code>file:/Users/1003604/gitRepo/study/maven-fat-jar-test/target/maven-fat-jar.jar!/static/folder1/sample1</code> ë¼ê³  í‘œì‹œëœë‹¤. fat-jar íŒŒì¼ì´ ì¤‘ê°„ì— <code>mavan-fat-jar.jar!</code> ë¡œ í‘œì‹œë¼ ìˆëŠ”ë° ì´ë ‡ê²Œ <code>!</code>ê°€ í¬í•¨ëœ ê²½ë¡œëŠ” ì‹¤ì œë¡œ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.</p><p>ì¦‰ IDEì—ì„œ ì‹¤í–‰í•  ë•ŒëŠ” ì‹¤ì œ íŒŒì¼ì‹œìŠ¤í…œ ê¸°ì¤€ ê²½ë¡œë¥¼ ë”°ë¥´ë¯€ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šì§€ë§Œ, jar íŒŒì¼ì„ ì½ì„ ë•ŒëŠ” jar íŒŒì¼ì´ <code>!</code>ì™€ í•¨ê»˜ í‘œì‹œë˜ê¸° ë•Œë¬¸ì— ì‹¤ì œ íŒŒì¼ì‹œìŠ¤í…œ ê²½ë¡œì— ë§ì§€ ì•Šì•„ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.</p><p><strong>rsourceURL ê°’ì´ IDE ì—ì„œ ì‹¤í–‰í•  ë•ŒëŠ” <code>file:</code> ë¡œ ì‹œì‘í–ˆëŠ”ë°, jar ë¡œ ì‹¤í–‰í•  ë•ŒëŠ” <code>jar:file:</code>ë¡œ ì‹œì‘í•œë‹¤.</strong> ì´ê²ƒë„ ê¸°ì–µí•´ë‘ì.</p><p>ì–´ì¨Œë“  ìë°” í”„ë¡œê·¸ë¨ì€ ì‹¤ì œë¡œëŠ” ëŒ€ë¶€ë¶„ jar ë¡œ ë§Œë“¤ì–´ì ¸ì„œ ì‹¤í–‰ë í…ë°, jar ì—ì„œ ì œëŒ€ë¡œ ì‹¤í–‰ì´ ì•ˆ ëœë‹¤ë©´ ì´ë¥¼ ì–´ì©ë‹¤?</p><h2 id="getResourceAsStream"><a href="#getResourceAsStream" class="headerlink" title="getResourceAsStream()"></a>getResourceAsStream()</h2><p><code>getResource()</code> ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ URL ì„ ë°˜í™˜í•œë‹¤. URLì€ ìœ„ì™€ ê°™ì´ jar íŒŒì¼ì„ <code>!</code>ì™€ í•¨ê»˜ í‘œì‹œí•˜ê¸° ë•Œë¬¸ì—, jar ì‹¤í–‰ ì‹œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.</p><p>í•˜ì§€ë§Œ <code>getResourceAsStream()</code>ì€ InputStream ì„ ë°˜í™˜í•œë‹¤. ê·¸ë¦¬ê³  Java 9 ì—ì„œ ì¶”ê°€ëœ <code>InputStream.readAllBytes()</code>ë¥¼ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ê²Œ InputStream ì„ ì½ì–´ì„œ byte[] ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤.(ë¬¼ë¡  ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ <code>readAllBytes()</code>ë¡œ ì½ì–´ë“¤ì´ë©´ ë§í•¨. ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬ëŠ” <a href="https://homoefficio.github.io/2019/02/27/Java-NIO-Direct-Bufferë¥¼-ì´ìš©í•´ì„œ-ëŒ€ìš©ëŸ‰-íŒŒì¼-í–‰-ê¸°ì¤€ìœ¼ë¡œ-ìª¼ê°œê¸°/">https://homoefficio.github.io/2019/02/27/Java-NIO-Direct-Bufferë¥¼-ì´ìš©í•´ì„œ-ëŒ€ìš©ëŸ‰-íŒŒì¼-í–‰-ê¸°ì¤€ìœ¼ë¡œ-ìª¼ê°œê¸°/</a> ë¥¼ ì°¸ê³ í•˜ì)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ResourceLoader.java</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadResourceAsStream</span><span class="params">(String resourceLocation)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        log.info(<span class="string">"OOO getResourceAsStream() ë°©ì‹"</span>);</span><br><span class="line">        log.info(<span class="string">"content root: &#123;&#125;"</span>, root);</span><br><span class="line">        log.info(<span class="string">"resourceLocation: &#123;&#125;"</span>, resourceLocation);</span><br><span class="line"></span><br><span class="line">        InputStream resourceAsStream = <span class="keyword">this</span>.getClass().getResourceAsStream(root + resourceLocation);</span><br><span class="line">        <span class="keyword">byte</span>[] bytes = resourceAsStream.readAllBytes();</span><br><span class="line">        log.info(<span class="string">"resource contents: &#123;&#125;"</span>, <span class="keyword">new</span> String(bytes, StandardCharsets.UTF_8));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="IDE-ì—ì„œ-ë™ì‘-í™•ì¸-1"><a href="#IDE-ì—ì„œ-ë™ì‘-í™•ì¸-1" class="headerlink" title="IDE ì—ì„œ ë™ì‘ í™•ì¸"></a>IDE ì—ì„œ ë™ì‘ í™•ì¸</h3><p>IDE ì—ì„œ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">23:55:45.443 [main] INFO io.homo_efficio.ResourceLoader - OOO getResourceAsStream() ë°©ì‹</span><br><span class="line">23:55:45.443 [main] INFO io.homo_efficio.ResourceLoader - content root: /static</span><br><span class="line">23:55:45.443 [main] INFO io.homo_efficio.ResourceLoader - resourceLocation: /folder1/sample1</span><br><span class="line">23:55:45.443 [main] INFO io.homo_efficio.ResourceLoader - resource contents: Sample File 1</span><br></pre></td></tr></table></figure><h3 id="fat-jar-ì—ì„œ-ë™ì‘-í™•ì¸-1"><a href="#fat-jar-ì—ì„œ-ë™ì‘-í™•ì¸-1" class="headerlink" title="fat-jar ì—ì„œ ë™ì‘ í™•ì¸"></a>fat-jar ì—ì„œ ë™ì‘ í™•ì¸</h3><p>fat-jar ì‹¤í–‰ ì‹œì—ë„ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">maven-fat-jar-test git:master ğŸºğŸ¦‘ğŸºğŸ•ğŸº â¯ java -jar target/maven-fat-jar.jar</span><br><span class="line">00:01:31.774 [main] INFO io.homo_efficio.ResourceLoader - OOO getResourceAsStream() ë°©ì‹</span><br><span class="line">00:01:31.775 [main] INFO io.homo_efficio.ResourceLoader - content root: /static</span><br><span class="line">00:01:31.776 [main] INFO io.homo_efficio.ResourceLoader - resourceLocation: /folder1/sample1</span><br><span class="line">00:01:31.778 [main] INFO io.homo_efficio.ResourceLoader - resource contents: Sample File 1</span><br></pre></td></tr></table></figure><p>ë”°ë¼ì„œ <code>getResource()</code> ë³´ë‹¤ëŠ” <code>getResourceAsStream()</code>ì„ ì‚¬ìš©í•˜ì. ë.</p><h2 id="ì†ì‚¬ì •"><a href="#ì†ì‚¬ì •" class="headerlink" title="ì†ì‚¬ì •"></a>ì†ì‚¬ì •</h2><p>í˜¹ì‹œ ì™œ ì´ëŸ° ì°¨ì´ê°€ ë°œìƒí•˜ëŠ”ì§€ ê¶ê¸ˆí•œ ì‚¬ëŒë“¤ì€ ì´ì–´ì„œ ì½ì–´ë³´ì.</p><p><code>getResourceAsStream()</code> í˜¸ì¶œì„ ë”°ë¼ê°€ë³´ë©´ Java 14 ê¸°ì¤€ <code>BuiltinClassLoader</code> í´ë˜ìŠ¤ì—ì„œ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ë§Œë‚˜ê²Œ ë˜ëŠ”ë°,</p><p><img src="https://i.imgur.com/m87zAsl.png" alt="Imgur"></p><p><code>openStream()</code> ì„ ë”°ë¼ê°€ë©´ ì™œ ë˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤. <strong><code>openConnection()</code>ì€ URLConnection ì„ ë°˜í™˜í•˜ëŠ”ë°, ì´ URLConnection ì—ëŠ” ì—¬ëŸ¬ê°€ì§€ SubClassê°€ ìˆì–´ì„œ ë‹¤í˜•ì ìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ìˆë‹¤.</strong></p><p><img src="https://i.imgur.com/oZz9Wu2.png" alt="Imgur"></p><p>ì•ì—ì„œ IDE ì—ì„œ ì‹¤í–‰í•  ë•ŒëŠ” URL ê°’ì´ <code>file:</code> ë¡œ ì‹œì‘í•˜ê³ , jar ë¡œ ì‹¤í–‰í•  ë–„ëŠ” URL ê°’ì´ <code>jar:file:</code> ë¡œ ì‹œì‘í•˜ëŠ” ê²ƒì„ ê¸°ì–µí•´ë‘ìê³  í•œ ê²ƒì„ ìƒê¸°í•´ë³´ë©´ ë‹µì´ ë³´ì¼ ê²ƒì´ë‹¤.</p><p><strong>URL ì´ <code>file:</code> ë¡œ ì‹œì‘í•˜ëŠ” IDE ì—ì„œëŠ” FileURLConnection ì´ ì‚¬ìš©ë˜ê³ , URL ì´ <code>jar:file:</code> ë¡œ ì‹œì‘í•˜ëŠ” jar ì‹¤í–‰ì—ì„œëŠ” JarURLConnection ì´ ì‚¬ìš©ëœë‹¤. <code>getResourceAsStream()</code>ì€ ë‹¤í˜•ì ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ êµ¬í˜„ë¼ ìˆì–´ì„œ ë‘ ìƒí™© ëª¨ë‘ì—ì„œ ì˜ ë™ì‘í•  ìˆ˜ ìˆë‹¤.</strong></p><p>ê·¸ëŸ¼ <code>getResource()</code>ëŠ”?</p><p><strong>ì‚¬ì‹¤ ë¬¸ì œëŠ” <code>getResource()</code> ê°€ ì•„ë‹ˆë¼ <code>getResource()</code> ì´ ë°˜í™˜í•˜ëŠ” URL ì„ ì–´ë–»ê²Œ ì“°ëŠëƒì— ìˆë‹¤.</strong> ë˜‘ê°™ì´ <code>getResource()</code> ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ ë‹¤ìŒê³¼ ê°™ì´ <code>openStream()</code> ì„ ì‚¬ìš©í•˜ë©´ <code>getResource()</code> ì„ ì‚¬ìš©í•´ë„ jar ì—ì„œë„ ì˜ ë™ì‘í•œë‹¤.</p><p>ì¦‰, <strong>URL ì—ì„œ File ì„ ìƒì„±í•˜ë©´ ë‹¤í˜•ì„±ì´ ì ìš©ë˜ì§€ ì•Šì•„ IDE ì—ì„œëŠ” ë˜ì§€ë§Œ jar ì—ì„œëŠ” ì•ˆ ë˜ëŠ” ìƒí™©ì´ ì—°ì¶œ</strong>ë˜ê³ ,<br><strong>URL ì—ì„œ InputStream ì„ ë½‘ì•„ì„œ ì‚¬ìš©í•˜ë©´ ë‹¤í˜•ì„±ì´ ì ìš©ë¼ì„œ IDE, jar ëª¨ë‘ì—ì„œ ì˜ ë™ì‘í•œë‹¤.</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ResourceLoader.java</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadResourceAsFile</span><span class="params">(String resourceLocation)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        log.info(<span class="string">"*** getResource() + File ë°©ì‹"</span>);</span><br><span class="line">        log.info(<span class="string">"content root: &#123;&#125;"</span>, rootPath);</span><br><span class="line">        log.info(<span class="string">"resourceLocation: &#123;&#125;"</span>, resourceLocation);</span><br><span class="line"></span><br><span class="line">        URL resourceURL = <span class="keyword">this</span>.getClass().getResource(root + resourceLocation);</span><br><span class="line">        log.info(<span class="string">"resourceURL: &#123;&#125;"</span>, resourceURL);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        String fileLocation = resourceURL.getFile();</span></span><br><span class="line"><span class="comment">//        log.info("fileLocation from URL: &#123;&#125;", fileLocation);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        File file = new File(fileLocation);</span></span><br><span class="line"><span class="comment">//        FileReader fileReader = new FileReader(file);</span></span><br><span class="line"><span class="comment">//        char[] chars = new char[(int) file.length()];</span></span><br><span class="line"><span class="comment">//        fileReader.read(chars);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        log.info("resource contents: &#123;&#125;", new String(chars));</span></span><br><span class="line"></span><br><span class="line">        InputStream inputStream = resourceURL.openStream();</span><br><span class="line">        <span class="keyword">byte</span>[] bytes = inputStream.readAllBytes();</span><br><span class="line">        log.info(<span class="string">"resource contents: &#123;&#125;"</span>, <span class="keyword">new</span> String(bytes, StandardCharsets.UTF_8));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="Jackson"><a href="#Jackson" class="headerlink" title="Jackson"></a>Jackson</h2><p>ìë°”ì—ì„œ JSON ì²˜ë¦¬ì— ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” Jackson ì€ ì–´ë–¨ê¹Œ?</p><p>ë‹¤ìŒê³¼ ê°™ì´ URL ì„ <code>readValue()</code> ë©”ì„œë“œì— ì¸ìë¡œ ë„˜ê²¨ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ IDE, jar ëª¨ë‘ì—ì„œ ì˜ ë™ì‘í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ResourceLoader.java</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadConfig</span><span class="params">(String resourceLocation)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"*** getResource() + Jackson ë°©ì‹"</span>);</span><br><span class="line">        log.info(<span class="string">"content root: &#123;&#125;"</span>, rootPath);</span><br><span class="line">        log.info(<span class="string">"resourceLocation: &#123;&#125;"</span>, resourceLocation);</span><br><span class="line"></span><br><span class="line">        URL configURL = <span class="keyword">this</span>.getClass().getResource(root + resourceLocation);</span><br><span class="line">        log.info(<span class="string">"resourceURL: &#123;&#125;"</span>, configURL);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ObjectMapper objectMapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">            Config config = objectMapper.readValue(configURL, Config.class);</span><br><span class="line">            log.info(<span class="string">"title in config: &#123;&#125;"</span>, config.getTitle());</span><br><span class="line">            log.info(<span class="string">"tags in config: [&#123;&#125;]"</span>, String.join(<span class="string">", "</span>, config.getTags()));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"ì„¤ì • íŒŒì¼ ë¡œë”©ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>IDE ì‹¤í–‰ ê²°ê³¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">12:09:01.465 [main] INFO io.homo_efficio.ResourceLoader - *** getResource() + Jackson ë°©ì‹</span><br><span class="line">12:09:01.465 [main] INFO io.homo_efficio.ResourceLoader - content root: /static</span><br><span class="line">12:09:01.465 [main] INFO io.homo_efficio.ResourceLoader - resourceLocation: /folder1/config.json</span><br><span class="line">12:09:01.466 [main] INFO io.homo_efficio.ResourceLoader - resourceURL: file:/Users/1003604/gitRepo/study/maven-fat-jar-test/target/classes/static/folder1/config.json</span><br><span class="line">12:09:01.617 [main] INFO io.homo_efficio.ResourceLoader - title in config: Java Resource Handling</span><br><span class="line">12:09:01.617 [main] INFO io.homo_efficio.ResourceLoader - tags in config: [Java, Resource, fat, jar]</span><br></pre></td></tr></table></figure><p>jar ì‹¤í–‰ ê²°ê³¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">maven-fat-jar-test git:master ğŸºğŸ¦‘ğŸºğŸ•ğŸº â¯ java -jar target/maven-fat-jar.jar</span><br><span class="line">12:09:25.075 [main] INFO io.homo_efficio.ResourceLoader - *** getResource() + Jackson ë°©ì‹</span><br><span class="line">12:09:25.075 [main] INFO io.homo_efficio.ResourceLoader - content root: /static</span><br><span class="line">12:09:25.075 [main] INFO io.homo_efficio.ResourceLoader - resourceLocation: /folder1/config.json</span><br><span class="line">12:09:25.076 [main] INFO io.homo_efficio.ResourceLoader - resourceURL: jar:file:/Users/1003604/gitRepo/study/maven-fat-jar-test/target/maven-fat-jar.jar!/static/folder1/config.json</span><br><span class="line">12:09:25.213 [main] INFO io.homo_efficio.ResourceLoader - title in config: Java Resource Handling</span><br><span class="line">12:09:25.213 [main] INFO io.homo_efficio.ResourceLoader - tags in config: [Java, Resource, fat, jar]</span><br></pre></td></tr></table></figure><h2 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h2><p><code>.properties</code> íŒŒì¼ì„ ì½ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” <code>Properties</code> í´ë˜ìŠ¤ì—ëŠ” <code>load(Reader r)</code>, <code>load(InputStream i)</code> ë‘ ê°€ì§€ ë©”ì„œë“œê°€ ìˆë‹¤. IDE, jar ëª¨ë‘ì—ì„œ ë™ì‘í•˜ë ¤ë©´ ì–´ëŠ ê²ƒì„ ì¨ì•¼í• ì§€ ì´ì   í•´ë³´ì§€ ì•Šì•„ë„ ì•Œ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.</p><h2 id="ë””ë ‰í„°ë¦¬-ë‚´-íŒŒì¼-ëª©ë¡"><a href="#ë””ë ‰í„°ë¦¬-ë‚´-íŒŒì¼-ëª©ë¡" class="headerlink" title="ë””ë ‰í„°ë¦¬ ë‚´ íŒŒì¼ ëª©ë¡"></a>ë””ë ‰í„°ë¦¬ ë‚´ íŒŒì¼ ëª©ë¡</h2><p>ê°œë³„ íŒŒì¼ì€ ìœ„ì™€ ê°™ì´ ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤ëŠ” ê±¸ ì•Œê²Œ ëë‹¤. ê·¸ëŸ°ë° ë””ë ‰í„°ë¦¬ ë‚´ íŒŒì¼ ëª©ë¡ì„ ì½ì–´ì„œ ì›í•˜ëŠ” ëŒ€ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒë„ IDE, jar ì—ì„œ ëª¨ë‘ ê°€ëŠ¥í• ê¹Œ?</p><p>ì´ë¯¸ êµ¬êµ¬ì ˆì ˆ ë§ì´ ë– ë“¤ì—ˆìœ¼ë‹ˆ ë°”ë¡œ ì½”ë“œë¡œ ì‚´í´ë³´ì. <strong>jar íŒŒì¼ ë‚´ì—ì„œ ëª©ë¡ ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•˜ë ¤ë©´ <code>JarFile</code>ì´ í•„ìš”í•˜ë‹¤ëŠ” ì ë§Œ ê¸°ì–µí•´ë‘ì.</strong> ë‚˜ë¨¸ì§€ ì£¼ì˜í•´ì„œ ë³¼ ì ì€ ì£¼ì„ì— í‘œì‹œí•´ë†¨ë‹¤.</p><p>ë§ˆì§€ë§‰ì— ë‚˜ì˜¤ëŠ” ì½”ë“œ <code>enumerationAsStream()</code> ë©”ì„œë“œëŠ” <code>Enumeration</code>ì„ copyë¥¼ ìœ ë°œí•˜ì§€ ì•Šê³  Stream ìœ¼ë¡œ ì“¸ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ìœ í‹¸ ë©”ì„œë“œë‹¤.(ìë°”ëŠ” ì™œ ì´ëŸ° ê±¸ ê³µì‹ SDKì— í¬í•¨í•˜ì§€ ì•ŠëŠ” ê±´ê°€..)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadDirectoryAsStream</span><span class="params">(String dir)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    log.info(<span class="string">"OOO getResourceAsStream() + Directory"</span>);</span><br><span class="line">    log.info(<span class="string">"content root: &#123;&#125;"</span>, root);</span><br><span class="line">    log.info(<span class="string">"dir: &#123;&#125;"</span>, dir);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// IDE ì—ì„œëŠ” ì˜ ë™ì‘, jar ì—ì„œëŠ” ì—ëŸ¬ëŠ” ë°œìƒí•˜ì§€ ì•Šìœ¼ë‚˜ esourceAsStream.readAllBytes() ê°’ì´ ë¹„ì–´ìˆìŒ</span></span><br><span class="line">    log.info(<span class="string">"USING naive getResourceAsStream(String directory) -----"</span>);</span><br><span class="line">    InputStream resourceAsStream = <span class="keyword">this</span>.getClass().getResourceAsStream(root + dir);</span><br><span class="line">    <span class="keyword">byte</span>[] bytes = resourceAsStream.readAllBytes();</span><br><span class="line">    log.info(<span class="string">"resource contents length: &#123;&#125;"</span>, bytes.length);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (bytes.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        log.info(<span class="string">"resource contents: &#123;&#125;"</span>, <span class="keyword">new</span> String(bytes, StandardCharsets.UTF_8));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// jar ì—ì„œëŠ” ì˜ ë™ì‘</span></span><br><span class="line">        <span class="comment">// IDE ì—ì„œëŠ” ì˜ˆì™¸ ë°œìƒ: java.io.FileNotFoundException: /Users/1003604/gitRepo/study/maven-fat-jar-test/target/classes/io/homo_efficio (Is a directory)</span></span><br><span class="line">        <span class="comment">// ë”°ë¼ì„œ bytes.length = 0 ì¼ ë•Œë§Œ ì‹¤í–‰í•˜ë„ë¡</span></span><br><span class="line">        log.info(<span class="string">"USING JarFile -----"</span>);</span><br><span class="line">        String path = <span class="keyword">this</span>.getClass().getResource(<span class="string">""</span>).getPath();</span><br><span class="line">        log.info(<span class="string">"resourcePath: &#123;&#125;"</span>, path);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> exclamationIndex = path.lastIndexOf(<span class="string">"!"</span>) &gt; <span class="number">0</span> ? path.lastIndexOf(<span class="string">"!"</span>) : path.length();</span><br><span class="line">        String jarFilePath = path.substring(<span class="number">0</span>, exclamationIndex).replaceAll(<span class="string">"file:"</span>, <span class="string">""</span>);</span><br><span class="line">        log.info(<span class="string">"jarFilePath : &#123;&#125;"</span>, jarFilePath);</span><br><span class="line">        </span><br><span class="line">        LocalDateTime start = LocalDateTime.now();</span><br><span class="line">        log.info(<span class="string">"jarFile start: &#123;&#125;"</span>, start);</span><br><span class="line">        JarFile jarFile = <span class="keyword">new</span> JarFile(jarFilePath);</span><br><span class="line">        LocalDateTime end = LocalDateTime.now();</span><br><span class="line">        log.info(<span class="string">"jarFile end  : &#123;&#125;"</span>, end);</span><br><span class="line">        </span><br><span class="line">        enumerationAsStream(jarFile.entries())</span><br><span class="line">                .filter(entry -&gt; entry.getRealName().startsWith((root + dir).substring(<span class="number">1</span>)))</span><br><span class="line">                .forEach(entry -&gt; log.info(<span class="string">"jarEntry: &#123;&#125;"</span>, entry.getRealName()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// From https://stackoverflow.com/a/23276455</span></span><br><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function">Stream&lt;T&gt; <span class="title">enumerationAsStream</span><span class="params">(Enumeration&lt;T&gt; e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> StreamSupport.stream(</span><br><span class="line">            Spliterators.spliteratorUnknownSize(</span><br><span class="line">                    <span class="keyword">new</span> Iterator&lt;T&gt;() &#123;</span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                            <span class="keyword">return</span> e.hasMoreElements();</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                            <span class="keyword">return</span> e.nextElement();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    Spliterator.ORDERED</span><br><span class="line">            ), <span class="keyword">false</span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;IDE-ì—ì„œëŠ”-ë˜ëŠ”ë°-jar-ì—ì„œëŠ”-ì•ˆ-ë¼ìš”-Java-Resource&quot;&gt;&lt;a href=&quot;#IDE-ì—ì„œëŠ”-ë˜ëŠ”ë°-jar-ì—ì„œëŠ”-ì•ˆ-ë¼ìš”-Java-Resource&quot; class=&quot;headerlink&quot; title=&quot;IDE ì—ì„œëŠ” ë˜ëŠ”ë° jar 
      
    
    </summary>
    
      <category term="Technique" scheme="http://homoefficio.github.io/categories/Technique/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="URL" scheme="http://homoefficio.github.io/tags/URL/"/>
    
      <category term="Resource" scheme="http://homoefficio.github.io/tags/Resource/"/>
    
      <category term="getResource" scheme="http://homoefficio.github.io/tags/getResource/"/>
    
      <category term="getResourceAsStream" scheme="http://homoefficio.github.io/tags/getResourceAsStream/"/>
    
      <category term="maven" scheme="http://homoefficio.github.io/tags/maven/"/>
    
      <category term="fat-jar" scheme="http://homoefficio.github.io/tags/fat-jar/"/>
    
      <category term="jar" scheme="http://homoefficio.github.io/tags/jar/"/>
    
      <category term="file" scheme="http://homoefficio.github.io/tags/file/"/>
    
      <category term="loading" scheme="http://homoefficio.github.io/tags/loading/"/>
    
  </entry>
  
  <entry>
    <title>Java Memory Monitoring</title>
    <link href="http://homoefficio.github.io/2020/04/09/Java-Memory-Monitoring/"/>
    <id>http://homoefficio.github.io/2020/04/09/Java-Memory-Monitoring/</id>
    <published>2020-04-09T07:57:33.000Z</published>
    <updated>2020-04-09T08:40:35.552Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java-ë©”ëª¨ë¦¬-ëª¨ë‹ˆí„°ë§"><a href="#Java-ë©”ëª¨ë¦¬-ëª¨ë‹ˆí„°ë§" class="headerlink" title="Java ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§"></a>Java ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§</h1><p>ë‘ì„œ ì—†ì´ ì´ê²ƒì €ê²ƒ ëª¨ì•„ë³¸ ìë°” ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§</p><h1 id="Heap-Dump"><a href="#Heap-Dump" class="headerlink" title="Heap Dump"></a>Heap Dump</h1><blockquote><p>í™ì— ìˆëŠ” ëª¨ë“  ê°ì²´ Dump<br>jmap -dump:format=b,file=HEAP_DUMP_OUTPUT_FILE_NAME.hprof PID</p><p>í™ì— ìˆëŠ” Live ê°ì²´ë§Œ Dump<br>jmap -dump:live,format=b,file=HEAP_DUMP_OUTPUT_FILE_NAME.hprof PID</p></blockquote><h1 id="í™-ë¶„ì„-ë„êµ¬"><a href="#í™-ë¶„ì„-ë„êµ¬" class="headerlink" title="í™ ë¶„ì„ ë„êµ¬"></a>í™ ë¶„ì„ ë„êµ¬</h1><p>jmap ìœ¼ë¡œ ìƒì„±í•œ Heap Dump íŒŒì¼ì„ ì—´ì–´ì„œ ë¶„ì„í•  ìˆ˜ ìˆëŠ” ë„êµ¬</p><ul><li>Eclipse MAT: <a href="https://www.eclipse.org/mat/" target="_blank" rel="noopener">https://www.eclipse.org/mat/</a><ul><li>ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì˜ì‹¬ ë‚´ì—­ì„ ë³´ê³ ì„œ í˜•íƒœë¡œ ë³´ì—¬ì¤˜ì„œ ì¢‹ìŒ</li><li><img src="https://i.imgur.com/zeiXYxF.png" alt="Imgur"></li><li><img src="https://i.imgur.com/yEa9Xpk.png" alt="Imgur"></li><li><img src="https://i.imgur.com/xiTL9Lh.png" alt="Imgur"></li><li>Shallow Heap vs Retained Heap: <a href="https://dzone.com/articles/eclipse-mat-shallow-heap-retained-heap" target="_blank" rel="noopener">https://dzone.com/articles/eclipse-mat-shallow-heap-retained-heap</a><ul><li>shallow heapì€ í•œ ê°ì²´ë§Œì´ ì ìœ í•œ í™ì˜ í¬ê¸°</li><li>retained heapì€ í•œ ê°ì²´ê°€ ì œê±°ë  ë•Œ í•¨ê»˜ ì œê±°ë  ìˆ˜ ìˆëŠ” ê°ì²´ë“¤ì´ ì ìœ í•˜ê³  ìˆëŠ” í™ì˜ í¬ê¸°</li></ul></li></ul></li><li>VisuamVM: <a href="https://visualvm.github.io/" target="_blank" rel="noopener">https://visualvm.github.io/</a></li></ul><h1 id="ë©”ëª¨ë¦¬-ì‚¬ìš©-ë°-GC-ëª¨ë‹ˆí„°ë§"><a href="#ë©”ëª¨ë¦¬-ì‚¬ìš©-ë°-GC-ëª¨ë‹ˆí„°ë§" class="headerlink" title="ë©”ëª¨ë¦¬ ì‚¬ìš© ë° GC ëª¨ë‹ˆí„°ë§"></a>ë©”ëª¨ë¦¬ ì‚¬ìš© ë° GC ëª¨ë‹ˆí„°ë§</h1><blockquote><p>jstat -gc -h10 -t PID 10000<br>10ì¤„ë§ˆë‹¤ í—¤ë” ì¶œë ¥, íƒ€ì„ìŠ¤íƒ¬í”„ ì¶œë ¥, 10000ë°€ë¦¬ì´ˆë§ˆë‹¤ ì¶œë ¥</p></blockquote><p><img src="https://i.imgur.com/d0TMbpm.png" alt="Imgur"></p><h1 id="Thread-Dump"><a href="#Thread-Dump" class="headerlink" title="Thread Dump"></a>Thread Dump</h1><blockquote><p>jstack PID &gt; THREAD_DUMP_OUTPUT_FILENAME</p></blockquote><h1 id="Thread-Dump-ë¶„ì„-ì‚¬ì´íŠ¸"><a href="#Thread-Dump-ë¶„ì„-ì‚¬ì´íŠ¸" class="headerlink" title="Thread Dump ë¶„ì„ ì‚¬ì´íŠ¸"></a>Thread Dump ë¶„ì„ ì‚¬ì´íŠ¸</h1><ul><li><a href="https://fastthread.io" target="_blank" rel="noopener">https://fastthread.io</a></li></ul><h1 id="ìë°”-ë©”ëª¨ë¦¬-ë¶„ì„-ê´€ë ¨-ì¢‹ì€-ìë£Œ"><a href="#ìë°”-ë©”ëª¨ë¦¬-ë¶„ì„-ê´€ë ¨-ì¢‹ì€-ìë£Œ" class="headerlink" title="ìë°” ë©”ëª¨ë¦¬ ë¶„ì„ ê´€ë ¨ ì¢‹ì€ ìë£Œ"></a>ìë°” ë©”ëª¨ë¦¬ ë¶„ì„ ê´€ë ¨ ì¢‹ì€ ìë£Œ</h1><ul><li>GC ê´€ë ¨: <ul><li><a href="https://d2.naver.com/helloworld/6043" target="_blank" rel="noopener">https://d2.naver.com/helloworld/6043</a></li></ul></li><li>OOM ë° Heap Shrinkage ê´€ë ¨: <ul><li><a href="https://www.samsungsds.com/global/ko/support/insights/1209174_2284.html" target="_blank" rel="noopener">https://www.samsungsds.com/global/ko/support/insights/1209174_2284.html</a></li></ul></li><li>ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ê´€ë ¨: <ul><li><a href="https://d2.naver.com/helloworld/1326256" target="_blank" rel="noopener">https://d2.naver.com/helloworld/1326256</a></li><li><a href="https://woowabros.github.io/tools/2019/05/24/jvm_memory_leak.html" target="_blank" rel="noopener">https://woowabros.github.io/tools/2019/05/24/jvm_memory_leak.html</a></li></ul></li><li>Thread Dump ê´€ë ¨:<ul><li><a href="https://brunch.co.kr/@springboot/126" target="_blank" rel="noopener">https://brunch.co.kr/@springboot/126</a></li><li><a href="https://d2.naver.com/helloworld/10963" target="_blank" rel="noopener">https://d2.naver.com/helloworld/10963</a></li></ul></li></ul><h1 id="ì§¤ë§‰-ì§€ì‹"><a href="#ì§¤ë§‰-ì§€ì‹" class="headerlink" title="ì§¤ë§‰ ì§€ì‹"></a>ì§¤ë§‰ ì§€ì‹</h1><h2 id="Heap-Shrinkage"><a href="#Heap-Shrinkage" class="headerlink" title="Heap Shrinkage"></a>Heap Shrinkage</h2><ul><li><strong>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¦ê°€ ì‹œí‚¤ëŠ” ì‘ì—…ì´ ëë‚œë‹¤ê³  í•´ì„œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë°”ë¡œ ì¤„ì–´ë“¤ì§€ëŠ” ì•ŠìŒ</strong><ul><li><strong>ì–´ë–¤ ì‘ì—… ì™„ë£Œ í›„ topë¡œ í™•ì¸í•œ ë©”ëª¨ë¦¬ ì‚¬ìš©ì´ ì¤„ì§€ ì•ŠëŠ”ë‹¤ê³  í•´ì„œ ë¬´ì¡°ê±´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¼ê³  íŒë‹¨í•˜ë©´ ì•ˆë¨</strong></li></ul></li></ul><h3 id="ì‚¬ë¡€"><a href="#ì‚¬ë¡€" class="headerlink" title="ì‚¬ë¡€"></a>ì‚¬ë¡€</h3><ul><li>ì‘ì—… ì‹œì‘ ì „<ul><li><img src="https://i.imgur.com/oZV4Eat.png" alt="Imgur"></li></ul></li><li>ì‘ì—… ì¤‘ - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€<ul><li><img src="https://i.imgur.com/t8hwQHz.png" alt="Imgur"></li></ul></li><li>ì‘ì—… ì™„ë£Œ í›„ - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œí•˜ì§€ ì•ŠìŒ<ul><li><img src="https://i.imgur.com/sGBCLbK.png" alt="Imgur"></li></ul></li><li>ë©”ëª¨ë¦¬ íšŒìˆ˜ - jmap ìì²´ê°€ ë©”ëª¨ë¦¬ íšŒìˆ˜ ëª…ë ¹ì€ ì•„ë‹ˆì§€ë§Œ, ë¶€ìˆ˜ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ê°ì†Œí•¨<ul><li><img src="https://i.imgur.com/gQze3QN.png" alt="Imgur"></li></ul></li><li>ë”°ë¼ì„œ jmap ì„ í™ ë¤í”„ ë¿ì•„ë‹ˆë¼ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ í™•ì¸ ê°„í¸ë²•ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŒ<ul><li>ë°˜ë“œì‹œ <code>-dump:live</code> ì˜µì…˜ì„ ì¤˜ì•¼ ê³¼ë„í•œ í¬ê¸°ì˜ í™ ë¤í”„ íŒŒì¼ì´ ìƒì„±ë˜ì§€ ì•ŠìŒ</li><li>jmap ì„ í•´ë„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë§ì´ ì¤„ì§€ ì•ŠëŠ”ë‹¤ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ìˆëŠ” ê±¸ë¡œ ì¶”ì • ê°€ëŠ¥</li></ul></li></ul><h2 id="ê²½í—˜ìƒ-ì¤‘ì²©ëœ-Collectionì€-ë©”ëª¨ë¦¬-ì´ìŠˆ-ë°œìƒí• -ë‚Œìƒˆê°€-ì¢€-ìˆë”ë¼"><a href="#ê²½í—˜ìƒ-ì¤‘ì²©ëœ-Collectionì€-ë©”ëª¨ë¦¬-ì´ìŠˆ-ë°œìƒí• -ë‚Œìƒˆê°€-ì¢€-ìˆë”ë¼" class="headerlink" title="ê²½í—˜ìƒ ì¤‘ì²©ëœ Collectionì€ ë©”ëª¨ë¦¬ ì´ìŠˆ ë°œìƒí•  ë‚Œìƒˆê°€ ì¢€ ìˆë”ë¼.."></a>ê²½í—˜ìƒ ì¤‘ì²©ëœ Collectionì€ ë©”ëª¨ë¦¬ ì´ìŠˆ ë°œìƒí•  ë‚Œìƒˆê°€ ì¢€ ìˆë”ë¼..</h2><ul><li>Listì˜ ì›ì†Œ ì•ˆì— ë˜ List ê°€ ìˆê³  ê·¸ ì•ˆì— ë˜ List ê°€ ìˆê³ ..</li><li>Map ì˜ value ì¤‘ì— ë˜ Map ì´ ìˆê³  ê·¸ ì•ˆì— ë˜ Map ì´ ìˆê³ ..</li><li>ëŒ€ëŸ‰ì˜ ë°ì´í„°ê°€ ìœ„ì™€ ê°™ì€ í˜•íƒœë¡œ ì²˜ë¦¬ë˜ë©´ ë©”ëª¨ë¦¬ íšŒìˆ˜ íƒ€ì´ë°ì´ ì¢€ ì§€ì—°ë˜ëŠ” ê²ƒ ê°™ê³ , ê²°êµ­ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ê³¼ë„í•˜ê²Œ ë†’ì•„ì ¸ì„œ OOM ì´ ë°œìƒí•˜ê¸°ë„ í•˜ë”ë¼..</li><li>ì´ëŸ´ ë•ŒëŠ” GCì— ë§¡ê¸°ì§€ ë§ê³  ì¤‘ê°„ì¤‘ê°„ Collection ì•ˆì— ì¤‘ì²©ëœ Collection ë“¤ì„ ì§ì ‘ <code>clear()</code> í•´ì£¼ëŠ” ê²Œ ë„ì›€ì´ ë  ìˆ˜ë„..</li><li>JPA ì—ì„œì˜ ì—°ê´€ê´€ê³„ë¡œ ì¤‘ì²©ëœ Collectionì´ ìƒê²¨ë‚œ ê²½ìš°ì—ëŠ” LazyLoadingì„ í†µí•´ OOM ì„ ë°©ì§€í•  ìˆ˜ë„ ìˆë‹¤</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Java-ë©”ëª¨ë¦¬-ëª¨ë‹ˆí„°ë§&quot;&gt;&lt;a href=&quot;#Java-ë©”ëª¨ë¦¬-ëª¨ë‹ˆí„°ë§&quot; class=&quot;headerlink&quot; title=&quot;Java ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§&quot;&gt;&lt;/a&gt;Java ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§&lt;/h1&gt;&lt;p&gt;ë‘ì„œ ì—†ì´ ì´ê²ƒì €ê²ƒ ëª¨ì•„ë³¸ ìë°” ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§
      
    
    </summary>
    
      <category term="Performance" scheme="http://homoefficio.github.io/categories/Performance/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="Memory" scheme="http://homoefficio.github.io/tags/Memory/"/>
    
      <category term="Monitoring" scheme="http://homoefficio.github.io/tags/Monitoring/"/>
    
      <category term="Eclipse MAT" scheme="http://homoefficio.github.io/tags/Eclipse-MAT/"/>
    
      <category term="VisualVM" scheme="http://homoefficio.github.io/tags/VisualVM/"/>
    
      <category term="Heap Dump" scheme="http://homoefficio.github.io/tags/Heap-Dump/"/>
    
      <category term="Thread Dump" scheme="http://homoefficio.github.io/tags/Thread-Dump/"/>
    
      <category term="Memory Leak" scheme="http://homoefficio.github.io/tags/Memory-Leak/"/>
    
      <category term="jmap" scheme="http://homoefficio.github.io/tags/jmap/"/>
    
      <category term="jstat" scheme="http://homoefficio.github.io/tags/jstat/"/>
    
      <category term="Heap Shrinkage" scheme="http://homoefficio.github.io/tags/Heap-Shrinkage/"/>
    
  </entry>
  
  <entry>
    <title>Java Native Memory Tracking</title>
    <link href="http://homoefficio.github.io/2020/04/09/Java-Native-Memory-Tracking/"/>
    <id>http://homoefficio.github.io/2020/04/09/Java-Native-Memory-Tracking/</id>
    <published>2020-04-09T07:26:35.000Z</published>
    <updated>2020-04-09T07:52:24.184Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java-Native-Memory-Tracking"><a href="#Java-Native-Memory-Tracking" class="headerlink" title="Java Native Memory Tracking"></a>Java Native Memory Tracking</h1><h2 id="DMA"><a href="#DMA" class="headerlink" title="DMA"></a>DMA</h2><p>ìë°”ì—ì„œë„ <code>DirectBuffer</code>ë¥¼ ì´ìš©í•´ì„œ JVMì´ ì•„ë‹Œ Native ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³  DMA(Direct Memory Access)ì˜ ì¥ì ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.</p><p>êµ¬ì²´ì ì¸ ì‚¬ìš©ë²• ë“± ìì„¸í•œ ë‚´ìš©ì€ <a href="https://homoefficio.github.io/2019/02/27/Java-NIO-Direct-Bufferë¥¼-ì´ìš©í•´ì„œ-ëŒ€ìš©ëŸ‰-íŒŒì¼-í–‰-ê¸°ì¤€ìœ¼ë¡œ-ìª¼ê°œê¸°/">Java NIO Direct Bufferë¥¼ ì´ìš©í•´ì„œ ëŒ€ìš©ëŸ‰ íŒŒì¼ í–‰ ê¸°ì¤€ìœ¼ë¡œ ìª¼ê°œê¸°</a>ë¥¼ ì°¸ê³ í•˜ê³  ì¥ë‹¨ì ë§Œ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><h3 id="ì¥ì "><a href="#ì¥ì " class="headerlink" title="ì¥ì "></a>ì¥ì </h3><ul><li>ë””ìŠ¤í¬ì— ìˆëŠ” íŒŒì¼ì„ ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ë¡œ ì½ì–´ë“¤ì¼ ë•Œ CPUë¥¼ ê±´ë“œë¦¬ì§€ ì•ŠëŠ”ë‹¤.</li><li>ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ìˆëŠ” íŒŒì¼ ë‚´ìš©ì„ JVM ë‚´ ë©”ëª¨ë¦¬ë¡œ ë‹¤ì‹œ ë³µì‚¬í•  í•„ìš”ê°€ ì—†ë‹¤.</li><li>JVM ë‚´ í™ ë©”ëª¨ë¦¬ë¥¼ ì“°ì§€ ì•Šìœ¼ë¯€ë¡œ GCë¥¼ ìœ ë°œí•˜ì§€ ì•ŠëŠ”ë‹¤.(ë¬¼ë¡  ì¼ì • í¬ê¸°ë¥¼ ê°€ì§„ ë²„í¼ê°€ ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ìƒì„±ë˜ëŠ” ê²ƒì´ê³ , ì´ ë²„í¼ì— ëŒ€í•œ ì°¸ì¡° ìì²´ëŠ” JVM ë©”ëª¨ë¦¬ ë‚´ì— ìƒì„±ëœë‹¤)</li></ul><h3 id="ë‹¨ì "><a href="#ë‹¨ì " class="headerlink" title="ë‹¨ì "></a>ë‹¨ì </h3><ul><li>DMAì— ì‚¬ìš©í•  ë²„í¼ ìƒì„± ì‹œ ì‹œê°„ì´ ë” ì†Œìš”ë  ìˆ˜ ìˆë‹¤.</li><li>ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì·¨ê¸‰í•˜ë¯€ë¡œ, ë°ì´í„°ë¥¼ í–‰ ë‹¨ìœ„ë¡œ ì·¨ê¸‰í•˜ê¸° ë¶ˆí¸í•˜ë‹¤.</li><li>ì¼ë°˜ì ì¸ Java ë©”ëª¨ë¦¬ ë¶„ì„ ë°©ë²•ìœ¼ë¡œëŠ” ì¶”ì í•  ìˆ˜ ì—†ë‹¤.</li></ul><p>ìš”ëŠ” ëŒ€ìš©ëŸ‰ íŒŒì¼ì„ ì‚¬ìš©í•  ë•Œ <code>DirectBuffer</code>ë¥¼ ì‚¬ìš©í•˜ë©´ DMAì˜ ì¥ì ì„ ëˆ„ë¦´ ìˆ˜ ìˆê³  ë‹¨ì ì„ í”¼í•  ìˆ˜ ìˆë‹¤.</p><h2 id="ë©”ëª¨ë¦¬-ì‚¬ìš©-ì¶”ì "><a href="#ë©”ëª¨ë¦¬-ì‚¬ìš©-ì¶”ì " class="headerlink" title="ë©”ëª¨ë¦¬ ì‚¬ìš© ì¶”ì "></a>ë©”ëª¨ë¦¬ ì‚¬ìš© ì¶”ì </h2><p>ê·¸ëŸ°ë° JVM ë©”ëª¨ë¦¬ê°€ ì•„ë‹Œ Nativeë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ í™ ë¤í”„ë‚˜ ìŠ¤ë ˆë“œ ë¤í”„ ë¶„ì„, <code>jstat</code> ë“± ì¼ë°˜ì ì¸ Java ë©”ëª¨ë¦¬ ë¶„ì„ ë°©ë²•ìœ¼ë¡œëŠ” ì¶”ì ì´ ì•ˆ ëœë‹¤.</p><p>ëŒ€ìš©ëŸ‰ íŒŒì¼ ì‚¬ìš© ì‹œ ì¥ì ì´ ë§ë‹¤ê³  í•˜ë‹ˆ ì•„ë¬´ë˜ë„ <code>DirectBuffer</code> í¬ê¸°ë„ í¬ê²Œ ì¡ì„ ìˆ˜ë¡ ì„±ëŠ¥ ìƒìœ¼ë¡œëŠ” ìœ ë¦¬í•˜ê² ì§€ë§Œ, ê·¸ í° ë©”ëª¨ë¦¬ê°€ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ê³  íšŒìˆ˜ë˜ëŠ”ì§€ í™•ì¸ì´ ì•ˆ ëœë‹¤ë©´ ê³¤ë€í•˜ë‹¤.</p><p>ì–´ì©Œì§€?</p><p>ë­˜ ì–´ì§¸.. ê²€ìƒ‰ì´ì§€.. ê²€ìƒ‰í•´ì„œ ì°¾ì€ ë‹µì€ <code>jcmd</code>ë‹¤. </p><p>ê°„ëµí•˜ê²Œ ì•Œì•„ë³´ì.</p><h2 id="Java-ì‹¤í–‰-ì˜µì…˜-ì¶”ê°€"><a href="#Java-ì‹¤í–‰-ì˜µì…˜-ì¶”ê°€" class="headerlink" title="Java ì‹¤í–‰ ì˜µì…˜ ì¶”ê°€"></a>Java ì‹¤í–‰ ì˜µì…˜ ì¶”ê°€</h2><p>ì–´ë–¤ Java ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ Native ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ ì¶”ì í•˜ë ¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œ ë‹¤ìŒ ì˜µì…˜ì„ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤.</p><blockquote><p>-XX:NativeMemoryTracking=summary</p></blockquote><h2 id="ë©”ëª¨ë¦¬-ì‚¬ìš©-í˜„í™©-ë² ì´ìŠ¤ë¼ì¸-ì§€ì •"><a href="#ë©”ëª¨ë¦¬-ì‚¬ìš©-í˜„í™©-ë² ì´ìŠ¤ë¼ì¸-ì§€ì •" class="headerlink" title="ë©”ëª¨ë¦¬ ì‚¬ìš© í˜„í™© ë² ì´ìŠ¤ë¼ì¸ ì§€ì •"></a>ë©”ëª¨ë¦¬ ì‚¬ìš© í˜„í™© ë² ì´ìŠ¤ë¼ì¸ ì§€ì •</h2><p>ì´ì œë¶€í„° ì•Œì•„ë³¼ ë©”ëª¨ë¦¬ ì‚¬ìš© ì¶”ì  ë°©ë²•ì€ <strong>ì–´ë–¤ ê¸°ì¤€ì  ëŒ€ë¹„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°(diff)ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.</strong> ë”°ë¼ì„œ ë¨¼ì € ë¹„êµ ê¸°ì¤€ì´ ë  ë² ì´ìŠ¤ë¼ì¸(ê¸°ì¤€ì )ì„ ì§€ì •í•´ì¤€ë‹¤.</p><blockquote><p>jcmd {PID} VM.native_memory baseline</p></blockquote><p>ìœ„ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ PIDì™€ í•¨ê»˜ <code>Baseline succeed</code>ë¼ëŠ” ì§¤ë§‰í•œ ë©”ì‹œì§€ë§Œ ì¶œë ¥ëœë‹¤. ë¹„êµ ê¸°ì¤€ì¸ ë² ì´ìŠ¤ë¼ì¸ì´ ì§€ì •ëë‹¤ëŠ” ëœ»ì´ë‹¤.</p><h2 id="ë©”ëª¨ë¦¬-ì‚¬ìš©-í˜„í™©-ì¶œë ¥-ì´ˆê¸°"><a href="#ë©”ëª¨ë¦¬-ì‚¬ìš©-í˜„í™©-ì¶œë ¥-ì´ˆê¸°" class="headerlink" title="ë©”ëª¨ë¦¬ ì‚¬ìš© í˜„í™© ì¶œë ¥ - ì´ˆê¸°"></a>ë©”ëª¨ë¦¬ ì‚¬ìš© í˜„í™© ì¶œë ¥ - ì´ˆê¸°</h2><p>ì´ì œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ <strong>ë©”ëª¨ë¦¬ ì‚¬ìš© í•­ëª©ë³„ë¡œ ë² ì´ìŠ¤ë¼ì¸ ëŒ€ë¹„ ì‚¬ìš©ëŸ‰ ì¦ê°(diff)ì„ ë³´ì—¬ì¤€ë‹¤.</strong></p><blockquote><p>jcmd {PID} VM.native_memory summary.diff</p></blockquote><p>ì§€ê¸ˆê¹Œì§€ ìˆ˜í–‰í•œ ë² ì´ìŠ¤ë¼ì¸ ì§€ì •ê³¼ ì´ˆê¸° í˜„í™© ì¶œë ¥ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src="https://i.imgur.com/SGbIKgm.png" alt="Imgur"></p><p>ê·¸ë¦¬ê³  Native ë©”ëª¨ë¦¬ëŠ” Internal í•­ëª©ì— í‘œì‹œë˜ë©°, ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ í›„ ë³„ë‹¤ë¥¸ ì‘ì—… ì—†ëŠ” ì´ˆê¸° ìƒíƒœì—ì„œ Native ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ 44KB ì´ë‹¤.</p><p>ìœ„ ëª…ë ¹ì€ <code>jstat</code>ì²˜ëŸ¼ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ì˜µì…˜ì€ ì—†ëŠ” ê²ƒ ê°™ê³ , í•„ìš”í•  ë•Œë§ˆë‹¤ ì§ì ‘ ì‹¤í–‰í•˜ê³  ì¶œë ¥ ë‚´ìš©ì„ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•œë‹¤.</p><h2 id="ë©”ëª¨ë¦¬-ì‚¬ìš©-í˜„í™©-ì¶œë ¥-DirectBuffer-ì‚¬ìš©-ì¤‘"><a href="#ë©”ëª¨ë¦¬-ì‚¬ìš©-í˜„í™©-ì¶œë ¥-DirectBuffer-ì‚¬ìš©-ì¤‘" class="headerlink" title="ë©”ëª¨ë¦¬ ì‚¬ìš© í˜„í™© ì¶œë ¥ - DirectBuffer ì‚¬ìš© ì¤‘"></a>ë©”ëª¨ë¦¬ ì‚¬ìš© í˜„í™© ì¶œë ¥ - DirectBuffer ì‚¬ìš© ì¤‘</h2><p><code>DirectBuffer</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‘ì—…ì„ ì‹¤í–‰í•œ í›„ì— ë‹¤ì‹œ <code>jcmd {PID} VM.native_memory summary.diff</code>ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ Internal í•­ëª©ì˜ ì‚¬ìš©ëŸ‰ì´ ê¸°ì¡´ 44KBì—ì„œ 150MBë¡œ ëŒ€í­ ëŠ˜ì–´ë‚œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/t9gmDhx.png" alt="Imgur"></p><p>ì‹¤ì œ ì½”ë“œì—ì„œë„ ë‹¤ìŒê³¼ ê°™ì´ 3ê°œì˜ <code>DirectBuffer</code>ë¥¼ ê° 50M ì”© í• ë‹¹í–ˆìœ¼ë¯€ë¡œ ìœ„ ê·¸ë¦¼ì—ì„œ ì¶œë ¥ëœ ë‚´ìš©ê³¼ ì˜ ë¶€í•©í•œë‹¤.</p><p><img src="https://i.imgur.com/2AfnkJj.png" alt="Imgur"></p><h2 id="ë©”ëª¨ë¦¬-ì‚¬ìš©-í˜„í™©-ì¶œë ¥-DirectBuffer-ì‚¬ìš©-ì™„ë£Œ-í›„"><a href="#ë©”ëª¨ë¦¬-ì‚¬ìš©-í˜„í™©-ì¶œë ¥-DirectBuffer-ì‚¬ìš©-ì™„ë£Œ-í›„" class="headerlink" title="ë©”ëª¨ë¦¬ ì‚¬ìš© í˜„í™© ì¶œë ¥ - DirectBuffer ì‚¬ìš© ì™„ë£Œ í›„"></a>ë©”ëª¨ë¦¬ ì‚¬ìš© í˜„í™© ì¶œë ¥ - DirectBuffer ì‚¬ìš© ì™„ë£Œ í›„</h2><p><code>DirectBuffer</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‘ì—… ì™„ë£Œ í›„ ë³„ë‹¤ë¥¸ ì¡°ì¹˜ ì—†ì´ ë‹¤ì‹œ <code>jcmd {PID} VM.native_memory summary.diff</code>ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ Internal í•­ëª©ì˜ ì‚¬ìš©ëŸ‰ì´ 150MBì—ì„œ 328KBë¡œ ëŒ€í­ ì¤„ì–´ë“  ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/PRG5Nqh.png" alt="Imgur"></p><p>ì¦‰ <code>DirectBuffer</code> ì‚¬ìš©ì´ ëë‚œ í›„ì— ìë™ìœ¼ë¡œ Native ë©”ëª¨ë¦¬ê°€ ì •ìƒì ìœ¼ë¡œ íšŒìˆ˜ëìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.</p><h2 id="ë”-ì½ì„-ê±°ë¦¬"><a href="#ë”-ì½ì„-ê±°ë¦¬" class="headerlink" title="ë” ì½ì„ ê±°ë¦¬"></a>ë” ì½ì„ ê±°ë¦¬</h2><ul><li>jcmd ëª…ë ¹ í•´ì„¤(ê³µì‹ ë¬¸ì„œë³´ë‹¤ í›¨ì”¬ ë‚˜ìŒ): <a href="https://www.javacodegeeks.com/2016/03/jcmd-one-jdk-command-line-tool-rule.html" target="_blank" rel="noopener">https://www.javacodegeeks.com/2016/03/jcmd-one-jdk-command-line-tool-rule.html</a></li></ul><h2 id="ì •ë¦¬"><a href="#ì •ë¦¬" class="headerlink" title="ì •ë¦¬"></a>ì •ë¦¬</h2><blockquote><ul><li><p>Javaì—ì„œë„ <code>DirectBuffer</code>ë¥¼ ì´ìš©í•´ì„œ DMAë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.</p></li><li><p>DMAì— í™œìš©ëœ Native ë©”ëª¨ë¦¬ëŠ” ì‚¬ìš© ì™„ë£Œ í›„ JVM GCì™€ ë¬´ê´€í•˜ê²Œ(ì¦‰ ë‹¤ë¥¸ ì ˆì°¨ì— ì˜í•´) ìë™ìœ¼ë¡œ ë°˜í™˜ëœë‹¤.</p></li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Java-Native-Memory-Tracking&quot;&gt;&lt;a href=&quot;#Java-Native-Memory-Tracking&quot; class=&quot;headerlink&quot; title=&quot;Java Native Memory Tracking&quot;&gt;&lt;/a&gt;Java 
      
    
    </summary>
    
      <category term="Performance" scheme="http://homoefficio.github.io/categories/Performance/"/>
    
    
      <category term="Native Memory" scheme="http://homoefficio.github.io/tags/Native-Memory/"/>
    
      <category term="DirectBuffer" scheme="http://homoefficio.github.io/tags/DirectBuffer/"/>
    
      <category term="Direct Memory Access" scheme="http://homoefficio.github.io/tags/Direct-Memory-Access/"/>
    
      <category term="DMA" scheme="http://homoefficio.github.io/tags/DMA/"/>
    
      <category term="jcmd" scheme="http://homoefficio.github.io/tags/jcmd/"/>
    
      <category term="NativeMemoryTracking" scheme="http://homoefficio.github.io/tags/NativeMemoryTracking/"/>
    
      <category term="VM.native_memory" scheme="http://homoefficio.github.io/tags/VM-native-memory/"/>
    
      <category term="baseline" scheme="http://homoefficio.github.io/tags/baseline/"/>
    
      <category term="summary.diff" scheme="http://homoefficio.github.io/tags/summary-diff/"/>
    
  </entry>
  
  <entry>
    <title>Spring Dataì—ì„œ Batch Insert ìµœì í™”</title>
    <link href="http://homoefficio.github.io/2020/01/25/Spring-Data%EC%97%90%EC%84%9C-Batch-Insert-%EC%B5%9C%EC%A0%81%ED%99%94/"/>
    <id>http://homoefficio.github.io/2020/01/25/Spring-Dataì—ì„œ-Batch-Insert-ìµœì í™”/</id>
    <published>2020-01-25T14:06:24.000Z</published>
    <updated>2020-01-30T16:44:46.720Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spring-Dataì—ì„œ-Batch-Insert-ìµœì í™”"><a href="#Spring-Dataì—ì„œ-Batch-Insert-ìµœì í™”" class="headerlink" title="Spring Dataì—ì„œ Batch Insert ìµœì í™”"></a>Spring Dataì—ì„œ Batch Insert ìµœì í™”</h1><p>Spring Data JPAê°€ ì•ˆê²¨ì£¼ëŠ” í¸ë¦¬í•¨ ë’¤ì—ëŠ” ê°€ë” ì„±ëŠ¥ ì†ì‹¤ì´ ìˆ¨ì–´ìˆë‹¤. ì´ë²ˆì— ì•Œì•„ë³¼ Batch Insertë„ ê·¸ëŸ° ì˜ˆ ì¤‘ í•˜ë‚˜ë‹¤.</p><p>ì„±ëŠ¥ ì†ì‹¤ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì´ìœ ì™€ 2ê°€ì§€ í•´ê²° ë°©ë²•ì„ ì•Œì•„ë³¸ë‹¤.</p><p>ì „ì²´ ì½”ë“œëŠ” <a href="https://github.com/HomoEfficio/micro-benchmark-spring-boot-batch-insert" target="_blank" rel="noopener">https://github.com/HomoEfficio/micro-benchmark-spring-boot-batch-insert</a> ì—¬ê¸°ì—ì„œ ë³¼ ìˆ˜ ìˆìœ¼ë©° ì•„ì£¼ ì‰½ê²Œ ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ ë³¼ ìˆ˜ë„ ìˆë‹¤.</p><h1 id="Batch-Insertë€"><a href="#Batch-Insertë€" class="headerlink" title="Batch Insertë€?"></a>Batch Insertë€?</h1><p>ê±°ì°½í•œ ê±° í•˜ë‚˜ë„ ì—†ë‹¤. 3ê±´ì˜ ë°ì´í„°ë¥¼ insert í•œë‹¤ê³  í•  ë•Œ,</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table1 (col1, col2) <span class="keyword">VALUES</span> (val11, val12);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table1 (col1, col2) <span class="keyword">VALUES</span> (val21, val22);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table1 (col1, col2) <span class="keyword">VALUES</span> (val31, val32);</span><br></pre></td></tr></table></figure><p>ì´ë ‡ê²Œ í•˜ë©´ ê°œë³„ insertê³ ,</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table1 (col1, col2) <span class="keyword">VALUES</span></span><br><span class="line">(val11, val12),</span><br><span class="line">(val21, val22),</span><br><span class="line">(val31, val32);</span><br></pre></td></tr></table></figure><p>ì´ë ‡ê²Œ í•˜ë©´ batch insertë‹¤. ê·¸ëƒ¥ ë´ë„ batch insert ìª½ì´ í›¨ì”¬ íš¨ìœ¨ì ì„ì„ ì‰½ê²Œ ì•Œ ìˆ˜ ìˆë‹¤.</p><p>DB ê´€ì ì—ì„œë³´ë©´ ê°„ë‹¨í•œë°, Spring Dataì—ì„œ ì €ëŸ° DMLì´ DBë¡œ ì „ë‹¬ë˜ê²Œ í•˜ëŠ” ê±´ ê·¸ë ‡ê²Œ ê°„ë‹¨í•˜ì§€ë§Œì€ ì•Šë‹¤.</p><h1 id="Hibernateì˜-Batch-Insert-ì œì•½-ì‚¬í•­"><a href="#Hibernateì˜-Batch-Insert-ì œì•½-ì‚¬í•­" class="headerlink" title="Hibernateì˜ Batch Insert ì œì•½ ì‚¬í•­"></a>Hibernateì˜ Batch Insert ì œì•½ ì‚¬í•­</h1><p><a href="https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#batch-session-batch-insert" target="_blank" rel="noopener">Hibernate ë ˆí¼ëŸ°ìŠ¤ ë¬¸ì„œ 12.2.1. Batch inserts</a>ì˜ ë°”ë¡œ ìœ„ì— ë‹¤ìŒê³¼ ê°™ì´ <strong>ì‹ë³„ì ìƒì„±ì— IDENTITY ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ Hibernateê°€ JDBC ìˆ˜ì¤€ì—ì„œ batch insertë¥¼ ë¹„í™œì„±í™”</strong>í•œë‹¤ê³  ë‚˜ì™€ìˆë‹¤.</p><blockquote><p>Hibernate disables insert batching at the JDBC level transparently if you use an identity identifier generator.</p></blockquote><p>ë¹„í™œì„±í™”í•˜ëŠ” ì´ìœ ëŠ” Hibernate ë¬¸ì„œì—ëŠ” ì—†ëŠ” ê²ƒ ê°™ì•„ì„œ ë‹¤ì‹œ ì°¾ì•„ë³´ë‹ˆ StackOverflowì— <a href="https://stackoverflow.com/a/27732138" target="_blank" rel="noopener">Vlad Mihalceaê°€ ì˜¬ë¦° ëŒ“ê¸€</a>ì—ì„œ ë‹¨ì„œë¥¼ ì°¾ì„ ìˆ˜ ìˆì—ˆë‹¤.</p><blockquote><p>The only drawback is that we canâ€™t know the newly assigned value prior to executing the INSERT statement. This restriction is hindering the â€œtransactional write behindâ€ flushing strategy adopted by Hibernate. For this reason, Hibernates disables the JDBC batch support for entities using the IDENTITY generator.</p></blockquote><p>ìš”ëŠ” <strong>ìƒˆë¡œ í• ë‹¹í•  Key ê°’ì„ ë¯¸ë¦¬ ì•Œ ìˆ˜ ì—†ëŠ” IDENTITY ë°©ì‹ì„ ì‚¬ìš©í•  ë•Œ Batch Supportë¥¼ ì§€ì›í•˜ë©´ Hibernateê°€ ì±„íƒí•œ flush ë°©ì‹ì¸ â€˜Transactional Write Behindâ€™ì™€ ì¶©ëŒì´ ë°œìƒí•˜ê¸° ë•Œë¬¸</strong>ì—, IDENTITY ë°©ì‹ì—ì„œëŠ” Batch Insertë¥¼ ë¹„í™œì„±í™” í•œë‹¤ëŠ” ì–˜ê¸°ë‹¤. ë”°ë¼ì„œ ê·¸ëƒ¥ <strong>ì¼ìƒì ìœ¼ë¡œ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©í•˜ëŠ” IDENTITY ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ Batch InsertëŠ” ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.</strong></p><p>ê·¸ë ‡ë‹¤ê³  Batch Insertë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ IDENTITY ë°©ì‹ë§ê³  ì„£ë¶ˆë¦¬ SEQUENCE ë°©ì‹ì´ë‚˜ TABLE ë°©ì‹ì„ ì˜ëª» ì‚¬ìš©í•˜ë©´ ë” ë‚˜ìœ ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤. <strong>ì±„ë²ˆì— ë”°ë¥¸ ë¶€í•˜ê°€ ìƒë‹¹íˆ í° SEQUENCE ë°©ì‹ì´ë‚˜ TABLE ë°©ì‹ì„ ë³„ë‹¤ë¥¸ ì¡°ì¹˜ ì—†ì´ ì‚¬ìš©í•˜ë©´ Batch Insertë¥¼ ì“¸ ìˆ˜ ì—†ëŠ” IDENTITY ë°©ì‹ë³´ë‹¤ ë” ëŠë¦¬ë‹¤.</strong> ìì„¸í•œ ë‚´ìš©ì€ <a href="https://github.com/HomoEfficio/dev-tips/blob/master/JPA-GenerationType-ë³„-INSERT-ì„±ëŠ¥-ë¹„êµ.md" target="_blank" rel="noopener">https://github.com/HomoEfficio/dev-tips/blob/master/JPA-GenerationType-ë³„-INSERT-ì„±ëŠ¥-ë¹„êµ.md</a> ë¥¼ ì°¸ê³ í•œë‹¤. ë‚˜ë¦„ ê±´ì§ˆë§Œí•œ ë‚´ìš©ì´ ê½¤ ìˆìœ¼ë‹ˆ ê¼­ í•œ ë²ˆ ë³´ê¸¸ ê¶Œí•œë‹¤.</p><p>ë¬¸ì œ ë°œìƒ ì›ì¸ì—ì„œ ìœ ì¶”í•  ìˆ˜ ìˆëŠ” í•´ê²° ë°©ë²•ì€ 2ê°€ì§€ê°€ ìˆë‹¤. </p><ol><li>SEQUENCEë‚˜ TABLE ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ì„œ ì±„ë²ˆ ë¶€í•˜ë¥¼ ë‚®ì¶”ëŠ” ë°©ë²•</li><li>ì•„ì˜ˆ Spring Data JPAë¥¼ ë²—ì–´ë‚˜ëŠ” ë°©ë²•</li></ol><h1 id="ì±„ë²ˆ-ë¶€í•˜-ì ˆê°"><a href="#ì±„ë²ˆ-ë¶€í•˜-ì ˆê°" class="headerlink" title="ì±„ë²ˆ ë¶€í•˜ ì ˆê°"></a>ì±„ë²ˆ ë¶€í•˜ ì ˆê°</h1><p>Batch Insertë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” IDENTITY ë°©ì‹ ëŒ€ì‹ ì— SEQUENCEë‚˜ TABLE ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ì„œ ì±„ë²ˆ ë¶€í•˜ë¥¼ ë‚®ì¶”ëŠ” ë°©ë²•ì€ <a href="https://dev.to/smartyansh/best-possible-hibernate-configuration-for-batch-inserts-2a7a" target="_blank" rel="noopener">https://dev.to/smartyansh/best-possible-hibernate-configuration-for-batch-inserts-2a7a</a> ì—ì„œ ì°¾ì„ ìˆ˜ ìˆì—ˆë‹¤.</p><p>ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•˜ë©´ ì±„ë²ˆ ìì²´ë¥¼ Batch ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•´ì„œ ì±„ë²ˆ ë¶€í•˜ë¥¼ ë‚®ì¶”ëŠ” ë°©ì‹ì´ë‹¤.</p><h2 id="ì¼ë°˜ì ì¸-ì±„ë²ˆ"><a href="#ì¼ë°˜ì ì¸-ì±„ë²ˆ" class="headerlink" title="ì¼ë°˜ì ì¸ ì±„ë²ˆ"></a>ì¼ë°˜ì ì¸ ì±„ë²ˆ</h2><p>SEQUENCE ë°©ì‹ì€ ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.SEQUENCE)</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ Sequenceë¥¼ ì§€ì›í•˜ëŠ” DBì—ì„œëŠ” Sequenceë¥¼ ì´ìš©í•´ì„œ ì±„ë²ˆí•œë‹¤. ì•„ë˜ëŠ” Sequenceë¥¼ ì§€ì›í•˜ëŠ” H2 DBë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ ë‚˜ì˜¤ëŠ” Hibernate ë¡œê·¸ ì¼ë¶€ë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">Hibernate: call next value for hibernate_sequence</span><br><span class="line">Hibernate: call next value for hibernate_sequence</span><br><span class="line">Hibernate: call next value for hibernate_sequence</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>Sequenceë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” DBì—ì„œëŠ” Tableì„ ì´ìš©í•´ì„œ ì±„ë²ˆí•œë‹¤. ì•„ë˜ëŠ” Sequenceë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” MySQL DBì˜ ë¡œê·¸ ì¼ë¶€ë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">SET autocommit=0</span><br><span class="line">select next_val as id_val from hibernate_sequence for update</span><br><span class="line">update hibernate_sequence set next_val= 2 where next_val=1</span><br><span class="line">commit</span><br><span class="line">autocommit=1</span><br><span class="line">autocommit=0</span><br><span class="line">select next_val as id_val from hibernate_sequence for update</span><br><span class="line">update hibernate_sequence set next_val= 3 where next_val=2</span><br><span class="line">commit</span><br><span class="line">SET autocommit=1</span><br><span class="line">SET autocommit=0</span><br><span class="line">select next_val as id_val from hibernate_sequence for update</span><br><span class="line">update hibernate_sequence set next_val= 4 where next_val=3</span><br><span class="line">commit</span><br><span class="line">SET autocommit=1</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ë²ˆí˜¸ í•˜ë‚˜ ë”¸ ë•Œë§ˆë‹¤ ì¿¼ë¦¬ë¥¼ 2ê°œì”© ë‚ ë¦¬ê²Œ ë˜ë¯€ë¡œ ê½¤ í° ë¶€í•˜ê°€ ë°œìƒë  ê²ƒì„ì„ ì§ì‘í•  ìˆ˜ ìˆë‹¤.</p><h2 id="Batch-ì±„ë²ˆ"><a href="#Batch-ì±„ë²ˆ" class="headerlink" title="Batch ì±„ë²ˆ"></a>Batch ì±„ë²ˆ</h2><p>ì±„ë²ˆ ìì²´ë¥¼ Batchë¡œ ì²˜ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ 500ê°œì”© í•œêº¼ë²ˆì— ì±„ë²ˆí•´ì„œ ì¿¼ë¦¬ íšŸìˆ˜ë¥¼ ëŒ€í­ ì¤„ì´ê³  ì„±ëŠ¥ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">SET autocommit=0</span><br><span class="line">select next_val as id_val from hibernate_sequence for update</span><br><span class="line">update hibernate_sequence set next_val= 501 where next_val=1</span><br><span class="line">commit</span><br><span class="line">SET autocommit=1</span><br><span class="line">SET autocommit=0</span><br><span class="line">select next_val as id_val from hibernate_sequence for update</span><br><span class="line">update hibernate_sequence set next_val= 1001 where next_val=501</span><br><span class="line">commit</span><br><span class="line">SET autocommit=1</span><br><span class="line">SET autocommit=0</span><br><span class="line">select next_val as id_val from hibernate_sequence for update</span><br><span class="line">update hibernate_sequence set next_val= 1501 where next_val=1001</span><br><span class="line">commit</span><br><span class="line">SET autocommit=1</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>Batch ì±„ë²ˆì€ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì†Œ ë³µì¡í•œ Hibernate ì „ìš© ì• ë„ˆí…Œì´ì…˜ì„ ì§€ì •í•´ì•¼ í•œë‹¤. </p><p>ì±„ë²ˆ ë°°ì¹˜ í¬ê¸°ë„ ì• ë„ˆí…Œì´ì…˜ ë‚´ì—ì„œ ì§€ì •í•´ì•¼ í•˜ë¯€ë¡œ ë°°ì¹˜ í¬ê¸° ì„¤ì •ì„ yml íŒŒì¼ë¡œ ì™¸ë¶€í™” í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. ë˜í•œ ì±„ë²ˆ ë°°ì¹˜ í¬ê¸°ëŠ” ì—”í‹°í‹° í´ë˜ìŠ¤ì—ì„œ Hibernate ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œ ì§€ì •í•´ì•¼ í•˜ê³ , Batch Insertì˜ ë°°ì¹˜ í¬ê¸°ëŠ” yml íŒŒì¼ë¡œ ì§€ì •í•˜ë¯€ë¡œ ë‘ ê°’ì´ ë‹¬ë¼ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆë‹¤ëŠ” ê²ƒë„ ìš´ì˜ ìƒ ë‹¨ì ì´ë¼ê³  í•  ìˆ˜ ìˆê² ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemSequence</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GenericGenerator</span>(</span><br><span class="line">            name = <span class="string">"SequenceGenerator"</span>,</span><br><span class="line">            strategy = <span class="string">"org.hibernate.id.enhanced.SequenceStyleGenerator"</span>,</span><br><span class="line">            parameters = &#123;</span><br><span class="line">                    <span class="meta">@Parameter</span>(name = <span class="string">"sequence_name"</span>, value = <span class="string">"hibernate_sequence"</span>),</span><br><span class="line">                    <span class="meta">@Parameter</span>(name = <span class="string">"optimizer"</span>, value = <span class="string">"pooled"</span>),</span><br><span class="line">                    <span class="meta">@Parameter</span>(name = <span class="string">"initial_value"</span>, value = <span class="string">"1"</span>),</span><br><span class="line">                    <span class="meta">@Parameter</span>(name = <span class="string">"increment_size"</span>, value = <span class="string">"500"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="meta">@GeneratedValue</span>(</span><br><span class="line">            strategy = GenerationType.SEQUENCE,</span><br><span class="line">            generator = <span class="string">"SequenceGenerator"</span></span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Spring-Data-JDBC"><a href="#Spring-Data-JDBC" class="headerlink" title="Spring Data JDBC"></a>Spring Data JDBC</h1><p>Spring Dataì—ëŠ” JPAë§Œ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. <a href="https://spring.io/projects/spring-data" target="_blank" rel="noopener">https://spring.io/projects/spring-data</a> ì— ë³´ë©´ ìƒë‹¹íˆ ë‹¤ì–‘í•œ ì €ì¥ì†Œë¥¼ ì§€ì›í•˜ëŠ” ì„œë¸Œ í”„ë¡œì íŠ¸ê°€ ë§ì´ ìˆìœ¼ë©°, ì§€ê¸ˆì²˜ëŸ¼ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” JPA ëŒ€ì‹  JDBCë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.</p><h2 id="JdbcTemplate-batchUpdate"><a href="#JdbcTemplate-batchUpdate" class="headerlink" title="JdbcTemplate.batchUpdate()"></a>JdbcTemplate.batchUpdate()</h2><p>JdbcTemplateì—ëŠ” Batchë¥¼ ì§€ì›í•˜ëŠ” <code>batchUpdate()</code> ë©”ì„œë“œê°€ ë§ˆë ¨ë¼ìˆë‹¤. ì—¬ëŸ¬ ê°€ì§€ë¡œ Overloading ë¼ ìˆì–´ì„œ í¸ë¦¬í•œ ë©”ì„œë“œë¥¼ ê³¨ë¼ì„œ ì‚¬ìš©í•˜ë©´ ë˜ëŠ”ë°, ì—¬ê¸°ì—ì„œëŠ” batch í¬ê¸°ë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” <code>BatchPreparedStatementSetter</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ì•„ë˜ì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì„œ êµ¬í˜„í•´ë³¸ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">batchUpdate(String sql, BatchPreparedStatementSetter pss)</span><br></pre></td></tr></table></figure><h2 id="ì£¼ìš”-êµ¬í˜„-ë¶€ë¶„"><a href="#ì£¼ìš”-êµ¬í˜„-ë¶€ë¶„" class="headerlink" title="ì£¼ìš” êµ¬í˜„ ë¶€ë¶„"></a>ì£¼ìš” êµ¬í˜„ ë¶€ë¶„</h2><p><code>ItemJdbc</code>ë¼ëŠ” ê°ì²´ë¥¼ <code>ITEM_JDBC</code> í…Œì´ë¸”ì— Batch Insertë¡œ ì €ì¥í•œë‹¤ê³  ê°€ì •í•˜ê³ , ì£¼ìš” êµ¬í˜„ë¶€ë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤. </p><p><code>batchSize</code> ë³€ìˆ˜ë¥¼ í†µí•´ ë°°ì¹˜ í¬ê¸°ë¥¼ ì§€ì •í•˜ê³ , ì „ì²´ ë°ì´í„°ë¥¼ ë°°ì¹˜ í¬ê¸°ë¡œ ë‚˜ëˆ ì„œ Batch Insertë¥¼ ì‹¤í–‰í•˜ê³ , ìíˆ¬ë¦¬ ë°ì´í„°ë¥¼ ë‹¤ì‹œ Batch Insertë¡œ ì €ì¥í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemJdbcRepositoryImpl</span> <span class="keyword">implements</span> <span class="title">ItemJdbcRepository</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;batchSize&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> batchSize;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAll</span><span class="params">(List&lt;ItemJdbc&gt; items)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> batchCount = <span class="number">0</span>;</span><br><span class="line">        List&lt;ItemJdbc&gt; subItems = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; items.size(); i++) &#123;</span><br><span class="line">            subItems.add(items.get(i));</span><br><span class="line">            <span class="keyword">if</span> ((i + <span class="number">1</span>) % batchSize == <span class="number">0</span>) &#123;</span><br><span class="line">                batchCount = batchInsert(batchSize, batchCount, subItems);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!subItems.isEmpty()) &#123;</span><br><span class="line">            batchCount = batchInsert(batchSize, batchCount, subItems);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"batchCount: "</span> + batchCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">batchInsert</span><span class="params">(<span class="keyword">int</span> batchSize, <span class="keyword">int</span> batchCount, List&lt;ItemJdbc&gt; subItems)</span> </span>&#123;</span><br><span class="line">        jdbcTemplate.batchUpdate(<span class="string">"INSERT INTO ITEM_JDBC (`NAME`, `DESCRIPTION`) VALUES (?, ?)"</span>,</span><br><span class="line">                <span class="keyword">new</span> BatchPreparedStatementSetter() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValues</span><span class="params">(PreparedStatement ps, <span class="keyword">int</span> i)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">                        ps.setString(<span class="number">1</span>, subItems.get(i).getName());</span><br><span class="line">                        ps.setString(<span class="number">2</span>, subItems.get(i).getDescription());</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBatchSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> subItems.size();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">        subItems.clear();</span><br><span class="line">        batchCount++;</span><br><span class="line">        <span class="keyword">return</span> batchCount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ì‹¤í—˜-ê²°ê³¼"><a href="#ì‹¤í—˜-ê²°ê³¼" class="headerlink" title="ì‹¤í—˜ ê²°ê³¼"></a>ì‹¤í—˜ ê²°ê³¼</h1><p>ì–´ëŠ ë°©ì‹ì´ ê°€ì¥ ë¹ ë¥¼ê¹Œ?</p><p>ì•„ë˜ì™€ ê°™ì€ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ í•´ ë³¸ ê²°ê³¼ <strong>Spring Data JDBC ë°©ì‹ì´ ê°€ì¥ ë¹ ë¥´ë‹¤.</strong></p><h2 id="í…ŒìŠ¤íŠ¸-í™˜ê²½"><a href="#í…ŒìŠ¤íŠ¸-í™˜ê²½" class="headerlink" title="í…ŒìŠ¤íŠ¸ í™˜ê²½"></a>í…ŒìŠ¤íŠ¸ í™˜ê²½</h2><ul><li>Java 11</li><li>Spring Boot 2.2.4</li><li>MySQL 5.7.18</li><li>Sprint Data JPA 2.2.4</li><li>Hibernate Core 5.4.10.Final</li><li>Hibernate Commons Annotations 5.1.0.Final</li><li>Sprint Data JDBC 1.1.4</li></ul><h2 id="ì„±ëŠ¥-ë¹„êµ"><a href="#ì„±ëŠ¥-ë¹„êµ" class="headerlink" title="ì„±ëŠ¥ ë¹„êµ"></a>ì„±ëŠ¥ ë¹„êµ</h2><p>ê·¸ë ‡ë‹¤ë©´ ì–¼ë§ˆë‚˜ ì°¨ì´ê°€ ë‚ ê¹Œ?</p><p>ì—°ê´€ ê´€ê³„ ì—†ì´ ë‹¨ í•˜ë‚˜ì˜ ì—”í‹°í‹°ë§Œ ì €ì¥í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ, ë°°ì¹˜ í¬ê¸°ë¥¼ ë°”ê¿”ê°€ë©´ì„œ 10,000ê±´ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì‹¤í—˜ ê²°ê³¼ ì†Œìš” ì‹œê°„(ì´ˆ ë‹¨ìœ„) ë° ë¹„êµ ë°°ìœ¨ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th>ë°°ì¹˜ í¬ê¸°</th><th>JDBC(A)</th><th>Batch SEQUENCE(B)</th><th>IDENTITY(C)</th><th>(B)/(A)</th><th>(C)/(A)</th></tr></thead><tbody><tr><td>10</td><td>0.885</td><td>3.072</td><td>5.087</td><td>3.47</td><td>5.748022599</td></tr><tr><td>50</td><td>0.391</td><td>1.007</td><td>4.097</td><td>2.58</td><td>10.47826087</td></tr><tr><td>100</td><td>0.356</td><td>0.808</td><td>5.218</td><td>2.27</td><td>14.65730337</td></tr><tr><td>500</td><td>0.226</td><td>0.515</td><td>5.637</td><td>2.28</td><td>24.94247788</td></tr><tr><td>1000</td><td>0.216</td><td>0.480</td><td>6.241</td><td>2.22</td><td>28.89351852</td></tr><tr><td>5000</td><td>0.189</td><td>0.447</td><td>5.052</td><td>2.37</td><td>26.73015873</td></tr></tbody></table><p>ë°°ì¹˜ í¬ê¸°ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ, <strong>Spring Data JDBCì˜ <code>batchUpdate()</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ Hibernate Batch Sequence ë°©ì‹ë³´ë‹¤ ëŒ€ëµ 2 ~ 3ë°° ì •ë„ ë¹ ë¥´ê³ , Batch Insertê°€ ì‚¬ìš©ë˜ì§€ ëª» í•˜ëŠ” Hibernate IDENTITY ë°©ì‹ë³´ë‹¤ëŠ” 5 ~ 25ë°° ì •ë„ ë¹ ë¥´ë‹¤.</strong> </p><p>MySQLì—ëŠ” Sequenceê°€ ì—†ìœ¼ë¯€ë¡œ SEQUENCE ë°©ì‹ì„ ì§€ì •í–ˆë‹¤ê³  í•˜ë”ë¼ë„ ì‚¬ì‹¤ ìƒ TABLE ë°©ì‹ìœ¼ë¡œ ë™ì‘í–ˆë‹¤ëŠ” ê²ƒì„ ê°ì•ˆí•˜ë©´, <strong>Sequenceê°€ ì§€ì›ë˜ëŠ” DBì—ì„œëŠ” TABLE ë°©ì‹ë³´ë‹¤ ì±„ë²ˆ ë¶€í•˜ê°€ ë” ì ì€ SEQUENCE ë°©ì‹ì„ Batch ìŠ¤íƒ€ì¼ë¡œ ì‚¬ìš©í•˜ë©´ Spring Data JDBC ë°©ì‹ê³¼ ë¹„ìŠ·í•œ ì„±ëŠ¥ì„ ë³´ì¼ ê²ƒ ê°™ë‹¤.</strong></p><h1 id="ë§ˆë¬´ë¦¬"><a href="#ë§ˆë¬´ë¦¬" class="headerlink" title="ë§ˆë¬´ë¦¬"></a>ë§ˆë¬´ë¦¬</h1><blockquote><ul><li><p><strong>ì•„ì£¼ ë§ì€ ìˆ˜ì˜ ë°ì´í„°ë¥¼ í•œ êº¼ë²ˆì— ì…ë ¥í•  ë•ŒëŠ” Spring Data JPAë¥¼ ì ì‹œ ë’¤ë¡œí•˜ê³  Spring Data JDBCì˜ <code>batchUpdate()</code>ë¥¼ í™œìš©í•˜ëŠ” ê²ƒë„ ì¢‹ë‹¤.</strong></p><ul><li>Spring Data JDBCëŠ” Spring Data JPAì™€ í•¨ê»˜ í˜¼ìš©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆê³ ,</li><li><code>@Transactional</code>ì„ í†µí•´ íŠ¸ëœì­ì…˜ì´ ê´€ë¦¬ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ,</li><li>í˜„ì‹¤ì ìœ¼ë¡œ ê°€ì¥ ë‚˜ì€ ë°©ë²•ì´ë‹¤.</li></ul></li><li><p><strong>Spring Data JPAë¥¼ ì‚¬ìš©í•´ì•¼ë§Œ í•œë‹¤ë©´ IDENTITY ë°©ì‹ ë§ê³  Batch SEQUENCE ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</strong></p><ul><li>ê·¸ëŸ¬ë‚˜ ì´ ë°©ì‹ì€ ì• ë„ˆí…Œì´ì…˜ ì§€ì •ì´ í•„ìš” ì´ìƒ ë³µì¡í•˜ê³ ,</li><li>í…Œì´ë¸” ìƒì„± ì‹œë¶€í„° ì ìš©í•˜ë©´ ê´œì°®ì§€ë§Œ, ì´ë¯¸ ID ìƒì„± ë°©ì‹ì´ IDENTITYì¸ ê¸°ì¡´ í…Œì´ë¸”ì„ SEQUENCE ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•˜ëŠ” ë¶€ë‹´ì´ ìˆê³ ,</li><li>batch í¬ê¸° ì§€ì • ê´€ë ¨ ìš´ì˜ ìƒì˜ ë‹¨ì ì´ ìˆë‹¤.</li></ul></li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Spring-Dataì—ì„œ-Batch-Insert-ìµœì í™”&quot;&gt;&lt;a href=&quot;#Spring-Dataì—ì„œ-Batch-Insert-ìµœì í™”&quot; class=&quot;headerlink&quot; title=&quot;Spring Dataì—ì„œ Batch Insert ìµœì í™”&quot;&gt;
      
    
    </summary>
    
      <category term="Performance" scheme="http://homoefficio.github.io/categories/Performance/"/>
    
    
      <category term="Spring Data" scheme="http://homoefficio.github.io/tags/Spring-Data/"/>
    
      <category term="Spring Data JDBC" scheme="http://homoefficio.github.io/tags/Spring-Data-JDBC/"/>
    
      <category term="Spring Data JPA" scheme="http://homoefficio.github.io/tags/Spring-Data-JPA/"/>
    
      <category term="Batch Insert" scheme="http://homoefficio.github.io/tags/Batch-Insert/"/>
    
      <category term="Bulk Insert" scheme="http://homoefficio.github.io/tags/Bulk-Insert/"/>
    
      <category term="MySQL" scheme="http://homoefficio.github.io/tags/MySQL/"/>
    
      <category term="Hibernate" scheme="http://homoefficio.github.io/tags/Hibernate/"/>
    
      <category term="GenerationType" scheme="http://homoefficio.github.io/tags/GenerationType/"/>
    
      <category term="GenerationType.IDENTITY" scheme="http://homoefficio.github.io/tags/GenerationType-IDENTITY/"/>
    
      <category term="GenerationType.SEQUENCE" scheme="http://homoefficio.github.io/tags/GenerationType-SEQUENCE/"/>
    
      <category term="GenerationType.TABLE" scheme="http://homoefficio.github.io/tags/GenerationType-TABLE/"/>
    
      <category term="GenerationType.AUTO" scheme="http://homoefficio.github.io/tags/GenerationType-AUTO/"/>
    
      <category term="Performance" scheme="http://homoefficio.github.io/tags/Performance/"/>
    
      <category term="IDENTITY column" scheme="http://homoefficio.github.io/tags/IDENTITY-column/"/>
    
      <category term="Auto Increment" scheme="http://homoefficio.github.io/tags/Auto-Increment/"/>
    
      <category term="Sequence" scheme="http://homoefficio.github.io/tags/Sequence/"/>
    
      <category term="Database" scheme="http://homoefficio.github.io/tags/Database/"/>
    
  </entry>
  
  <entry>
    <title>GETì´ëƒ POSTëƒ ê·¸ê²ƒì´ ë¬¸ì œë¡œë‹¤</title>
    <link href="http://homoefficio.github.io/2019/12/25/GET%EC%9D%B4%EB%83%90-POST%EB%83%90-%EA%B7%B8%EA%B2%83%EC%9D%B4-%EB%AC%B8%EC%A0%9C%EB%A1%9C%EB%8B%A4/"/>
    <id>http://homoefficio.github.io/2019/12/25/GETì´ëƒ-POSTëƒ-ê·¸ê²ƒì´-ë¬¸ì œë¡œë‹¤/</id>
    <published>2019-12-25T03:04:39.000Z</published>
    <updated>2019-12-27T14:34:12.388Z</updated>
    
    <content type="html"><![CDATA[<h1 id="GETì´ëƒ-POSTëƒ-ê·¸ê²ƒì´-ë¬¸ì œë¡œë‹¤"><a href="#GETì´ëƒ-POSTëƒ-ê·¸ê²ƒì´-ë¬¸ì œë¡œë‹¤" class="headerlink" title="GETì´ëƒ POSTëƒ ê·¸ê²ƒì´ ë¬¸ì œë¡œë‹¤"></a>GETì´ëƒ POSTëƒ ê·¸ê²ƒì´ ë¬¸ì œë¡œë‹¤</h1><p>ë©°ì¹  ì „ì— <a href="https://www.facebook.com/hanmomhanda/posts/10221495156952479" target="_blank" rel="noopener">í˜ì´ìŠ¤ë¶ì— ì˜¬ë ¸ë˜ ì§ˆë¬¸</a>ì— ì—¬ëŸ¬ë¶„ê»˜ì„œ ì‹œê°„ ë‚´ì„œ ì¢‹ì€ ì˜ê²¬ ë‚˜ëˆ ì£¼ì…”ì„œ, ë‚˜ë§Œ ê¿€êº½í•˜ê³  ë„˜ì–´ê°€ë©´ ë„ë¦¬ê°€ ì•„ë‹Œ ê²ƒ ê°™ì•„ ë‹¤ì‹œ ì •ë¦¬í•´ë³¸ë‹¤.</p><p>ë¨¼ì € ì´ ê¸€ì€ <strong>ë‚˜ë¦„ì˜ ê²°ë¡ ì´ ìˆê¸°ëŠ” í•˜ì§€ë§Œ, ê·¸ê²ƒì´ ì •ë‹µì´ë¼ê³  ë‹¨ì •í•  ìˆ˜ëŠ” ì—†ë‹¤.</strong><br>ë˜í•œ RESTì™€ëŠ” ì•„ë¬´ëŸ° ê´€ê³„ê°€ ì—†ìœ¼ë©°, ì˜¤ì§ HTTP Methodì— ëŒ€í•œ ì–˜ê¸°ë‹¤.</p><h1 id="ë¬¸ì œ"><a href="#ë¬¸ì œ" class="headerlink" title="ë¬¸ì œ"></a>ë¬¸ì œ</h1><p>ë³´í†µ í´ë¼ì´ì–¸íŠ¸ ìª½ì—ì„œ Contentsë¥¼ ì œê³µí•˜ë©´ì„œ ìƒˆë¡œìš´ Resourceì˜ ìƒì„±ì„ ìš”ì²­í•  ë•ŒëŠ”, ê·¸ Contentsë¥¼ í¬í•¨ì‹œì¼œì„œ POSTë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ ëœë‹¤. ì—¬ê¸°ì—ëŠ” ë³„ë‹¤ë¥¸ ì´ê²¬ì´ ì—†ë‹¤.</p><p>ê·¸ëŸ°ë° í´ë¼ì´ì–¸íŠ¸ ìª½ì—ì„œ ì•„ë¬´ëŸ° Contentsë¥¼ ì œê³µí•˜ì§€ ì•Šìœ¼ë©´ì„œ, ê·¸ì € ì„œë²„ë¡œë¶€í„° ì–´ë–¤ Resourceë¥¼ ë°˜í™˜ë°›ìœ¼ë ¤ í•˜ëŠ”ë°, ì‹¤ì œë¡œ ì„œë²„ì—ì„œëŠ” ìƒˆ Resourceë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜í•´ì•¼ í•˜ëŠ” ê²½ìš°ë¼ë©´, GETì„ ì¨ì•¼ í•˜ë‚˜ ì•„ë‹ˆë©´ POSTë¥¼ ì¨ì•¼ í•˜ë‚˜?</p><p>ì˜ˆë¥¼ ë“¤ì–´ í´ë¼ì´ì–¸íŠ¸ê°€ ì•„ë¬´ ë‚´ìš© ì—†ì´ ê·¸ëƒ¥ â€˜í€´ì¦ˆë¥¼ ë‚´ë‹¤ì˜¤â€™ë¼ê³  ì„œë²„ì—ê²Œ ìš”ì²­í•˜ë©´,<br>ì¦‰, ë°˜í™˜ë˜ëŠ” í€´ì¦ˆê°€ ìƒˆë¡œ ë§Œë“  ê±´ì§€ ê¸°ì¡´ì— ë§Œë“¤ì–´ì ¸ ìˆë˜ ê±¸ ë°˜í™˜í•˜ëŠ”ì§€ í´ë¼ì´ì–¸íŠ¸ëŠ” ê´€ì‹¬ ê°€ì§ˆ í•„ìš”ê°€ ì—†ëŠ” ìƒí™©ì´ë¼ë©´,</p><ul><li>GET â€¦/quizzes/new ë¡œ ë³´ë‚¸ë‹¤. (GETì´ì§€ë§Œ ì„œë²„ëŠ” ì•Œì•„ì„œ ìƒˆ í€´ì¦ˆë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜)</li><li>POST (ë‚´ìš©ì—†ì´) â€¦/quizzes ë¡œ ë³´ë‚¸ë‹¤. (POSTì§€ë§Œ ì„œë²„ëŠ” ìƒˆë¡œ ìƒì„±ëœ í€´ì¦ˆë¥¼ ë°˜í™˜)</li></ul><p>GET, POST ë‘˜ ì¤‘ ì–´ëŠ ìª½ì´ ë” í™˜ì˜ë°›ëŠ” ë°©ë²•ì¸ê°€? ë˜ëŠ” ì–´ëŠ ìª½ì´ ìš•ì„ ëœ ë¨¹ëŠ” ë°©ë²•ì¸ê°€? ë˜ëŠ” ë‹¤ë¥¸ ë” ë‚˜ì€ ë°©ì•ˆì´ ìˆë‹¤ë©´ ì–´ë–¤ê²Œ ìˆì„ê¹Œ?</p><p>ì˜ê²¬ì„ ëª¨ì•„ì„œ ì •ë¦¬í•´ë´¤ë‹¤. ê±°ì˜ ì›ë¬¸ì— ê°€ê¹ê³  ê´„í˜¸ ì•ˆì€ ì„ì˜ë¡œ ì¶”ê°€.</p><h1 id="POSTë¼ëŠ”-ì˜ê²¬"><a href="#POSTë¼ëŠ”-ì˜ê²¬" class="headerlink" title="POSTë¼ëŠ” ì˜ê²¬"></a>POSTë¼ëŠ” ì˜ê²¬</h1><blockquote><p>ë©±ë“±ì„±ì´ ìœ ì§€ë  ìˆ˜ ìˆìœ¼ë©´ GET, ì—†ìœ¼ë©´ POST ë¼ëŠ” ê¸°ë³¸ ì „ì œë¥¼ ë‘ê³  ìƒê°í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ (ìƒˆ í€´ì¦ˆê°€ ìƒì„±ëœë‹¤ë©´ ë©±ë“±ì´ ì•„ë‹ˆë¯€ë¡œ) POSTë¡œ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p></blockquote><blockquote><p>ëª…ì‹œì ìœ¼ë¡œ URIëŠ” ìì›ì— ëŒ€í•œ ê²ƒì´ì–´ì•¼ í•˜ëŠ”ë° ì—†ëŠ” ìì›ì„ ë‚´ë†“ìœ¼ë¼ë©´ 404ë¥¼ ë°˜í™˜í•˜ëŠ” ê²Œ ë§ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. (ìƒˆ ìì›ì„ ë§Œë“¤ì–´ ë°˜í™˜í•´ì•¼ í•˜ë¯€ë¡œ POSTë¡œ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.)</p></blockquote><blockquote><p>ë””ë¹„ ìƒíƒœì— ë³€í™”ë¥¼ ì£¼ëŠ” ê±´ GETì„ ì“°ì§€ ì•Šê³  ìˆì–´ìš”. GETì„ ì‚¬ìš©í•  ë•ŒëŠ” ìˆœìˆ˜í•¨ìˆ˜ì²˜ëŸ¼ ê°™ì€ ì¸í’‹ì€ ê°™ì€ ì•„ì›ƒí’‹ì„ ë‚´ì¤˜ì•¼ í•œë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.</p></blockquote><blockquote><p>http 1.0ì´í›„ ìƒê²¨ë‚œ POST, PUT, DELETEâ€¦ëŠ” ì„œë²„ ë‚´ì— ìˆëŠ” ìì›ì— ê´€ë ¨ëœ ì¡°ì‘ì´ê¸° ë•Œë¬¸ì— ì „ DBì˜ ë³€í™”ê°€ ìˆìœ¼ë©´ ë¬´ì¡°ê±´ ìƒíƒœ ë³€ê²½ê³¼ ê´€ë ¨ëœ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.(ë¦¬ì†ŒìŠ¤ë€ ì¸¡ë©´ì—ì„œ DBëŠ” ì¼ë¶€â€¦) http í”„ë¡œí† ì½œì—ì„œ method ì˜ì—­ì„ í´ë¼ì´ì–¸íŠ¸ ì…ì¥ì´ëƒ ì„œë²„ ì…ì¥ì´ëƒë¡œ ë‹¤ë“¤ ê´€ì ì´ ë‹¤ë¥´ê²Œ ë°”ë¼ë³¼ìˆ˜ ìˆê² ì§€ë§Œ http ì—­ì‚¬ë¥¼ ìƒê°í•´ë³´ë©´ ë©”ì„œë“œëŠ” ìì›ê³¼ ê´€ë ¨ì´ í¬ê³  ìì›ì„ ì†Œìœ í•œ ì„œë²„ì¸¡ ê´€ì ì— ë¬´ê²Œë¥¼ ì‹£ê³  ìˆìŠµë‹ˆë‹¤.</p></blockquote><blockquote><p>POSTë¡œ í•˜ê³  ìƒì„±ëœ ìì›ì— ëŒ€í•œ GET ê²½ë¡œë¥¼ Location í—¤ë”ì— ë„£ì–´ì„œ 201ë¡œ ì‘ë‹µí•˜ëŠ” ê²Œ ë§ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p></blockquote><h1 id="GETì´ë¼ëŠ”-ì˜ê²¬"><a href="#GETì´ë¼ëŠ”-ì˜ê²¬" class="headerlink" title="GETì´ë¼ëŠ” ì˜ê²¬"></a>GETì´ë¼ëŠ” ì˜ê²¬</h1><blockquote><p>í´ë¼ì´ì–¸íŠ¸ëŠ” í€´ì¦ˆë¥¼ ì›í•  ë¿ ìƒˆë¡œ ìƒì„±ë˜ë“  ê¸°ì¡´ì— ìˆë˜ ê±°ë“  ì‹ ê²½ ì“¸í•„ìš”ê°€ ì—†ë‹¤ê³  í•˜ë‹ˆ, ì¡°íšŒì˜ ì˜ë¯¸ë§Œ ì¡´ì¬í•œë‹¤ê³  ìƒê°í•´ìš”.</p></blockquote><blockquote><p>í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ê²Œ ìƒˆë¡œ ë§Œë“¤ì–´ì§„ê±´ì§€ ê¸°ì¡´ì— ìˆë˜ê±´ì§€ ëª¨ë¥´ì§€ë§Œ ì¼ë‹¨ ì›í•˜ëŠ” í–‰ìœ„ê°€ í€´ì¦ˆë¼ëŠ” ê²ƒì„ ì–»ê¸° ìœ„í•¨ì´ê¸°ì— GET ì´ ë§ëŠ”ê±° ê°™ìŠµë‹ˆë‹¤.<br>ë¹µì§‘ì„ ì˜ˆë¡œ ë“¤ì–´ ë¹µì„ ì‚°ë‹¤ë¼ëŠ” í–‰ìœ„ì—ì„œ ì´ê²Œ ê¸°ì¡´ì— ë§Œë“¤ì–´ì§„ê²ƒì„ ì‚¬ê°€ë“  ì£¼ë¬¸ê³¼ ë™ì‹œì— ë§Œë“¤ì–´ì§„ ë¹µì„ ì‚¬ê°€ë“  ê°™ì€ í–‰ìœ„ì§€ë§Œ(GET)<br>ì´ëŸ° ë¹µì„ ì‚¬ê°€ë ¤ëŠ”ë° ë§Œë“¤ì–´ì£¼ì„¸ìš” í˜¹ì€ ì´ëŸ°ë¹µì„ ë§Œë“¤ì–´ì£¼ì‹œë©´ ì‚¬ëŸ¬ ê°€ê² ìŠµë‹ˆë‹¤ (POST)ëŠ” ë‹¤ë¥¸ ëª©ì ì´ê³  ë¹µì§‘ì—ì„œë„ ì´ì— ë”°ë¼ ë‹¤ë¥¸ í–‰ë™ì„ ì·¨í•´ì•¼ í•˜ë‹ˆê¹Œìš”</p></blockquote><h1 id="ë‘˜-ë‹¤-ì•„ë‹ˆë¼ëŠ”-ì˜ê²¬"><a href="#ë‘˜-ë‹¤-ì•„ë‹ˆë¼ëŠ”-ì˜ê²¬" class="headerlink" title="ë‘˜ ë‹¤ ì•„ë‹ˆë¼ëŠ” ì˜ê²¬"></a>ë‘˜ ë‹¤ ì•„ë‹ˆë¼ëŠ” ì˜ê²¬</h1><blockquote><p>APIëŠ” í–‰ìœ„ ì¤‘ì‹¬ì´ì–´ì•¼ì§€ ìƒíƒœ ì¤‘ì‹¬ì´ë©´ ì•ˆ ëœë‹¤ëŠ” ê²ƒì´ OOPì™€ DDDë¥¼ í†µí•œ ë°°ì›€ì´ì—ˆìŠµë‹ˆë‹¤.</p></blockquote><h1 id="ì¤‘ê°„-ì •ë¦¬"><a href="#ì¤‘ê°„-ì •ë¦¬" class="headerlink" title="ì¤‘ê°„ ì •ë¦¬"></a>ì¤‘ê°„ ì •ë¦¬</h1><p>ì´ ë§ë„ ë§ëŠ” ê²ƒ ê°™ê³  ì € ë§ë„ ë§ëŠ” ê²ƒ ê°™ê³ , ë©±ë“±ì„±(idempotence)ì´ë¼ëŠ” ì–´ë ¤ìš´ ìš©ì–´ë„ ë‚˜ì˜¤ê³  ì•„ í˜„ê¸°ì¦ë‚˜..</p><p>í•˜ì§€ë§Œ ì •ì‹ ì°¨ë¦¬ê³  ì¶”ë ¤ë³´ë©´ ê²°êµ­ ì•„ë˜ì™€ ê°™ì´ ìš”ì•½í•  ìˆ˜ ìˆë‹¤.</p><blockquote><ul><li>ìš”ì²­ìì¸ í´ë¼ì´ì–¸íŠ¸ì˜ ì˜ë„ë¥¼ ì¤‘ìš”í•˜ê²Œ ë³´ëŠ” ì…ì¥ì—ì„œëŠ” GETì„ ì„ í˜¸  </li><li>HTTPëŠ” ê²°êµ­ ìì›ì„ ë‹¤ë£¨ëŠ” ê²ƒì´ë¯€ë¡œ ìì›ì„ ì¤‘ìš”í•˜ê²Œ ë³´ëŠ” ì…ì¥ì—ì„œëŠ” POSTë¥¼ ì„ í˜¸</li></ul></blockquote><h1 id="ìŠ¤í™ì€-ë­ë¼ë”ëƒ"><a href="#ìŠ¤í™ì€-ë­ë¼ë”ëƒ" class="headerlink" title="ìŠ¤í™ì€ ë­ë¼ë”ëƒ?"></a>ìŠ¤í™ì€ ë­ë¼ë”ëƒ?</h1><p>ì´ì¯¤ë˜ë©´ ê·¸ë‹¤ì§€ ë³´ê³  ì‹¶ì§€ ì•Šì€ ìŠ¤í™ì„ ë³´ì§€ ì•Šì„ ìˆ˜ ì—†ë‹¤. ê´€ë ¨ ìŠ¤í™ì€ <a href="https://tools.ietf.org/html/rfc7231" target="_blank" rel="noopener">Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</a>ì´ë©° ê·¸ ì¤‘ì—ì„œ HTTP Method ê´€ë ¨ ë‚´ìš©ì€ <a href="https://tools.ietf.org/html/rfc7231#section-4" target="_blank" rel="noopener">ì—¬ê¸°</a>ì— ìˆë‹¤.</p><p>POSTë¥¼ ì§€ì§€í•˜ëŠ” ì˜ê²¬ì€ í•œ ë§ˆë””ë¡œ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><blockquote><p>ìì› ë³€ê²½ì´ ìˆ˜ë°˜ë˜ë©´ POSTì—¬ì•¼ í•œë‹¤.</p></blockquote><p>ê·¸ëŸ°ë° ì •ë§ ìŠ¤í™ì—ì„œë„ â€˜ìì› ë³€ê²½ì´ ìˆ˜ë°˜ë˜ë©´ POSTì—¬ì•¼ í•œë‹¤â€™ê³  ê·œì •í•˜ê³  ìˆì„ê¹Œ?</p><h2 id="Safe-Methods"><a href="#Safe-Methods" class="headerlink" title="Safe Methods"></a>Safe Methods</h2><p>ìŠ¤í™ ë‚´ìš© ì¤‘ì— <a href="https://tools.ietf.org/html/rfc7231#section-4.2.1" target="_blank" rel="noopener">Safe Methods</a> ë¼ëŠ” ë‹¨ì›ì´ ìˆë‹¤.</p><blockquote><p>Request methods are considered â€œsafeâ€ if their defined semantics are<br>essentially read-only; i.e., the client does not request, and does<br>not expect, any state change on the origin server as a result of<br>applying a safe method to a target resource.  Likewise, reasonable<br>use of a safe method is not expected to cause any harm, loss of<br>property, or unusual burden on the origin server.</p></blockquote><p>ì§§ê²Œ ì˜®ê²¨ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><blockquote><p>í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ ìƒíƒœì˜ ë³€ê²½ì„ ìš”ì²­í•˜ì§€ë„, ê¸°ëŒ€í•˜ì§€ë„ ì•ŠëŠ” ì½ê¸° ì „ìš© ìš”ì²­ì€ Safeí•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ê·¸ë˜ì„œ Safe Methodë¥¼ ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ë©´ ì„œë²„ì—ê²Œ ì–´ë–¤ í•´ì•…ì´ë‚˜ ì†ì‹¤, ì¼ë°˜ì ì´ì§€ ì•Šì€ ë¶€ë‹´ì„ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.</p></blockquote><p>ì—¬ê¸°ê¹Œì§€ë§Œ ë³´ë©´ ìì› ë³€ê²½ì´ ìˆ˜ë°˜ë˜ë©´ GETì„ ì“°ë©´ ì•ˆ ë  ê²ƒ ê°™ë‹¤.</p><p>ê·¸ëŸ°ë° ë°”ë¡œ ë‹¤ìŒ ë¬¸ë‹¨ì—ëŠ” ì‚´ì§ ê²°ì´ ë‹¤ë¥¸ ë‚´ìš©ì´ ë‚˜ì˜¨ë‹¤.</p><blockquote><p>This definition of safe methods does not prevent an implementation<br>from including behavior that is potentially harmful, that is not<br>entirely read-only, or that causes side effects while invoking a safe<br>method.  What is important, however, is that the client did not<br>request that additional behavior and cannot be held accountable for<br>it.  For example, most servers append request information to access<br>log files at the completion of every response, regardless of the<br>method, and that is considered safe even though the log storage might<br>become full and crash the server.  Likewise, a safe request initiated<br>by selecting an advertisement on the Web will often have the side<br>effect of charging an advertising account.</p></blockquote><p>ì—­ì‹œë‚˜ ì§§ê²Œ ì˜®ê²¨ ë³´ë©´,</p><blockquote><p><strong>Safe Methodë¼ê³ í•´ì„œ ì‚¬ì´ë“œ ì´í™íŠ¸ë‚˜ ì ì¬ì ìœ¼ë¡œ í•´ê°€ ë  ìˆ˜ ìˆëŠ” ë™ì‘ì„ í¬í•¨í•´ì„œ êµ¬í˜„í•˜ëŠ” ê²ƒì„ ë°°ì œí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ê·¸ ë™ì‘ì„ í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•œ ê²Œ ì•„ë‹ˆë¼ëŠ” ì ì´ê³ , ê·¸ ë™ì‘ì— ëŒ€í•œ ì±…ì„ì„ í´ë¼ì´ì–¸íŠ¸ê°€ ë¶€ë‹´í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì´ë‹¤.</strong> ì˜ˆë¥¼ ë“¤ì–´ ì„œë²„ëŠ” (Safeë“  ì•„ë‹ˆë“ ) ë©”ì„œë“œ ì¢…ë¥˜ì— ê´€ê³„ ì—†ì´ ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ”ë°, ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¡œ í•˜ë“œê°€ ê½‰ ì°¨ì„œ ì„œë²„ê°€ ê¹¨ì§ˆ ìˆ˜ë„ ìˆì§€ë§Œ, (ë¡œê·¸ ê¸°ë¡ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•œ ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ) ì´ëŸ° í˜¸ì¶œë„ Safeí•˜ë‹¤ê³  ë³¸ë‹¤.(ì´í•˜ ê´‘ê³  ì‚¬ë¡€ ìƒëµ)</p></blockquote><p>ì´ ì™¸ì—ë„ GET, POSTë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì„¤ëª…í•˜ëŠ” ë¶€ë¶„ë„ ìˆì§€ë§Œ, ì´ ê¸€ ë‚´ìš©ì— í¬ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë‚´ìš©ì€ ì—†ì–´ ë³´ì—¬ì„œ êµ³ì´ ë‹¤ë£¨ì§€ ì•ŠëŠ”ë‹¤.</p><h1 id="ê·¸ë˜ì„œ-ê²°ë¡ ì€"><a href="#ê·¸ë˜ì„œ-ê²°ë¡ ì€" class="headerlink" title="ê·¸ë˜ì„œ ê²°ë¡ ì€?"></a>ê·¸ë˜ì„œ ê²°ë¡ ì€?</h1><p>ì•ì—ì„œë„ ë§í–ˆì§€ë§Œ ì´ ê¸€ì€ ë‚˜ë¦„ì˜ ì£¼ê´€ì ì¸ ê²°ë¡ ì€ ìˆì§€ë§Œ ê·¸ê²Œ ì •ë‹µì€ ì•„ë‹ˆë‹¤.</p><p>ì´ë¯¸ ê½¤ ê¸¸ì–´ì¡Œìœ¼ë‹ˆ ê²°ë¡ ë¶€í„° ë§í•˜ë©´ <strong>GETì„ ì¨ë„ ì¢‹ê² ë‹¤</strong>ì´ë‹¤.</p><p>ì´ìœ ëŠ”,</p><ul><li>APIë¼ëŠ” ê²Œ ê²°êµ­ ìŒë°©ê°„ì˜ ê³„ì•½ì´ê³ ,  </li><li>í´ë¼ì´ì–¸íŠ¸ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ì–´ë–¤ ìì›ì„ ì–»ê¸°ë¥¼ ë°”ë„ ë¿ êµ³ì´ ìì› ìƒì„± ì—¬ë¶€ë¥¼ ì•Œ í•„ìš”ê°€ ì—†ë‹¤ë©´,  </li><li>ì¦‰, í´ë¼ì´ì–¸íŠ¸ì˜ ë³¸ì§ˆì ì¸ ìš”êµ¬ê°€ â€˜ìƒì„±â€™ì´ ì•„ë‹ˆë¼ â€˜íšë“â€™ì´ë¼ë©´,  </li><li>í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ ì²˜ë¦¬ ë‚´ë¶€ ê³¼ì •ì— â€˜ìƒì„±â€™ì´ë¼ëŠ” ë¹„ë©±ë“± ê³¼ì •ì´ í¬í•¨ëœë‹¤ê³  í•˜ë”ë¼ë„,  </li><li>ì„œë²„ì˜ ì²˜ë¦¬ ê³¼ì •ë³´ë‹¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ â€˜íšë“â€™ì´ë¼ëŠ” ìš”êµ¬ ë³¸ì§ˆì— ë¬´ê²Œë¥¼ ë‘ì–´ë„,</li><li>ìŠ¤í™ì— ì–´ê¸‹ë‚¨ì´ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.</li></ul><p>ê²Œë‹¤ê°€ ë‹¤ìŒ ê°™ì€ ìƒí™©ì„ ê°€ì •í•´ë³´ë©´ GETì„ ì¨ë„ ì¢‹ê² ë‹¤ ì •ë„ê°€ ì•„ë‹ˆë¼ <strong>GETì´ ë” ë‚«ë‹¤</strong>ë¼ëŠ” ìƒê°ë„ ë“ ë‹¤.</p><p>í€´ì¦ˆë¥¼ ì²˜ìŒì—ëŠ” í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì— ê·¸ë•Œê·¸ë•Œ ìƒì„±í•´ì„œ ë°˜í™˜í•˜ê¸°ë¡œ í•˜ê³  ì´ê±´ ìì› ìƒì„±ì„ ìœ ë°œí•˜ë‹ˆ POSTë¡œ í•˜ì.. ë¡œ ì‹œì‘í–ˆëŠ”ë°,<br>ë‚˜ì¤‘ì— í€´ì¦ˆ ì„œë¹„ìŠ¤ê°€ í¥í•´ì„œ í´ë¼ì´ì–¸íŠ¸ê°€ ì—„ì²­ ë§ì•„ì§€ê³  ì„±ëŠ¥ì´ë“  ë­ë“  ì—¬íƒ€ ì´ìœ ë¡œ â€˜ê°€ë§Œ í€´ì¦ˆë¥¼ ê¼­ ìƒì„±í•´ì„œ ë°˜í™˜í•  í•„ìš” ì—†ì§€ ì•Šì•„? ë¯¸ë¦¬ ì™•ì°½ ë§Œë“¤ì–´ ë†“ê³  ì„ì˜ë¡œ ê± ì¡°íšŒë§Œ í•´ì„œ ë°˜í™˜í•˜ëŠ” ê²Œ ë‚˜ì„ ê²ƒ ê°™ì€ë°?â€™ë¼ëŠ” íŒë‹¨ì´ ë“ ë‹¤. ê·¸ëŸ¼ ì´ì œ ìì› ìƒì„±ì´ ë°œìƒí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ GETì„ ì¨ì•¼ í•œë‹¤.</p><p>í´ë¼ì´ì–¸íŠ¸ì˜ ìš”êµ¬ëŠ” â€˜í€´ì¦ˆì˜ íšë“â€™ìœ¼ë¡œ ë³€í•œ ê²Œ ì—†ëŠ”ë°, ì„œë²„ì˜ ì²˜ë¦¬ ê³¼ì •ì´ ì‹ ê·œ ìì› ìƒì„±ì—ì„œ ê¸°ì¡´ ìì› ì¡°íšŒë¡œ ë°”ë€Œì—ˆë‹¤ê³  í•´ì„œ APIë¥¼ POSTì—ì„œ GETìœ¼ë¡œ ë°”ê¿”ì•¼ë˜ë‚˜? ìˆ˜ë§ì€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ GETìœ¼ë¡œ ë°”ê¿”ë‹¬ë¼ê³  ëª¨ë‘ ì„¤ë“í•  ìˆ˜ ìˆë‚˜?</p><p>ì• ì´ˆì— ìì› ìƒì„±ê³¼ ë¬´ê´€í•˜ê²Œ ì˜¤ë¡œì§€ â€˜íšë“â€™ì´ì—ˆë˜ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ ë³¸ì§ˆì— ì¶©ì‹¤í•˜ê²Œ GETìœ¼ë¡œ ì‹œì‘í–ˆë‹¤ë©´ ì´ëŸ° í° ë³€ê²½ì„ í”¼í•  ìˆ˜ ìˆì—ˆì„ ê²ƒì´ë‹¤.</p><p>ì´ë ‡ê²Œ ë³´ë©´ <strong>HTTP Methodì˜ ì‚¬ìš©ì—ì„œë„ â€˜ë¹„ë©±ë“±ì´ë©´ POSTâ€™ì™€ ê°™ì€ ì›ì¹™ë³´ë‹¤ëŠ”, Information Hiding(ì •ë³´ ê°ì¶¤/ìˆ¨ê¹€) ê°™ì€ ë” ì¼ë°˜ì ì¸ ìƒìœ„ ì°¨ì›ì˜ ì„¤ê³„ ì›ì¹™ì´ ìœ ì—°í•œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ë° ë” ì¤‘ìš”</strong>í•œ ê²ƒ ê°™ë‹¤.</p><h1 id="ì¶”ê°€"><a href="#ì¶”ê°€" class="headerlink" title="ì¶”ê°€"></a>ì¶”ê°€</h1><p>ê³µìœ í•˜ê³  ë‚˜ë‹ˆ ì˜ê²¬ì„ ì¡°ê¸ˆ ë” ë°›ì„ ìˆ˜ ìˆì—ˆë‹¤.</p><blockquote><p>ë³¸ ë¬¸ì œì—ì„œëŠ” User Interface ì™€ ì‹¤ì œ Http Client ê°€ ë¶„ë¦¬ë˜ì–´ íŒë‹¨í•´ì•¼ í•œë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. User Interface ì—ì„œëŠ” ë‹¹ì—°íˆ ì‚¬ëŒì€ ë¬¸ì œë¥¼ ë°›ëŠ” ê²ƒë§Œ ìƒê°í•  ê²ƒì´ê³  ë‚´ë¶€ Http Client ëŠ” ë¬¸ì œ ìƒì„±ì„ ì¤‘ê°„ì— ë„£ì–´ì¤˜ë„ ëœë‹¤ê³  ìƒê°í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.(ê·¸ë˜ì„œ ë‚´ë¶€ Http ClientëŠ” POSTë¡œ ìš”ì²­í•´ì„œ ë¬¸ì œë¥¼ ìƒì„±í•˜ë„ë¡ í•˜ê³  ë‹¤ì‹œ GETìœ¼ë¡œ ìš”ì²­í•´ì„œ ìƒì„±ëœ ë¬¸ì œë¥¼ ë°›ì•„ì˜¤ë¼ëŠ” ì˜ê²¬)</p></blockquote><blockquote><p>í˜¹ì‹œ POSTë¡œ ìƒì„±í•˜ê²Œ í•˜ë©´ idë¥¼ ë°˜í™˜í•˜ê³  ê·¸ idë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ê²Œ APIë¥¼ ë‚˜ëˆ„ë©´ ì–´ë–¨ê¹Œìš”?</p></blockquote><p>ë‘˜ ë‹¤ ë¹„ìŠ·í•œ ì˜ê²¬ì¸ë°, <strong>í´ë¼ì´ì–¸íŠ¸ê°€ ë¬¸ì œ ìƒì„±ì— ê´€ì‹¬ì´ ì—†ë”ë¼ë„, ë¬¸ì œê°€ ìƒˆë¡œ ìƒì„±ë˜ëŠ” ê²ƒì´ ë§ë‹¤ë©´ (UIìˆ˜ì¤€ì—ì„œëŠ” ì¸ì§€ ëª» í•˜ê²Œ í•˜ë”ë¼ë„ ë‚´ë¶€ì ìœ¼ë¡œ) POSTë¡œ ë¬¸ì œ ìƒì„± ìš”ì²­ í›„, ìƒì„±ëœ ë¬¸ì œë¥¼ GETìœ¼ë¡œ ê°€ì ¸ì˜¤ìëŠ” ì˜ê²¬</strong>ìœ¼ë¡œ ë³´ì¸ë‹¤.</p><p>ìœ„ í€´ì¦ˆ ì‚¬ë¡€ì— êµ­í•œí•´ì„œë¼ë©´ ì—¬ì „íˆ GETì´ ë” ë‚«ë‹¤ê³  ìƒê°í•œë‹¤. ì´ìœ ëŠ” <strong>ìœ„ í€´ì¦ˆ ì‚¬ë¡€ëŠ” ì²˜ìŒì—ëŠ” í€´ì¦ˆ ìƒì„±ìœ¼ë¡œ ì‹œì‘í•˜ì§€ë§Œ ë‚˜ì¤‘ì— ì¡°íšŒ ë°©ì‹ìœ¼ë¡œ ë³€ê²½ë  ê°œì—°ì„±ì´ ê½¤ ìˆê³ , ìì› ë³´ë‹¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì˜ë„ì— ë¬´ê²Œë¥¼ ë‘ëŠ” GETì´ ë³€ê²½ ëŒ€ì‘ì— ë” ìœ ì—°í•˜ê¸° ë•Œë¬¸</strong>ì´ë‹¤.</p><p>ë‹¤ë§Œ ìœ„ ì¶”ê°€ ì˜ê²¬ì„ ì˜®ê²¨ì˜¨ ì´ìœ ëŠ”, ìœ„ ì˜ê²¬ ë•ë¶„ì— ì•ì„œ GETì´ ë‚«ë‹¤ëŠ” ê²°ë¡ ì´ <strong>ì´ì™€ ë¹„ìŠ·í•´ ë³´ì´ëŠ” ìƒí™©ì—ì„œ (ì–¸ì œë‚˜) GETì„ ì“°ëŠ” ê²Œ ë‚«ë‹¤ë¼ëŠ” ì˜ëª»ëœ ê°€ì´ë“œê°€ ë  ìˆ˜ ìˆëŠ” ìœ„í—˜</strong>ì´ ìˆìŒì„ ê¹¨ë‹«ê²Œ ëê¸° ë–„ë¬¸ì´ë‹¤.</p><p>í€´ì¦ˆ ì‚¬ë¡€ì™€ëŠ” ë‹¬ë¦¬ <strong>ë‚˜ì¤‘ì— ì¡°íšŒ ë°©ì‹ìœ¼ë¡œ ë³€ê²½ë  ê°œì—°ì„±ì´ ë§¤ìš° ë‚®ì€ ìƒí™©ì´ë¼ë©´, ìœ„ ì˜ê²¬ê³¼ ê°™ì´ POST + GET ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²Œ í•©ë‹¹í•  ìˆ˜ë„ ìˆë‹¤.</strong> ë‹¤ë§Œ ì´ëŸ° ê²°ë¡ ë§ˆì €ë„, í•œ ë²ˆì˜ HTTP ìš”ì²­ì´ë¼ë„ ì¤„ì—¬ì•¼ í•˜ëŠ” ìƒí™©ì´ë¼ë©´ GETì„ ì„ íƒí•˜ëŠ” í¸ì´ ë‚«ê²Œ ëœë‹¤. </p><p>ê²°êµ­ ê¸€ ì„œë‘ì—ì„œ ë°íŒ ëŒ€ë¡œ ì´ ê¸€ ìì²´ë¡œ ì •ë‹µì€ ë  ìˆ˜ ì—†ë‹¤. ê·¸ì € ì°¸ê³ ê°€ ë  ë¿ì´ê³  <strong>ì£¼ì–´ì§„ ìƒí™©ì— ë§ëŠ” ê²°ë¡ ì„ ë„ì¶œí•˜ëŠ” ê²ƒì€ ì–¸ì œë‚˜ ì—”ì§€ë‹ˆì–´ì˜ ëª«ì´ë‹¤.</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;GETì´ëƒ-POSTëƒ-ê·¸ê²ƒì´-ë¬¸ì œë¡œë‹¤&quot;&gt;&lt;a href=&quot;#GETì´ëƒ-POSTëƒ-ê·¸ê²ƒì´-ë¬¸ì œë¡œë‹¤&quot; class=&quot;headerlink&quot; title=&quot;GETì´ëƒ POSTëƒ ê·¸ê²ƒì´ ë¬¸ì œë¡œë‹¤&quot;&gt;&lt;/a&gt;GETì´ëƒ POSTëƒ ê·¸ê²ƒì´ ë¬¸ì œë¡œë‹¤&lt;/h1&gt;&lt;
      
    
    </summary>
    
      <category term="Concepts" scheme="http://homoefficio.github.io/categories/Concepts/"/>
    
    
      <category term="HTTP" scheme="http://homoefficio.github.io/tags/HTTP/"/>
    
      <category term="HTTP API" scheme="http://homoefficio.github.io/tags/HTTP-API/"/>
    
      <category term="HTTP Method" scheme="http://homoefficio.github.io/tags/HTTP-Method/"/>
    
      <category term="Safe Method" scheme="http://homoefficio.github.io/tags/Safe-Method/"/>
    
      <category term="Idempotence" scheme="http://homoefficio.github.io/tags/Idempotence/"/>
    
      <category term="GET" scheme="http://homoefficio.github.io/tags/GET/"/>
    
      <category term="POST" scheme="http://homoefficio.github.io/tags/POST/"/>
    
      <category term="Information Hiding" scheme="http://homoefficio.github.io/tags/Information-Hiding/"/>
    
      <category term="ì •ë³´ ìˆ¨ê¹€" scheme="http://homoefficio.github.io/tags/%EC%A0%95%EB%B3%B4-%EC%88%A8%EA%B9%80/"/>
    
      <category term="ì •ë³´ ê°ì¶¤" scheme="http://homoefficio.github.io/tags/%EC%A0%95%EB%B3%B4-%EA%B0%90%EC%B6%A4/"/>
    
      <category term="ë©±ë“±" scheme="http://homoefficio.github.io/tags/%EB%A9%B1%EB%93%B1/"/>
    
  </entry>
  
  <entry>
    <title>Raspberry Pi 3ì— Ubuntu ì„¤ì¹˜ í•˜ê¸°</title>
    <link href="http://homoefficio.github.io/2019/12/21/Raspberry-Pi-3%EC%97%90-Ubuntu-%EC%84%A4%EC%B9%98-%ED%95%98%EA%B8%B0/"/>
    <id>http://homoefficio.github.io/2019/12/21/Raspberry-Pi-3ì—-Ubuntu-ì„¤ì¹˜-í•˜ê¸°/</id>
    <published>2019-12-21T08:34:41.000Z</published>
    <updated>2019-12-25T15:30:53.147Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Install-Ubuntu-on-Raspberry-Pi-3"><a href="#Install-Ubuntu-on-Raspberry-Pi-3" class="headerlink" title="Install Ubuntu on Raspberry Pi 3"></a>Install Ubuntu on Raspberry Pi 3</h1><h2 id="ì¤€ë¹„ë¬¼"><a href="#ì¤€ë¹„ë¬¼" class="headerlink" title="ì¤€ë¹„ë¬¼"></a>ì¤€ë¹„ë¬¼</h2><ul><li>Raspberry Pi 3 + ì „ì› ì¥ì¹˜</li><li>MicroSD ì¹´ë“œ</li><li>USB Keyboard</li><li>Monitor + HDMI ì¼€ì´ë¸”</li><li>Ubuntu ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ í•˜ê³  MicroSDì— Ubuntu ì´ë¯¸ì§€ë¥¼ Flash í•  ì¸í„°ë„· ì—°ê²° ì»´í“¨í„°</li></ul><h2 id="Ubuntu-ì´ë¯¸ì§€-íŒŒì¼-ë‹¤ìš´ë¡œë“œ"><a href="#Ubuntu-ì´ë¯¸ì§€-íŒŒì¼-ë‹¤ìš´ë¡œë“œ" class="headerlink" title="Ubuntu ì´ë¯¸ì§€ íŒŒì¼ ë‹¤ìš´ë¡œë“œ"></a>Ubuntu ì´ë¯¸ì§€ íŒŒì¼ ë‹¤ìš´ë¡œë“œ</h2><ul><li><a href="https://ubuntu.com/download/raspberry-pi" target="_blank" rel="noopener">https://ubuntu.com/download/raspberry-pi</a><ul><li><code>64-bit for Raspberry Pi 3 and 4</code> ë‹¤ìš´ë¡œë“œ</li></ul></li></ul><p>ì•½ 3G ì •ë„ë¡œ ë‹¤ìš´ë¡œë“œì— ì‹œê°„ì´ ì¢€ ê±¸ë¦¬ë¯€ë¡œ ê·¸ë™ì•ˆ ì•„ë˜ì˜ â€˜Image Flash í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜â€™, â€˜MicroSD ë©”ëª¨ë¦¬ ì¹´ë“œ ì¤€ë¹„â€™ ìˆ˜í–‰</p><h2 id="Image-Flash-í”„ë¡œê·¸ë¨-ë‹¤ìš´ë¡œë“œ-ë°-ì„¤ì¹˜"><a href="#Image-Flash-í”„ë¡œê·¸ë¨-ë‹¤ìš´ë¡œë“œ-ë°-ì„¤ì¹˜" class="headerlink" title="Image Flash í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜"></a>Image Flash í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜</h2><ul><li><a href="https://sourceforge.net/projects/win32diskimager/files/latest/download" target="_blank" rel="noopener">https://sourceforge.net/projects/win32diskimager/files/latest/download</a></li></ul><h2 id="MicroSD-ë©”ëª¨ë¦¬-ì¹´ë“œ-ì¤€ë¹„"><a href="#MicroSD-ë©”ëª¨ë¦¬-ì¹´ë“œ-ì¤€ë¹„" class="headerlink" title="MicroSD ë©”ëª¨ë¦¬ ì¹´ë“œ ì¤€ë¹„"></a>MicroSD ë©”ëª¨ë¦¬ ì¹´ë“œ ì¤€ë¹„</h2><p>ìœˆë„ìš° 10 ê¸°ì¤€</p><ul><li><p>MicroSD ë©”ëª¨ë¦¬ ì¹´ë“œë¥¼ ì»´í“¨í„°ì— ì—°ê²°</p><ul><li>í¬ë§· ë“±ì˜ íŒì—…ì´ ëœ¨ë©´ ëª¨ë‘ ë¬´ì‹œ</li><li><img src="https://i.imgur.com/93adzTR.png" alt="Imgur"></li><li><img src="https://i.imgur.com/UM67S8u.png" alt="Imgur"></li></ul></li><li><p>ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ ì¹´ë“œë¼ íŒŒí‹°ì…˜ì´ ë‚˜ë‰˜ì–´ ìˆëŠ” ê²½ìš° íŒŒí‹°ì…˜ ì‚­ì œ</p><ul><li>ìœˆë„ìš° ë²„íŠ¼ ìš°í´ë¦­ &gt; ë””ìŠ¤í¬ ê´€ë¦¬ì ì‹¤í–‰</li><li><img src="https://i.imgur.com/cGeAsxt.png" alt="Imgur"></li><li>MicroSD ë©”ëª¨ë¦¬ì— ìˆë˜ ë³¼ë¥¨(íŒŒí‹°ì…˜) ëª¨ë‘ ì‚­ì œ</li><li><img src="https://i.imgur.com/hr9w14r.png" alt="Imgur"></li><li>ì•„ë˜ì™€ ê°™ì´ ëª¨ë‘ ì‚­ì œ ë˜ë©´ ì¤€ë¹„ ì™„ë£Œ</li><li><img src="https://i.imgur.com/rPKVxcJ.png" alt="Imgur"></li></ul></li></ul><h2 id="MicroSD-ë©”ëª¨ë¦¬-ì¹´ë“œì—-Ubuntu-ì´ë¯¸ì§€-íŒŒì¼-Flash"><a href="#MicroSD-ë©”ëª¨ë¦¬-ì¹´ë“œì—-Ubuntu-ì´ë¯¸ì§€-íŒŒì¼-Flash" class="headerlink" title="MicroSD ë©”ëª¨ë¦¬ ì¹´ë“œì— Ubuntu ì´ë¯¸ì§€ íŒŒì¼ Flash"></a>MicroSD ë©”ëª¨ë¦¬ ì¹´ë“œì— Ubuntu ì´ë¯¸ì§€ íŒŒì¼ Flash</h2><ul><li>Ubuntu ì´ë¯¸ì§€ íŒŒì¼ ì••ì¶• í•´ì œ<ul><li>í•„ìš” ì‹œ ë°˜ë””ì§‘ ì„¤ì¹˜ í›„ í•´ì œ</li></ul></li><li>Image Flash í”„ë¡œê·¸ë¨ ì‹¤í–‰<ul><li>Ubuntu ì´ë¯¸ì§€ íŒŒì¼ ìœ„ì¹˜ ì§€ì • ë° Flash í•  ëŒ€ìƒ ë””ë°”ì´ìŠ¤(MicroSD ì¹´ë“œ) ì§€ì • í›„ Write</li><li><img src="https://i.imgur.com/hFTpk31.png" alt="Imgur"></li><li><img src="https://i.imgur.com/p2inqJO.png" alt="Imgur"></li></ul></li><li>ì‚¬ì–‘ì— ë”°ë¼ ë‹¤ë¥´ê² ì§€ë§Œ ì•½ 2~3ë¶„ í›„ ë‹¤ìŒê³¼ ê°™ì´ Flash ì™„ë£Œ<ul><li><img src="https://i.imgur.com/00yqpDc.png" alt="Imgur"></li></ul></li><li>í¬ë§· íŒì—…ì°½ì´ ë‹¤ì‹œ ëœ¨ë©´ ë¬´ì‹œ<ul><li><img src="https://i.imgur.com/uV31oML.png" alt="Imgur"></li></ul></li><li>íƒìƒ‰ê¸°ì—ì„œ êº¼ë‚´ê¸° í›„ MicroSD ë©”ëª¨ë¦¬ ì¹´ë“œë¥¼ ë¹¼ë‚¸ë‹¤.</li></ul><h2 id="Raspberry-Pi-ë¶€íŒ…-ì„¤ì¹˜-ì™„ë£Œ-ë°-ë¡œê·¸ì¸"><a href="#Raspberry-Pi-ë¶€íŒ…-ì„¤ì¹˜-ì™„ë£Œ-ë°-ë¡œê·¸ì¸" class="headerlink" title="Raspberry Pi ë¶€íŒ…, ì„¤ì¹˜ ì™„ë£Œ ë° ë¡œê·¸ì¸"></a>Raspberry Pi ë¶€íŒ…, ì„¤ì¹˜ ì™„ë£Œ ë° ë¡œê·¸ì¸</h2><ul><li>Ubuntu ì´ë¯¸ì§€ê°€ Flash ëœ MicroSD ì¹´ë“œ, ëª¨ë‹ˆí„°ì™€ ì—°ê²°ëœ HDMI ì¼€ì´ë¸”ê³¼ í‚¤ë³´ë“œë¥¼ Raspberry PI ì— ì—°ê²°í•˜ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ Raspberry PI ì „ì› ì—°ê²°<ul><li><img src="https://i.imgur.com/YwBAux3.jpg" alt="Imgur"></li></ul></li><li>Ubuntu ë¡œ ë¶€íŒ…ë˜ë©° ëª‡ ë¶„ê°„ ìë™ ì„¤ì • í›„ ë¡œê·¸ì¸ í”„ë¡¬í”„íŠ¸ ë‚˜ì˜´<ul><li><img src="https://i.imgur.com/5P5wgZ6.jpg" alt="Imgur"></li><li><img src="https://i.imgur.com/9G6Zqos.jpg" alt="Imgur"></li><li><img src="https://i.imgur.com/JkXmeLR.jpg" alt="Imgur"></li><li><img src="https://i.imgur.com/LV5d4or.jpg" alt="Imgur"></li><li><strong>ë†€ëê²Œë„ ìœ„ ì‚¬ì§„ì— ë‚˜ì˜¤ëŠ” ë¡œê·¸ì¸ í”„ë¡¬í”„íŠ¸ëŠ” í˜ì´í¬..</strong> ì—¬ê¸°ì„œ ì…ë ¥í•´ë´¤ì ë¹„ë²ˆ í‹€ë¦¬ë‹¤ëŠ” ì–˜ê¸°ë§Œ ë‚˜ì˜¤ë©°, ê·¸ëƒ¥ ê¸°ë‹¤ë¦¬ë©´ ë‹¤ìŒ ì‚¬ì§„ê³¼ ê°™ì´ í›„ì† ì ˆì°¨ê°€ ìë™ìœ¼ë¡œ ê³„ì† ì§„í–‰ëœë‹¤.</li><li><img src="https://i.imgur.com/dgSIjFH.jpg" alt="Imgur"></li><li><img src="https://i.imgur.com/dggNhk9.jpg" alt="Imgur"></li></ul></li><li>ë‹¤ìŒê³¼ ê°™ì´ <strong><code>[  OK  ] Reached target Cloud-init target.</code> ì´ ë³´ì—¬ì•¼ ë¡œê·¸ì¸ ì¤€ë¹„ê°€ ì™„ë£Œ</strong>ëœ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ <strong>ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ í”„ë¡¬í”„íŠ¸ê°€ ëœ¨ì§€ëŠ” ì•Šê³  ì—”í„°ë¥¼ ëˆŒëŸ¬ì¤˜ì•¼ ë¡œê·¸ì¸ í”„ë¡¬í”„íŠ¸ê°€ ëœ¬ë‹¤.</strong><ul><li><img src="https://i.imgur.com/oL5bc8f.jpg" alt="Imgur"></li></ul></li><li>ì´ˆê¸° ì•„ì´ë””/ë¹„ë²ˆì€ ubuntu/ubuntu ì´ë©° ë¡œê·¸ì¸ í›„ ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ ë¹„ë²ˆ ë³€ê²½í•˜ë©´ ì…¸ í”„ë¡¬í”„íŠ¸ê°€ ëœ¬ë‹¤.<ul><li><img src="https://i.imgur.com/njltjMN.jpg" alt="Imgur"></li></ul></li><li>ì´ê²ƒìœ¼ë¡œ ë¶€íŒ…, ì„¤ì¹˜, ë¡œê·¸ì¸ ì™„ë£Œ</li><li>ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ ë¦¬ëˆ…ìŠ¤ë¥¼ ì¢…ë£Œí•œë‹¤.<ul><li><code>shutdown -h now</code></li></ul></li></ul><h2 id="ì„¤ì¹˜-ì™„ë£Œ-í›„-ë¶€íŒ…-ë°-ë¡œê·¸ì¸"><a href="#ì„¤ì¹˜-ì™„ë£Œ-í›„-ë¶€íŒ…-ë°-ë¡œê·¸ì¸" class="headerlink" title="ì„¤ì¹˜ ì™„ë£Œ í›„ ë¶€íŒ… ë° ë¡œê·¸ì¸"></a>ì„¤ì¹˜ ì™„ë£Œ í›„ ë¶€íŒ… ë° ë¡œê·¸ì¸</h2><ul><li>ì „ì›ì„ ì—°ê²°í•˜ë©´ ì‚°ë”¸ê¸° ê·¸ë¦¼ê³¼ í•¨ê»˜ ë¶€íŒ… ê³¼ì •ì´ ì§„í–‰ë˜ê³  ë‹¤ìŒê³¼ ê°™ì´.. ì´ë²ˆì—ë„ í˜ì´í¬ì„± ë¡œê·¸ì¸ í”„ë¡¬í”„íŠ¸ê°€ ë‚˜ì˜¨ë‹¤..</li><li>ì¢€ë” ê¸°ë‹¤ë¦¬ë©´ ë‚˜ë¨¸ì§€ í›„ì† ì‘ì—…ì´ ì§„í–‰ë˜ê³  <code>Up ##.## seconds</code> ë¼ê³  í‘œì‹œë˜ëŠ”ë° ì´ì œì„œì•¼ ë¹„ë¡œì†Œ ë¶€íŒ… ê³¼ì •ì´ ì™„ë£Œëœ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ì´ë²ˆì—ë„ ì§„í–‰ì´ ì™„ë£Œëœ ê±´ì§€ í™”ë©´ë§Œìœ¼ë¡œëŠ” ì•Œ ê¸¸ì´ ì—†ë‹¤.. </li><li>ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì§„ì • ìœ íš¨í•œ ë¡œê·¸ì¸ í”„ë¡¬í”„íŠ¸ê°€ ë‚˜ì˜¤ë©°, ë¡œê·¸ì¸ì„ í•˜ë©´ ì…¸ í”„ë¡¬í”„íŠ¸ê°€ í‘œì‹œëœë‹¤.<ul><li><img src="https://i.imgur.com/3iU0f8k.jpg" alt="Imgur"></li></ul></li></ul><h2 id="ì„¤ì¹˜-í›„ê¸°"><a href="#ì„¤ì¹˜-í›„ê¸°" class="headerlink" title="ì„¤ì¹˜ í›„ê¸°"></a>ì„¤ì¹˜ í›„ê¸°</h2><ul><li>ì‚¬ì‹¤ ê·¸ëƒ¥ <a href="https://ubuntu.com/download/raspberry-pi" target="_blank" rel="noopener">https://ubuntu.com/download/raspberry-pi</a> ì—¬ê¸°ì— ë‚˜ì˜¨ ê³µì‹ ì„¤ëª…ì„ ì¬ì—°í•˜ê³  ëª‡ ê°€ì§€ ì‹¤ì œ ë°œìƒí•˜ëŠ” ìƒí™©(MicroSD ì´ˆê¸°í™”)ì„ ì¶”ê°€í•œ ê²ƒ ë¿ì´ì§€ë§Œ..</li><li>ìœ„ì— ë‚˜ì˜¤ëŠ” ê²ƒì²˜ëŸ¼ ì–´ë–¤ ë‹¨ê³„ê°€ ì–¸ì œ ëë‚œ ê±´ì§€ ì˜ ì•Œê¸° ì–´ë ¤ìš´ ì¥ë©´ë“¤ì´ ìˆê³ ,</li><li>í˜ì´í¬ì„± ë¡œê·¸ì¸ í”„ë¡¬í”„íŠ¸ ì²˜ëŸ¼ ì‚´ì§ ë²„ê·¸ìŠ¤ëŸ½ê²Œ ë³´ì´ëŠ” ì§€ë¢°ë“¤ì´ ëª‡ êµ°ë° ìˆìŒì„ ê°ì•ˆí•˜ë©´,</li><li>ë‚¨ê¸°ê¸¸ ì˜í–ˆë‹¤..</li></ul><h2 id="ê³ ì •-IP-ì ìš©"><a href="#ê³ ì •-IP-ì ìš©" class="headerlink" title="ê³ ì • IP ì ìš©"></a>ê³ ì • IP ì ìš©</h2><p>IP ì£¼ì†ŒëŠ” <code>/etc/netplan/50-cloud-init.yaml</code> íŒŒì¼ì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©° ê¸°ë³¸ì€ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ë¼ìˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This file is generated from information provided by</span></span><br><span class="line"><span class="comment"># the datasource.  Changes to it will not persist across an instance.</span></span><br><span class="line"><span class="comment"># To disable cloud-init's network configuration capabilities, write a file</span></span><br><span class="line"><span class="comment"># /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following:</span></span><br><span class="line"><span class="comment"># network: &#123;config: disabled&#125;</span></span><br><span class="line"><span class="attr">network:</span></span><br><span class="line"><span class="attr">    ethernets:</span></span><br><span class="line"><span class="attr">        eth0:</span>            </span><br><span class="line"><span class="attr">            dhcp4:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">            optional:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    version:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="ì„¤ì •-íŒŒì¼-ìˆ˜ì •"><a href="#ì„¤ì •-íŒŒì¼-ìˆ˜ì •" class="headerlink" title="ì„¤ì • íŒŒì¼ ìˆ˜ì •"></a>ì„¤ì • íŒŒì¼ ìˆ˜ì •</h3><p>ê³ ì • IP ì£¼ì†Œë¥¼ ì ìš©í•˜ë ¤ë©´ <code>sudo vi</code>ë¡œ ë‹¤ìŒê³¼ ê°™ì´ í¸ì§‘í•œë‹¤.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This file is generated from information provided by</span></span><br><span class="line"><span class="comment"># the datasource.  Changes to it will not persist across an instance.</span></span><br><span class="line"><span class="comment"># To disable cloud-init's network configuration capabilities, write a file</span></span><br><span class="line"><span class="comment"># /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following:</span></span><br><span class="line"><span class="comment"># network: &#123;config: disabled&#125;</span></span><br><span class="line"><span class="attr">network:</span></span><br><span class="line"><span class="attr">    ethernets:</span></span><br><span class="line"><span class="attr">        eth0:</span></span><br><span class="line"><span class="attr">            addresses:</span> <span class="string">[ì‚¬ìš©í• .ê³ ì •.IP.ì£¼ì†Œ/24]</span></span><br><span class="line"><span class="attr">            gateway4:</span> <span class="string">ì‚¬ìš©í• .ë‚´ë¶€.ê²Œì´íŠ¸ì›¨ì´.ì£¼ì†Œ</span></span><br><span class="line"><span class="attr">            nameservers:</span></span><br><span class="line"><span class="attr">                addresses:</span> <span class="string">[168.126.63.1,</span> <span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span><span class="string">]</span></span><br><span class="line"><span class="attr">            dhcp4:</span> <span class="literal">no</span></span><br><span class="line"><span class="attr">            optional:</span> <span class="literal">no</span></span><br><span class="line"><span class="attr">    version:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="ì„¤ì •-ë‚´ìš©-ì ìš©"><a href="#ì„¤ì •-ë‚´ìš©-ì ìš©" class="headerlink" title="ì„¤ì • ë‚´ìš© ì ìš©"></a>ì„¤ì • ë‚´ìš© ì ìš©</h3><p>ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ ì„¤ì • ë‚´ìš©ì„ ì ìš©í•œë‹¤.</p><blockquote><p>sudo netplan apply</p></blockquote><h3 id="ì„¤ì •-ë‚´ìš©-í™•ì¸"><a href="#ì„¤ì •-ë‚´ìš©-í™•ì¸" class="headerlink" title="ì„¤ì • ë‚´ìš© í™•ì¸"></a>ì„¤ì • ë‚´ìš© í™•ì¸</h3><p>ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ IP ì£¼ì†Œë¥¼ í™•ì¸í•œë‹¤.</p><blockquote><p>ip addr</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Install-Ubuntu-on-Raspberry-Pi-3&quot;&gt;&lt;a href=&quot;#Install-Ubuntu-on-Raspberry-Pi-3&quot; class=&quot;headerlink&quot; title=&quot;Install Ubuntu on Raspberry 
      
    
    </summary>
    
      <category term="ê°œë°œ í™˜ê²½ ë° ë„êµ¬" scheme="http://homoefficio.github.io/categories/%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%EB%B0%8F-%EB%8F%84%EA%B5%AC/"/>
    
    
      <category term="Raspberry Pi" scheme="http://homoefficio.github.io/tags/Raspberry-Pi/"/>
    
      <category term="Ubuntu" scheme="http://homoefficio.github.io/tags/Ubuntu/"/>
    
      <category term="IoT" scheme="http://homoefficio.github.io/tags/IoT/"/>
    
      <category term="ë¼ì¦ˆë² ë¦¬ íŒŒì´" scheme="http://homoefficio.github.io/tags/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4/"/>
    
      <category term="ìš°ë¶„íˆ¬" scheme="http://homoefficio.github.io/tags/%EC%9A%B0%EB%B6%84%ED%88%AC/"/>
    
      <category term="IP" scheme="http://homoefficio.github.io/tags/IP/"/>
    
      <category term="Static IP" scheme="http://homoefficio.github.io/tags/Static-IP/"/>
    
  </entry>
  
  <entry>
    <title>IntelliJì—ì„œ H2 ì—°ê²°í•˜ê³  JPA Console ì‚¬ìš©í•˜ê¸°</title>
    <link href="http://homoefficio.github.io/2019/10/09/IntelliJ%EC%97%90%EC%84%9C-H2-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B3%A0-JPA-Console-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"/>
    <id>http://homoefficio.github.io/2019/10/09/IntelliJì—ì„œ-H2-ì—°ê²°í•˜ê³ -JPA-Console-ì‚¬ìš©í•˜ê¸°/</id>
    <published>2019-10-09T10:00:09.000Z</published>
    <updated>2019-10-13T15:45:27.784Z</updated>
    
    <content type="html"><![CDATA[<h1 id="IntelliJì—ì„œ-H2-ì—°ê²°í•˜ê³ -JPA-Console-ì‚¬ìš©í•˜ê¸°"><a href="#IntelliJì—ì„œ-H2-ì—°ê²°í•˜ê³ -JPA-Console-ì‚¬ìš©í•˜ê¸°" class="headerlink" title="IntelliJì—ì„œ H2 ì—°ê²°í•˜ê³  JPA Console ì‚¬ìš©í•˜ê¸°"></a>IntelliJì—ì„œ H2 ì—°ê²°í•˜ê³  JPA Console ì‚¬ìš©í•˜ê¸°</h1><p>H2ëŠ” Web ì½˜ì†”ë„ ì§€ì›í•´ì¤˜ì„œ ë¡œì»¬ í™˜ê²½ì—ì„œ ì›¹ì„ í†µí•´ ì‰½ê²Œ ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br>IntelliJ <strong>Ultimate ë²„ì „</strong>ì—ëŠ” DB Client ë„êµ¬ê°€ í¬í•¨ë¼ìˆì–´ì„œ ë¡œì»¬ì—ì„œ H2 DBë¥¼ ì‚¬ìš©í•  ë•Œ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br>ë˜í•œ JPAë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° JPA Consoleì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , Hibernate Consoleì²˜ëŸ¼ JPA êµ¬í˜„ì²´ì— ë”°ë¥¸ ì½˜ì†”ë„ ì§€ì›í•œë‹¤.</p><p>ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— H2ë¥¼ ì„ë² ë””ë“œ ëª¨ë“œë¡œ ì‚¬ìš©í•˜ëŠ” ì¼€ì´ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•œ ë²ˆ ì‹œë„í•´ë³´ì.</p><p>IntelliJ 2019.2.3, ìë°” 11, Gradle 5.6.2, ìŠ¤í”„ë§ë¶€íŠ¸ ë²„ì „ 2.2.0 RC1, H2 1.4 ê¸°ì¤€ì´ê³ , ê¸°ë³¸ <code>build.gradle</code>ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">dependencies &#123;</span><br><span class="line">    implementation <span class="string">'org.springframework.boot:spring-boot-starter-actuator'</span></span><br><span class="line">    implementation <span class="string">'org.springframework.boot:spring-boot-starter-data-jpa'</span></span><br><span class="line">    implementation <span class="string">'org.springframework.boot:spring-boot-starter-web'</span></span><br><span class="line">    compileOnly <span class="string">'org.projectlombok:lombok'</span></span><br><span class="line">    developmentOnly <span class="string">'org.springframework.boot:spring-boot-devtools'</span></span><br><span class="line">    runtimeOnly <span class="string">'com.h2database:h2'</span></span><br><span class="line">    annotationProcessor <span class="string">'org.springframework.boot:spring-boot-configuration-processor'</span></span><br><span class="line">    annotationProcessor <span class="string">'org.projectlombok:lombok'</span></span><br><span class="line">    testImplementation(<span class="string">'org.springframework.boot:spring-boot-starter-test'</span>) &#123;</span><br><span class="line">        exclude <span class="string">group:</span> <span class="string">'org.junit.vintage'</span>, <span class="string">module:</span> <span class="string">'junit-vintage-engine'</span></span><br><span class="line">    &#125;</span><br><span class="line">    testImplementation <span class="string">'org.springframework.security:spring-security-test'</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h2 id="H2-ì›¹-ì½˜ì†”"><a href="#H2-ì›¹-ì½˜ì†”" class="headerlink" title="H2 ì›¹ ì½˜ì†”"></a>H2 ì›¹ ì½˜ì†”</h2><p>H2ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì›¹ ì½˜ì†”ì„ ì§€ì›í•˜ë©°, ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œëŠ” ë‹¤ìŒì˜ 2ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì›¹ ì½˜ì†”ì„ í™œì„±í™” í•  ìˆ˜ ìˆë‹¤. </p><ol><li><code>spring-boot-devtools</code> ì ìš©</li><li>application.properties ì— <code>spring.h2.console.enabled=true</code> ëª…ì‹œ</li></ol><p>ê¸°ë³¸ JDBC URLì€ <code>jdbc:h2:mem:testdb</code> ì´ë©°, ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ <code>localhost:8080/h2-console</code>ì„ í†µí•´ ì›¹ ì½˜ì†”ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/V3jgpSb.png" alt="Imgur"></p><p>H2 ì›¹ ì½˜ì†”ì€ ë‹¤ìŒê³¼ ê°™ì´ ì—¬ëŸ¬ ì›¹ ë¸Œë¼ìš°ì €ë¡œë¶€í„°ì˜ ì ‘ê·¼ì€ ê°€ëŠ¥í•˜ì§€ë§Œ,</p><p><img src="https://i.imgur.com/7iSodqX.png" alt="Imgur"><br>&lt;<a href="https://www.h2database.com/html/tutorial.html#tutorial_starting_h2_console" target="_blank" rel="noopener">https://www.h2database.com/html/tutorial.html#tutorial_starting_h2_console</a> ê·¸ë¦¼ ìˆ˜ì •&gt;</p><p>ì›¹ ì½˜ì†”ì´ë¯€ë¡œ ë‹¹ì—°í•œ ë§ì¼ ìˆ˜ë„ ìˆì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì´ ì›¹ ë¸Œë¼ìš°ì €ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„°ì˜ ì ‘ê·¼ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.</p><p><img src="https://i.imgur.com/ZY7UV9y.png" alt="Imgur"><br>&lt;<a href="https://www.h2database.com/html/tutorial.html#tutorial_starting_h2_console" target="_blank" rel="noopener">https://www.h2database.com/html/tutorial.html#tutorial_starting_h2_console</a> ê·¸ë¦¼ ìˆ˜ì •&gt;</p><p>ë”°ë¼ì„œ IntelliJì™€ ê°™ì€ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ë¡œì—ì„œ ì ‘ê·¼í•˜ë ¤ë©´ ë¨¼ì € H2 TCP ì„œë²„ë¥¼ ë³„ë„ë¡œ êµ¬ë™í•´ì•¼ í•œë‹¤.</p><h2 id="H2-TCP-ì„œë²„-ìƒì„±"><a href="#H2-TCP-ì„œë²„-ìƒì„±" class="headerlink" title="H2 TCP ì„œë²„ ìƒì„±"></a>H2 TCP ì„œë²„ ìƒì„±</h2><h3 id="ì˜ì¡´-ê´€ê³„-ì„¤ì •-ë³€ê²½"><a href="#ì˜ì¡´-ê´€ê³„-ì„¤ì •-ë³€ê²½" class="headerlink" title="ì˜ì¡´ ê´€ê³„ ì„¤ì • ë³€ê²½"></a>ì˜ì¡´ ê´€ê³„ ì„¤ì • ë³€ê²½</h3><p>H2 TCP ì„œë²„ë¥¼ êµ¬ë™í•˜ë ¤ë©´ H2ê°€ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì†ŒìŠ¤ ì½”ë“œ ìˆ˜ì¤€ì—ì„œ ì‚¬ìš©í•´ì•¼í•˜ë¯€ë¡œ H2ë¥¼ ë” ì´ìƒ <code>runtimeOnly</code>ë¡œë§Œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ <code>build.gradle</code>ì—ì„œ H2ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ <code>compile</code>ë¡œ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤.</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">dependencies &#123;</span><br><span class="line">    ...</span><br><span class="line">    compile <span class="string">'com.h2database:h2'</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="H2-TCP-ì„œë²„-êµ¬ë™-ë¹ˆ-ì¶”ê°€"><a href="#H2-TCP-ì„œë²„-êµ¬ë™-ë¹ˆ-ì¶”ê°€" class="headerlink" title="H2 TCP ì„œë²„ êµ¬ë™ ë¹ˆ ì¶”ê°€"></a>H2 TCP ì„œë²„ êµ¬ë™ ë¹ˆ ì¶”ê°€</h3><p>ë‹¤ìŒê³¼ ê°™ì´ H2 TCP ì„œë²„ë¥¼ êµ¬ë™í•˜ëŠ” ë¹ˆì„ ì¶”ê°€í•œë‹¤. ìŠ¤í”„ë§ì´ ì•„ë‹ˆë¼ë©´ ë¹ˆ ëŒ€ì‹  ë³„ë„ì˜ Java ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ì‘ì„±í•´ë„ ëœë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.homo_efficio.learnmicroservicesspringboot.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.h2.tools.Server;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">H2ServerConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Server <span class="title">h2TcpServer</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Server.createTcpServer().start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>H2 TCP ì„œë²„ì˜ ê¸°ë³¸ í¬íŠ¸ëŠ” 9092ì´ë©°, í¬íŠ¸ ë“± ê¸°íƒ€ ì˜µì…˜ì€ <code>createTcpServer()</code>ì˜ ì •ì˜ ë¶€ë¶„ì„ ë³´ë©´ ìƒì„¸íˆ ì•Œ ìˆ˜ ìˆë‹¤.</p><p>ì´ì œ ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ H2 TCP ì„œë²„ê°€ í•¨ê»˜ êµ¬ë™ë˜ê³ , ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë  ë•Œ H2 TCP ì„œë²„ë„ í•¨ê»˜ ì¢…ë£Œëœë‹¤.</p><p>ë³´í†µ H2ëŠ” ê°œë°œìš©ìœ¼ë¡œ ë¡œì»¬ì—ì„œ ì‚¬ìš©í•˜ë¯€ë¡œ ë¹ˆ ì„¤ì • ì‹œ ë‹¤ìŒê³¼ ê°™ì´ í”„ë¡œíŒŒì¼ì„ ì§€ì •í•´ë‘ê³  ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ë™ ì‹œ ì ì ˆí•œ í”„ë¡œíŒŒì¼ì„ ì§€ì •í•´ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Profile</span>(<span class="string">"local"</span>)</span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">H2ServerConfig</span> </span>&#123;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ì´ì œ IntelliJ ìª½ ì„¤ì •ì„ ì•Œì•„ë³´ì.</p><h2 id="IntelliJ-ë°ì´í„°-ì†ŒìŠ¤-ì„¤ì •"><a href="#IntelliJ-ë°ì´í„°-ì†ŒìŠ¤-ì„¤ì •" class="headerlink" title="IntelliJ ë°ì´í„° ì†ŒìŠ¤ ì„¤ì •"></a>IntelliJ ë°ì´í„° ì†ŒìŠ¤ ì„¤ì •</h2><p>ë‹¤ìŒê³¼ ê°™ì´ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë©”ë‰´ì—ì„œ H2ë¥¼ ì„ íƒí•˜ê³ ,</p><p><img src="https://i.imgur.com/UnochEY.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ H2 JDBC ë“œë¼ì´ë²„ë¥¼ ì§€ì •í•œë‹¤.</p><p><img src="https://i.imgur.com/1h22PXY.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ ì™¼ìª½ ìƒë‹¨ì˜ â€˜Project Data Sourcesâ€™ì— í‘œì‹œëœ í•­ëª©ì„ í´ë¦­í•˜ê³  URL, Userë¥¼ ì…ë ¥í•œë‹¤. URL ì…ë ¥ ì‹œ ë­”ê°€ ì˜¤ë¥˜ë¥¼ í‘œì‹œí•˜ëŠ” ë“¯í•œ ë¹¨ê°„ìƒ‰ ì„¸ë¡œ ë§‰ëŒ€ê°€ í‘œì‹œë˜ëŠ”ë° ë¬´ì‹œí•˜ë©´ ëœë‹¤.</p><p><img src="https://i.imgur.com/H3ASiJO.png" alt="Imgur"></p><p>Test Connectionì„ í´ë¦­í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì—°ê²°ì— ì„±ê³µí•œë‹¤.</p><p><img src="https://i.imgur.com/OjIh2EW.png" alt="Imgur"></p><p>H2 TCP ì„œë²„ëŠ” ì¸ë©”ëª¨ë¦¬ ëª¨ë“œ, íŒŒì¼ ëª¨ë“œ ë‘˜ ë‹¤ ì§€ì›í•˜ë©° URL í˜•ì‹ì€ ë‹¤ìŒì„ ì°¸ê³ í•œë‹¤.</p><p><img src="https://i.imgur.com/36vMBtK.png" alt="Imgur"><br>&lt;ì¶œì²˜: <a href="https://h2database.com/html/features.html#database_url&gt;" target="_blank" rel="noopener">https://h2database.com/html/features.html#database_url&gt;</a></p><p>ì°¸ê³ ë¡œ ë‹¤ìŒê³¼ ê°™ì´ IntelliJì˜ ë“œë¼ì´ë²„ ì§€ì • í™”ë©´ì—ì„œë„ Connection type ë³„ë¡œ ë‹¤ìŒê³¼ ê°™ì´ URL í…œí”Œë¦¿ì„ ì¹œì ˆí•˜ê²Œ ì•Œë ¤ì¤€ë‹¤.</p><p><img src="https://i.imgur.com/Rf6nGyG.png" alt="Imgur"></p><p>ë°ì´í„° ì†ŒìŠ¤ ì„¤ì • í™”ë©´ì—ì„œ Test Connectionì— ì„±ê³µí•œ í›„ ë‹¤ìŒê³¼ ê°™ì´ â€˜Schemasâ€™ íƒ­ì„ í´ë¦­í•´ì„œ 1ì´ˆ ì •ë„ ê¸°ë‹¤ë¦° í›„ ëœ¨ëŠ” ëª©ë¡ì—ì„œ â€˜PUBLICâ€™ ìŠ¤í‚¤ë§ˆë¥¼ ì„ íƒí•œë‹¤.</p><p><img src="https://i.imgur.com/9F1V9ks.png" alt="Imgur"></p><p>OKë¥¼ í´ë¦­í•˜ë©´ IntelliJ í™”ë©´ì´ ë‹¤ìŒê³¼ ê°™ì´ ë°”ë€ë‹¤.</p><p><img src="https://i.imgur.com/iM8KTCQ.png" alt="Imgur"></p><p>console ì°½ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìë™ ì™„ì„± ë„ì›€ì„ ë°›ìœ¼ë©´ì„œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê³  ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/0tpkaJo.png" alt="Imgur"></p><h2 id="JPA-Console-ì„¤ì •"><a href="#JPA-Console-ì„¤ì •" class="headerlink" title="JPA Console ì„¤ì •"></a>JPA Console ì„¤ì •</h2><p>IntelliJ Ultimate ë²„ì „ì—ì„œëŠ” DB Client ë¿ë§Œ ì•„ë‹ˆë¼ JPA Consoleë„ ì œê³µí•˜ë©°, ì—¬ê¸°ì„œ JPQL ì¿¼ë¦¬ë¥¼ ì§ì ‘ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.</p><p>ë‹¤ìŒê³¼ ê°™ì´ â€˜Project Structureâ€™ í™”ë©´ì—ì„œ JPA Consoleì„ ì‚¬ìš©í•  ëª¨ë“ˆì˜ â€˜mainâ€™ì—ì„œ ìš°í´ë¦­í•˜ê³  JPAë¥¼ í´ë¦­í•œë‹¤.</p><p><img src="https://i.imgur.com/Qo9F6Da.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ â€˜Default JPA Providerâ€™ì—ì„œ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” JPA êµ¬í˜„ì²´ë¥¼ ì„ íƒí•œë‹¤.</p><p><img src="https://i.imgur.com/h6LUtjB.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ â€˜Persistenceâ€™ íƒ­ì„ í´ë¦­í•˜ê³  â€˜entityManagerFactoryâ€™ë¥¼ í¼ì¹˜ë©´ ì—”í‹°í‹° í´ë˜ìŠ¤ê°€ í‘œì‹œëœë‹¤.</p><p><img src="https://i.imgur.com/gVcR6zH.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ â€˜entityManagerFactoryâ€™ë¥¼ ìš°í´ë¦­í•˜ê³  â€˜Assign Data Sourcesâ€¦â€™ë¥¼ í´ë¦­í•œë‹¤.</p><p><img src="https://i.imgur.com/7Rixe39.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ â€˜Data Sourceâ€™ë€ì„ í´ë¦­í•˜ë©´ ë‚˜ì˜¤ëŠ” ëª©ë¡ì—ì„œ ì•ì—ì„œ ì„¤ì •í•œ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì„ íƒí•˜ê³  OKë¥¼ í´ë¦­í•œë‹¤.</p><p><img src="https://i.imgur.com/PcIGAh2.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ â€˜entityManagerFactoryâ€™ì—ì„œ ìš°í´ë¦­í•˜ê³  â€˜Consoleâ€™ì„ í´ë¦­í•˜ë©´,</p><p><img src="https://i.imgur.com/GPCA6zX.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ Console ì„ íƒ ë©”ë‰´ê°€ í‘œì‹œëœë‹¤. JPA Consoleì„ í´ë¦­í•˜ë©´,</p><p><img src="https://i.imgur.com/wYRCu07.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ JPA Consoleì´ í™”ë©´ì— í‘œì‹œëœë‹¤.</p><p><img src="https://i.imgur.com/6bpkFbW.png" alt="Imgur"></p><p>ë°”ë¡œ JPQLì„ ì…ë ¥í•´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. í˜„ì¬ ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ ì¤‘ì´ì§€ ì•Šì•„ì„œ H2 TCP ì„œë²„ê°€ ê¸°ë™ ì¤‘ì¸ ìƒíƒœê°€ ì•„ë‹ˆë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.</p><p><img src="https://i.imgur.com/OyeIBe8.png" alt="Imgur"></p><p>ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•´ì„œ H2 TCP ì„œë²„ê°€ ê¸°ë™ëœ í›„ì— ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì‹œ JPQLì„ ì‹¤í–‰í•˜ë©´ ê²°ê³¼ê°€ í‘œì‹œëœë‹¤.</p><p><img src="https://i.imgur.com/E5GlHhN.png" alt="Imgur"></p><h3 id="JPQL-ì´ë¦„-ì¸ì‹-ë¬¸ì œ"><a href="#JPQL-ì´ë¦„-ì¸ì‹-ë¬¸ì œ" class="headerlink" title="JPQL ì´ë¦„ ì¸ì‹ ë¬¸ì œ"></a>JPQL ì´ë¦„ ì¸ì‹ ë¬¸ì œ</h3><p>ê·¸ëŸ°ë° JPA Consoleì—ì„œ JPQL ì‹¤í–‰ ì‹œ Javaì˜ CamelCase í‘œê¸°ë²•ì„ snake_case í‘œê¸°ë²•ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë³€í™˜í•˜ì§€ ì•Šì•„ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì—”í‹°í‹° í´ë˜ìŠ¤ ì´ë¦„ì´ë‚˜ í•„ë“œ ì´ë¦„ì— CamelCase í‘œê¸°ë²•ì´ ì‚¬ìš©ëœ ê²½ìš° â€˜not foundâ€™ ì—ëŸ¬ê°€ ë‚œë‹¤.</p><p>ë‹¤ìŒ ê·¸ë¦¼ì„ ë³´ë©´ CamelCaseë¥¼ ì‚¬ìš©í•˜ë©´ì„œë„ <code>@Table(name = &quot;MULTIPLICATION_ATTEMPT&quot;)</code>ë‚˜ <code>@Column(name=&quot;MULTIPLICATION_ATTEMPT_ID&quot;)</code>ë¥¼ ëª…ì‹œí•´ì¤€ ê±´ ì—ëŸ¬ê°€ ë‚˜ì§€ ì•Šì§€ë§Œ, <code>resultAttempt</code>ì²˜ëŸ¼ CamelCaseì´ë©´ì„œë„ <code>@Column</code>ìœ¼ë¡œ ì´ë¦„ì„ ì§€ì •í•´ì£¼ì§€ ì•Šì€ ê±´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.</p><p><img src="https://i.imgur.com/Bx022sX.png" alt="Imgur"></p><p><del>ë”°ë¼ì„œ í˜„ì¬ë¡œëŠ” JPA Consoleì„ í†µí•´ JPQLì„ ë¬¸ì œ ì—†ì´ ì‚¬ìš©í•˜ë ¤ë©´ CamelCaseë¥¼ ì‚¬ìš©í•˜ëŠ” ì—”í‹°í‹° í´ë˜ìŠ¤ ì´ë¦„ì´ë‚˜ í•„ë“œ ì´ë¦„ì—ëŠ” <code>@Table</code>,<code>@Column</code>ì„ í†µí•´ ì‹¤ì œ í…Œì´ë¸”ì— ì‚¬ìš©ë  snake_case ì´ë¦„ì„ ëª¨ë‘ ì§€ì •í•´ì¤˜ì•¼ í•˜ëŠ” ë¶ˆí¸í•¨ì´ ìˆë‹¤.</del></p><h4 id="ì¶”ê°€"><a href="#ì¶”ê°€" class="headerlink" title="ì¶”ê°€"></a>ì¶”ê°€</h4><p>ì´ìˆ˜í™ ë‹˜ê»˜ì„œ ì´ ë¬¸ì œì— ëŒ€í•œ í•´ê²° ë°©ë²•ì„ ì•Œë ¤ì£¼ì…¨ë‹¤.</p><p>ë‹¤ìŒê³¼ ê°™ì´ â€˜Persistenceâ€™ &gt; â€˜entityManagerFactoryâ€™ ìš°í´ë¦­ &gt; â€˜Assign Naming Strategiesâ€¦â€™ë¥¼ ì„ íƒí•˜ê³ ,</p><p><img src="https://i.imgur.com/fHAERH2.png" alt="Imgur"></p><p>ë‹¤ìŒê³¼ ê°™ì´ â€˜SpringPhysicalNamingStrategyâ€™ë¥¼ Naming Strategyë¡œ ì„¤ì •í•´ì£¼ë©´, JPA Consoleì—ì„œ CamelCaseë¡œ ëœ ì´ë¦„ë„ ë³„ë‹¤ë¥¸ ì²˜ë¦¬ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/1zuu8ez.png" alt="Imgur"></p><h1 id="ì •ë¦¬"><a href="#ì •ë¦¬" class="headerlink" title="ì •ë¦¬"></a>ì •ë¦¬</h1><blockquote><ul><li>IntelliJ Ultimate ë²„ì „ì—ì„œëŠ” DB Clientë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  </li><li>ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” H2 TCP ì„œë²„ë¥¼ ë¹ˆìœ¼ë¡œ ë„ìš°ë©´ IntelliJ DB Clientë¡œ ì—°ê²°í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  </li><li>Project Structureì—ì„œ main ëª¨ë“ˆì— JPAë¥¼ ì¶”ê°€í•˜ê³  ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì„¤ì •í•´ì£¼ë©´ JPA Consoleì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  </li><li>Naming Strategyë¥¼ â€˜SpringPhysicalNamingStrategyâ€™ë¡œ ì§€ì •í•´ì£¼ë©´ JPA Consoleì—ì„œ CamelCaseë¡œ ì‘ì„±ëœ ì´ë¦„ë„ ê·¸ëŒ€ë¡œ JPQLì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;IntelliJì—ì„œ-H2-ì—°ê²°í•˜ê³ -JPA-Console-ì‚¬ìš©í•˜ê¸°&quot;&gt;&lt;a href=&quot;#IntelliJì—ì„œ-H2-ì—°ê²°í•˜ê³ -JPA-Console-ì‚¬ìš©í•˜ê¸°&quot; class=&quot;headerlink&quot; title=&quot;IntelliJì—ì„œ H2 ì—°ê²°í•˜ê³  JPA
      
    
    </summary>
    
      <category term="ê°œë°œ í™˜ê²½ ë° ë„êµ¬" scheme="http://homoefficio.github.io/categories/%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%EB%B0%8F-%EB%8F%84%EA%B5%AC/"/>
    
    
      <category term="IntelliJ" scheme="http://homoefficio.github.io/tags/IntelliJ/"/>
    
      <category term="H2" scheme="http://homoefficio.github.io/tags/H2/"/>
    
      <category term="H2 TCP Server" scheme="http://homoefficio.github.io/tags/H2-TCP-Server/"/>
    
      <category term="JPA" scheme="http://homoefficio.github.io/tags/JPA/"/>
    
      <category term="JPA Console" scheme="http://homoefficio.github.io/tags/JPA-Console/"/>
    
      <category term="SpringBoot" scheme="http://homoefficio.github.io/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>Java Optional ë°”ë¥´ê²Œ ì“°ê¸°</title>
    <link href="http://homoefficio.github.io/2019/10/03/Java-Optional-%EB%B0%94%EB%A5%B4%EA%B2%8C-%EC%93%B0%EA%B8%B0/"/>
    <id>http://homoefficio.github.io/2019/10/03/Java-Optional-ë°”ë¥´ê²Œ-ì“°ê¸°/</id>
    <published>2019-10-03T14:02:59.000Z</published>
    <updated>2019-10-04T00:17:14.891Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java-Optional-ë°”ë¥´ê²Œ-ì“°ê¸°"><a href="#Java-Optional-ë°”ë¥´ê²Œ-ì“°ê¸°" class="headerlink" title="Java Optional ë°”ë¥´ê²Œ ì“°ê¸°"></a>Java Optional ë°”ë¥´ê²Œ ì“°ê¸°</h1><p>Brian GoetzëŠ” <a href="https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555" target="_blank" rel="noopener">ìŠ¤íƒì˜¤ë²„í”Œë¡œìš°</a>ì—ì„œ <code>Optional</code>ì„ ë§Œë“  ì˜ë„ì— ëŒ€í•´ ë‹¤ìŒê³¼ ê°™ì´ ë§í–ˆë‹¤.</p><blockquote><p>â€¦ it was not to be a general purpose Maybe type, as much as many people would have liked us to do so. Our intention was to provide a limited mechanism for library method return types where there needed to be a clear way to represent â€œno resultâ€ â€¦</p><p><code>Optional</code>ì€ ë§ì€ ì‚¬ëŒë“¤ì´ ìš°ë¦¬(ìë°” ì–¸ì–´ ì„¤ê³„ì)ì—ê²Œ ê¸°ëŒ€í–ˆë˜ ë²”ìš©ì ì¸ <code>Maybe</code> íƒ€ì…ê³¼ëŠ” ë‹¤ë¥´ë‹¤. <strong>ë¼ì´ë¸ŒëŸ¬ë¦¬ ë©”ì„œë“œê°€ ë°˜í™˜í•  ê²°ê³¼ê°’ì´ â€˜ì—†ìŒâ€™ì„ ëª…ë°±í•˜ê²Œ í‘œí˜„í•  í•„ìš”ê°€ ìˆëŠ” ê³³ì—ì„œ ì œí•œì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•˜ëŠ” ê²ƒì´ <code>Optional</code>ì„ ë§Œë“  ì˜ë„</strong>ì˜€ë‹¤.</p></blockquote><p>ë­” ì†Œë¦°ì§€ ì•„ë¦¬ê¹Œë¦¬í•˜ì§€ë§Œ ìš”ëŠ” <strong>ë°˜í™˜ê°’ì´ â€˜ì—†ìŒâ€™ì„ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì´ ì£¼ëª©ì </strong>ì´ë©°, (ì´ìœ ì•¼ ìˆê² ì§€ë§Œ) <strong>ì‚¬ëŒë“¤ì´ ê¸°ëŒ€í•˜ëŠ” ê²ƒê³¼ëŠ” ë‹¤ë¥´ê²Œ ë§Œë“¤ì—ˆë‹¤ëŠ”..</strong><br>ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì‚¬ëŒë“¤ì€ ê¸°ëŒ€í–ˆë˜ ëŒ€ë¡œ ì‚¬ìš©í•´ë²„ë ¤ì„œ <a href="https://dzone.com/articles/using-optional-correctly-is-not-optional" target="_blank" rel="noopener">ì£¼ì˜ì‚¬í•­ì´ 26ê°€ì§€</a>ë‚˜ ë˜ì—ˆ.. (ì˜ë„ì™€ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì„ í—ˆìš©í•œ ì´ìœ ëŠ” ë˜ ë­˜ê¹Œ..)</p><p>ì°¸ê³ ë¡œ Java9ì—ëŠ” Brian Goetzê°€ ì„¤ëª…í•œ ì˜ë„ê°€ ë‹¤ìŒê³¼ ê°™ì´ <code>API Note</code>ë¼ëŠ” í˜•ì‹ìœ¼ë¡œ <a href="https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html" target="_blank" rel="noopener">ê³µì‹ API ë¬¸ì„œ</a>ì—ë„ í¬í•¨ë˜ì—ˆë‹¤. (ì•Œë ¤ì£¼ì‹  ê¹€ì¸íƒœë‹˜ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤!)</p><blockquote><p>API Note:<br>Optional is primarily intended for use as a method return type where there is a clear need to represent â€œno result,â€ and where using null is likely to cause errors. A variable whose type is Optional should never itself be null; it should always point to an Optional instance.</p><p><strong>ë©”ì„œë“œê°€ ë°˜í™˜í•  ê²°ê³¼ê°’ì´ â€˜ì—†ìŒâ€™ì„ ëª…ë°±í•˜ê²Œ í‘œí˜„í•  í•„ìš”ê°€ ìˆê³ , <code>null</code>ì„ ë°˜í™˜í•˜ë©´ ì—ëŸ¬ë¥¼ ìœ ë°œí•  ê°€ëŠ¥ì„±ì´ ë†’ì€ ìƒí™©ì—ì„œ ë©”ì„œë“œì˜ ë°˜í™˜ íƒ€ì…ìœ¼ë¡œ <code>Optional</code>ì„ ì‚¬ìš©í•˜ìëŠ” ê²ƒì´ <code>Optional</code>ì„ ë§Œë“  ì£¼ëœ ëª©ì ì´ë‹¤.</strong> <code>Optional</code> íƒ€ì…ì˜ ë³€ìˆ˜ì˜ ê°’ì€ ì ˆëŒ€ <code>null</code>ì´ì–´ì„œëŠ” ì•ˆ ë˜ë©°, í•­ìƒ <code>Optional</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬ì¼œì•¼ í•œë‹¤.</p></blockquote><p>ì–´ì¨Œë“  ì›ë˜ ì˜ë„ì— ë§ê²Œ ì“°ëŠ” ê²ƒì´ ê°€ê¸‰ì  í•´ê°€ ì—†ì„ ê²ƒì´ê³ , ìš°ë¦¬ëŠ” ìš°ë¦¬ê°€ ë§Œë“œëŠ” ì‹œìŠ¤í…œì— í•´ë¥¼ ë¼ì¹˜ì§€ ë§ì•„ì•¼ í•œë‹¤. ê·¸ë˜ì„œ <strong><code>Optional</code> ì‚¬ìš© ì‹œ ë¬´ì‹¬ê²°ì— ì˜ëª» ì‚¬ìš©í•˜ëŠ” ì•ˆí‹°íŒ¨í„´ê³¼ ì˜¬ë°”ë¥¸ ì‚¬ìš©ë²•ì„ ìë°”8 ê¸°ì¤€ìœ¼ë¡œ ê°ˆë¬´ë¦¬</strong>í•´ë´¤ë‹¤.</p><h2 id="1-isPresent-get-ëŒ€ì‹ -orElse-orElseGet-orElseThrow"><a href="#1-isPresent-get-ëŒ€ì‹ -orElse-orElseGet-orElseThrow" class="headerlink" title="1. isPresent()-get() ëŒ€ì‹  orElse()/orElseGet()/orElseThrow()"></a>1. <code>isPresent()-get()</code> ëŒ€ì‹  <code>orElse()/orElseGet()/orElseThrow()</code></h2><blockquote><p><strong>ì´ì™•ì— ë¹„ì‹¼ <code>Optional</code> ì“°ê¸°ë¡œ í•œ ê±° ì½”ë“œë¼ë„ ì¤„ì´ì. ì„¤ëª…ë³´ë‹¤ ê·¸ëƒ¥ ì½”ë“œë¥¼ ë³´ëŠ” ê²Œ í›¨ì”¬ ë‚«ë‹¤.</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line">Optional&lt;Member&gt; member = ...;</span><br><span class="line"><span class="keyword">if</span> (member.isPresent()) &#123;</span><br><span class="line">    <span class="keyword">return</span> member.get();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line">Optional&lt;Member&gt; member = ...;</span><br><span class="line"><span class="keyword">return</span> member.orElse(<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line">Optional&lt;Member&gt; member = ...;</span><br><span class="line"><span class="keyword">if</span> (member.isPresent()) &#123;</span><br><span class="line">    <span class="keyword">return</span> member.get();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line">Optional&lt;Member&gt; member = ...;</span><br><span class="line"><span class="keyword">return</span> member.orElseThrow(() -&gt; <span class="keyword">new</span> NoSuchElementException());</span><br></pre></td></tr></table></figure><h2 id="2-orElse-new-ëŒ€ì‹ -orElseGet-gt-new"><a href="#2-orElse-new-ëŒ€ì‹ -orElseGet-gt-new" class="headerlink" title="2. orElse(new ...) ëŒ€ì‹  orElseGet(() -&gt; new ...)"></a>2. <code>orElse(new ...)</code> ëŒ€ì‹  <code>orElseGet(() -&gt; new ...)</code></h2><blockquote><p><strong><code>orElse(...)</code>ì—ì„œ <code>...</code>ëŠ” <code>Optional</code>ì— ê°’ì´ ìˆë“  ì—†ë“  ë¬´ì¡°ê±´ ì‹¤í–‰ëœë‹¤. ë”°ë¼ì„œ <code>...</code>ê°€ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°ì—ëŠ” <code>orElse()</code> ëŒ€ì‹  <code>orElseGet()</code>ì„ ì¨ì•¼í•œë‹¤.</strong></p></blockquote><p>ì´ê±° ì‚¬ì‹¤ ìƒê°í•´ë³´ë©´ êµ‰ì¥íˆ ë‹¹ì—°í•œ ë‚´ìš©ì´ë‹¤. <code>method1(method2())</code>ì´ ì‹¤í–‰ë˜ë©´ <code>method2()</code>ëŠ” <code>method1()</code>ë³´ë‹¤ ë¨¼ì € ê·¸ë¦¬ê³  ì–¸ì œë‚˜ ì‹¤í–‰ëœë‹¤. ë”°ë¼ì„œ <code>orElse(new ...)</code>ì—ì„œë„ <code>new ...</code>ê°€ ë¬´ì¡°ê±´ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ë‹¹ì—°í•˜ë‹¤.  </p><p>ê·¸ëŸ°ë° ì•„ë§ˆë„ ì´ë¦„ ë•Œë¬¸ì´ê² ì§€ë§Œ ë¬˜í•˜ê²Œë„ ë¬´ì‹¬ê²°ì— ìƒê°ì—†ì´ <code>orElse(new ...)</code>ë¥¼ ì¨ë³´ë©´ <code>new ...</code>ëŠ” <code>Optional</code>ì— ê°’ì´ ì—†ì„ ë•Œë§Œ ì‹¤í–‰ë  ê²ƒ ê°™ì€ ì°©ê°ì´ ë“ ë‹¤.</p><p>ì•”íŠ¼ <code>Optional</code>ì— ê°’ì´ ì—†ìœ¼ë©´ <code>orElse()</code>ì˜ ì¸ìë¡œì„œ ì‹¤í–‰ëœ ê°’ì´ ë°˜í™˜ë˜ë¯€ë¡œ ì‹¤í–‰í•œ ì˜ë¯¸ê°€ ìˆì§€ë§Œ, <strong><code>Optional</code>ì— ê°’ì´ ìˆìœ¼ë©´ <code>orElse()</code>ì˜ ì¸ìë¡œì„œ ì‹¤í–‰ëœ ê°’ì´ ë¬´ì‹œë˜ê³  ë²„ë ¤ì§„ë‹¤.</strong> ë”°ë¼ì„œ <strong><code>orElse(...)</code>ëŠ” <code>...</code>ê°€ ìƒˆ ê°ì²´ ìƒì„±ì´ë‚˜ ìƒˆë¡œìš´ ì—°ì‚°ì„ ìœ ë°œí•˜ì§€ ì•Šê³  ì´ë¯¸ ìƒì„±ë˜ì—ˆê±°ë‚˜ ì´ë¯¸ ê³„ì‚°ëœ ê°’ì¼ ë•Œë§Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</strong></p><p><strong><code>orElseGet(Supplier)</code>ì—ì„œ <code>Supplier</code>ëŠ” <code>Optional</code>ì— ê°’ì´ ì—†ì„ ë•Œë§Œ ì‹¤í–‰ëœë‹¤. ë”°ë¼ì„œ <code>Optional</code>ì— ê°’ì´ ì—†ì„ ë•Œë§Œ ìƒˆ ê°ì²´ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ìƒˆ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë¯€ë¡œ ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œê°€ ì—†ë‹¤.</strong> ë¬¼ë¡  ëŒë‹¤ì‹ì´ë‚˜ ë©”ì„œë“œì°¸ì¡°ì— ëŒ€í•œ ì˜¤ë²„í—¤ë“œëŠ” ìˆê² ì§€ë§Œ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì´ë‚˜ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì— ë¹„í•˜ë©´ ëŒ€ë¶€ë¶„ ê²½ë¯¸í•  ê²ƒì´ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line">Optional&lt;Member&gt; member = ...;</span><br><span class="line"><span class="keyword">return</span> member.orElse(<span class="keyword">new</span> Member());  <span class="comment">// memberì— ê°’ì´ ìˆë“  ì—†ë“  new Member()ëŠ” ë¬´ì¡°ê±´ ì‹¤í–‰ë¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line">Optional&lt;Member&gt; member = ...;</span><br><span class="line"><span class="keyword">return</span> member.orElseGet(Member::<span class="keyword">new</span>);  <span class="comment">// memberì— ê°’ì´ ì—†ì„ ë•Œë§Œ new Member()ê°€ ì‹¤í–‰ë¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line">Member EMPTY_MEMBER = <span class="keyword">new</span> Member();</span><br><span class="line">...</span><br><span class="line">Optional&lt;Member&gt; member = ...;</span><br><span class="line"><span class="keyword">return</span> member.orElse(EMPTY_MEMBER);  <span class="comment">// ì´ë¯¸ ìƒì„±ëê±°ë‚˜ ê³„ì‚°ëœ ê°’ì€ orElse()ë¥¼ ì‚¬ìš©í•´ë„ ë¬´ë°©</span></span><br></pre></td></tr></table></figure><p>ì°¸ê³ ë¡œ <code>Collections.emptyList()</code>ëŠ” í˜¸ì¶œë  ë•Œë§ˆë‹¤ ë¹„ì–´ìˆëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ë¯¸ ìƒì„±ëœ static ë³€ìˆ˜ì¸ <code>EMPTY_LIST</code>ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ <code>orElse(Collections.emptyList())</code>ë¥¼ ì¨ë„ ê´œì°®ë‹¤. í•˜ì§€ë§Œ, ì´ëŸ° ìš©ë²•ì€ ë§ì´ ì‚¬ìš©ë˜ë©´ <code>orElse(new ...)</code>ë‚˜ <code>orElse(ì—°ì‚°ì„ìœ ë°œí•˜ëŠ”ë©”ì„œë“œ())</code> ê°™ì€ ì•ˆí‹° íŒ¨í„´ë§ˆì € ì •ìƒì ì¸ ì‚¬ìš©ë²•ìœ¼ë¡œ ì¸ì‹ë˜ê²Œ í•˜ëŠ” ì¢‹ì§€ ì•Šì€ ì°©ì‹œ íš¨ê³¼ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ <strong><code>orElseGet(Collections::emptyList)</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤.</strong></p><h2 id="3-ë‹¨ì§€-ê°’ì„-ì–»ì„-ëª©ì ì´ë¼ë©´-Optional-ëŒ€ì‹ -null-ë¹„êµ"><a href="#3-ë‹¨ì§€-ê°’ì„-ì–»ì„-ëª©ì ì´ë¼ë©´-Optional-ëŒ€ì‹ -null-ë¹„êµ" class="headerlink" title="3. ë‹¨ì§€ ê°’ì„ ì–»ì„ ëª©ì ì´ë¼ë©´ Optional ëŒ€ì‹  null ë¹„êµ"></a>3. ë‹¨ì§€ ê°’ì„ ì–»ì„ ëª©ì ì´ë¼ë©´ <code>Optional</code> ëŒ€ì‹  <code>null</code> ë¹„êµ</h2><blockquote><p><strong><code>Optional</code>ì€ ë¹„ì‹¸ë‹¤. ë”°ë¼ì„œ ë‹¨ìˆœíˆ ê°’ ë˜ëŠ” <code>null</code>ì„ ì–»ì„ ëª©ì ì´ë¼ë©´ <code>Optional</code> ëŒ€ì‹  <code>null</code> ë¹„êµë¥¼ ì“°ì.</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">return</span> Optional.ofNullable(status).orElse(READY);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">return</span> status != <span class="keyword">null</span> ? status : READY;</span><br></pre></td></tr></table></figure><h2 id="4-Optional-ëŒ€ì‹ -ë¹„ì–´ìˆëŠ”-ì»¬ë ‰ì…˜-ë°˜í™˜"><a href="#4-Optional-ëŒ€ì‹ -ë¹„ì–´ìˆëŠ”-ì»¬ë ‰ì…˜-ë°˜í™˜" class="headerlink" title="4. Optional ëŒ€ì‹  ë¹„ì–´ìˆëŠ” ì»¬ë ‰ì…˜ ë°˜í™˜"></a>4. <code>Optional</code> ëŒ€ì‹  ë¹„ì–´ìˆëŠ” ì»¬ë ‰ì…˜ ë°˜í™˜</h2><blockquote><p><strong><code>Optional</code>ì€ ë¹„ì‹¸ë‹¤. ê·¸ë¦¬ê³  ì»¬ë ‰ì…˜ì€ <code>null</code>ì´ ì•„ë‹ˆë¼ ë¹„ì–´ìˆëŠ” ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ë•Œê°€ ë§ë‹¤. ë”°ë¼ì„œ ì»¬ë ‰ì…˜ì€ <code>Optional</code>ë¡œ ê°ì‹¸ì„œ ë°˜í™˜í•˜ì§€ ë§ê³  ë¹„ì–´ìˆëŠ” ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•˜ì.</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line">List&lt;Member&gt; members = team.getMembers();</span><br><span class="line"><span class="keyword">return</span> Optional.ofNullable(members);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line">List&lt;Member&gt; members = team.getMembers();</span><br><span class="line"><span class="keyword">return</span> members != <span class="keyword">null</span> ? members : Collections.emptyList();</span><br></pre></td></tr></table></figure><p>ë§ˆì°¬ê°€ì§€ ì´ìœ ë¡œ Spring Data JPA Repository ë©”ì„œë“œ ì„ ì–¸ ì‹œ ë‹¤ìŒê³¼ ê°™ì´ ì»¬ë ‰ì…˜ì„ <code>Optional</code>ë¡œ ê°ì‹¸ì„œ ë°˜í™˜í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤. <strong>ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•˜ëŠ” Spring Data JPA Repository ë©”ì„œë“œëŠ” <code>null</code>ì„ ë°˜í™˜í•˜ì§€ ì•Šê³  ë¹„ì–´ìˆëŠ” ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•´ì£¼ë¯€ë¡œ <code>Optional</code>ë¡œ ê°ì‹¸ì„œ ë°˜í™˜í•  í•„ìš”ê°€ ì—†ë‹¤.</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MemberRepository</span>&lt;<span class="title">Member</span>, <span class="title">Long</span>&gt; <span class="keyword">extends</span> <span class="title">JpaRepository</span> </span>&#123;</span><br><span class="line">    Optional&lt;List&lt;Member&gt;&gt; findAllByNameContaining(String part);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MemberRepository</span>&lt;<span class="title">Member</span>, <span class="title">Long</span>&gt; <span class="keyword">extends</span> <span class="title">JpaRepository</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;Member&gt; <span class="title">findAllByNameContaining</span><span class="params">(String part)</span></span>;  <span class="comment">// nullì´ ë°˜í™˜ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ Optional ë¶ˆí•„ìš”</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-Optionalì„-í•„ë“œë¡œ-ì‚¬ìš©-ê¸ˆì§€"><a href="#5-Optionalì„-í•„ë“œë¡œ-ì‚¬ìš©-ê¸ˆì§€" class="headerlink" title="5. Optionalì„ í•„ë“œë¡œ ì‚¬ìš© ê¸ˆì§€"></a>5. <code>Optional</code>ì„ í•„ë“œë¡œ ì‚¬ìš© ê¸ˆì§€</h2><blockquote><p><strong><code>Optional</code>ì€ í•„ë“œì— ì‚¬ìš©í•  ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•Šì•˜ìœ¼ë©°, <code>Serializable</code>ì„ êµ¬í˜„í•˜ì§€ ì•Šì•˜ë‹¤. ë”°ë¼ì„œ <code>Optional</code>ì€ í•„ë“œë¡œ ì‚¬ìš©í•˜ì§€ ë§ì.</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Member</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Optional&lt;String&gt; email = Optional.empty();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Member</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-Optionalì„-ìƒì„±ìë‚˜-ë©”ì„œë“œ-ì¸ìë¡œ-ì‚¬ìš©-ê¸ˆì§€"><a href="#6-Optionalì„-ìƒì„±ìë‚˜-ë©”ì„œë“œ-ì¸ìë¡œ-ì‚¬ìš©-ê¸ˆì§€" class="headerlink" title="6. Optionalì„ ìƒì„±ìë‚˜ ë©”ì„œë“œ ì¸ìë¡œ ì‚¬ìš© ê¸ˆì§€"></a>6. <code>Optional</code>ì„ ìƒì„±ìë‚˜ ë©”ì„œë“œ ì¸ìë¡œ ì‚¬ìš© ê¸ˆì§€</h2><blockquote><p><strong><code>Optional</code>ì„ ìƒì„±ìë‚˜ ë©”ì„œë“œ ì¸ìë¡œ ì‚¬ìš©í•˜ë©´, í˜¸ì¶œí•  ë•Œë§ˆë‹¤ <code>Optional</code>ì„ ìƒì„±í•´ì„œ ì¸ìë¡œ ì „ë‹¬í•´ì¤˜ì•¼ í•œë‹¤. í•˜ì§€ë§Œ í˜¸ì¶œë˜ëŠ” ìª½, ì¦‰ apië‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë©”ì„œë“œì—ì„œëŠ” ì¸ìê°€ <code>Optional</code>ì´ë“  ì•„ë‹ˆë“  <code>null</code> ì²´í¬ë¥¼ í•˜ëŠ” ê²ƒì´ ì–¸ì œë‚˜ ì•ˆì „í•˜ë‹¤. ë”°ë¼ì„œ êµ³ì´ ë¹„ì‹¼ <code>Optional</code>ì„ ì¸ìë¡œ ì‚¬ìš©í•˜ì§€ ë§ê³  í˜¸ì¶œë˜ëŠ” ìª½ì— <code>null</code> ì²´í¬ ì±…ì„ì„ ë‚¨ê²¨ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤.</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HRManager</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">increaseSalary</span><span class="params">(Optional&lt;Member&gt; member)</span> </span>&#123;</span><br><span class="line">        member.ifPresent(member -&gt; member.increaseSalary(<span class="number">10</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">hrManager.increaseSalary(Optional.ofNullable(member));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HRManager</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">increaseSalary</span><span class="params">(Member member)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (member != <span class="keyword">null</span>) &#123;</span><br><span class="line">            member.increaseSalary(<span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">hrManager.increaseSalary(member);</span><br></pre></td></tr></table></figure><h2 id="7-Optionalì„-ì»¬ë ‰ì…˜ì˜-ì›ì†Œë¡œ-ì‚¬ìš©-ê¸ˆì§€"><a href="#7-Optionalì„-ì»¬ë ‰ì…˜ì˜-ì›ì†Œë¡œ-ì‚¬ìš©-ê¸ˆì§€" class="headerlink" title="7. Optionalì„ ì»¬ë ‰ì…˜ì˜ ì›ì†Œë¡œ ì‚¬ìš© ê¸ˆì§€"></a>7. <code>Optional</code>ì„ ì»¬ë ‰ì…˜ì˜ ì›ì†Œë¡œ ì‚¬ìš© ê¸ˆì§€</h2><blockquote><p><strong>ì»¬ë ‰ì…˜ì—ëŠ” ë§ì€ ì›ì†Œê°€ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ë¹„ì‹¼ <code>Optional</code>ì„ ì›ì†Œë¡œ ì‚¬ìš©í•˜ì§€ ë§ê³  ì›ì†Œë¥¼ êº¼ë‚¼ ë•Œë‚˜ ì‚¬ìš©í•  ë•Œ <code>null</code> ì²´í¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. íŠ¹íˆ Mapì€ <code>getOrDefault()</code>, <code>putIfAbsent()</code>, <code>computeIfAbsent()</code>, <code>computeIfPresent()</code> ì²˜ëŸ¼ <code>null</code> ì²´í¬ê°€ í¬í•¨ëœ ë©”ì„œë“œë¥¼ ì œê³µí•˜ë¯€ë¡œ, Mapì˜ ì›ì†Œë¡œ <code>Optional</code>ì„ ì‚¬ìš©í•˜ì§€ ë§ê³  Mapì´ ì œê³µí•˜ëŠ” ë©”ì„œë“œë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line">Map&lt;String, Optional&lt;String&gt;&gt; sports = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">sports.put(<span class="string">"100"</span>, Optional.of(<span class="string">"BasketBall"</span>));</span><br><span class="line">sports.put(<span class="string">"101"</span>, Optional.ofNullable(someOtherSports));</span><br><span class="line">String basketBall = sports.get(<span class="string">"100"</span>).orElse(<span class="string">"BasketBall"</span>);</span><br><span class="line">String unknown = sports.get(<span class="string">"101"</span>).orElse(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line">Map&lt;String, String&gt; sports = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">sports.put(<span class="string">"100"</span>, <span class="string">"BasketBall"</span>);</span><br><span class="line">sports.put(<span class="string">"101"</span>, <span class="keyword">null</span>);</span><br><span class="line">String basketBall = sports.getOrDefault(<span class="string">"100"</span>, <span class="string">"BasketBall"</span>);</span><br><span class="line">String unknown = sports.computeIfAbsent(<span class="string">"101"</span>, k -&gt; <span class="string">""</span>);</span><br></pre></td></tr></table></figure><h2 id="8-of-ofNullable-í˜¼ë™-ì£¼ì˜"><a href="#8-of-ofNullable-í˜¼ë™-ì£¼ì˜" class="headerlink" title="8. of(), ofNullable() í˜¼ë™ ì£¼ì˜"></a>8. <code>of()</code>, <code>ofNullable()</code> í˜¼ë™ ì£¼ì˜</h2><blockquote><p><strong><code>of(X)</code>ì€ <code>X</code>ê°€ <code>null</code>ì´ ì•„ë‹˜ì´ í™•ì‹¤í•  ë•Œë§Œ ì‚¬ìš©í•´ì•¼ í•˜ë©°, <code>X</code>ê°€ <code>null</code>ì´ë©´ NullPointerException ì´ ë°œìƒí•œë‹¤.</strong><br><strong><code>ofNullable(X)</code>ì€ <code>X</code>ê°€ <code>null</code>ì¼ ìˆ˜ë„ ìˆì„ ë•Œë§Œ ì‚¬ìš©í•´ì•¼ í•˜ë©°, <code>X</code>ê°€ <code>null</code>ì´ ì•„ë‹˜ì´ í™•ì‹¤í•˜ë©´ <code>of(X)</code>ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">return</span> Optional.of(member.getEmail());  <span class="comment">// memberì˜ emailì´ nullì´ë©´ NPE ë°œìƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">return</span> Optional.ofNullable(member.getEmail());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">return</span> Optional.ofNullable(<span class="string">"READY"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line"><span class="keyword">return</span> Optional.of(<span class="string">"READY"</span>);</span><br></pre></td></tr></table></figure><h2 id="9-Optional-lt-T-gt-ëŒ€ì‹ -OptionalInt-OptionalLong-OptionalDouble"><a href="#9-Optional-lt-T-gt-ëŒ€ì‹ -OptionalInt-OptionalLong-OptionalDouble" class="headerlink" title="9. Optional&lt;T&gt; ëŒ€ì‹  OptionalInt, OptionalLong, OptionalDouble"></a>9. <code>Optional&lt;T&gt;</code> ëŒ€ì‹  <code>OptionalInt</code>, <code>OptionalLong</code>, <code>OptionalDouble</code></h2><blockquote><p><strong><code>Optional</code>ì— ë‹´ê¸¸ ê°’ì´ <code>int</code>, <code>long</code>, <code>double</code>ì´ë¼ë©´ Boxing/Unboxingì´ ë°œìƒí•˜ëŠ” <code>Optional&lt;Integer&gt;</code>, <code>Optional&lt;Long&gt;</code>, <code>Optional&lt;Double&gt;</code>ì„ ì‚¬ìš©í•˜ì§€ ë§ê³ , <code>OptionalInt</code>, <code>OptionalLong</code>, <code>OptionalDouble</code>ì„ ì‚¬ìš©í•˜ì.</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì•ˆ ì¢‹ìŒ</span></span><br><span class="line">Optional&lt;Integer&gt; count = Optional.of(<span class="number">38</span>);  <span class="comment">// boxing ë°œìƒ</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; count.get() ; i++) &#123; ... &#125;  <span class="comment">// unboxing ë°œìƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¢‹ìŒ</span></span><br><span class="line">OptionalInt count = OptionalInt.of(<span class="number">38</span>);  <span class="comment">// boxing ë°œìƒ ì•ˆ í•¨</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; count.getAsInt() ; i++) &#123; ... &#125;  <span class="comment">// unboxing ë°œìƒ ì•ˆ í•¨</span></span><br></pre></td></tr></table></figure><h1 id="ì •ë¦¬"><a href="#ì •ë¦¬" class="headerlink" title="ì •ë¦¬"></a>ì •ë¦¬</h1><blockquote><ol><li><p><code>isPresent()-get()</code> ëŒ€ì‹  <code>orElse()/orElseGet()/orElseThrow()</code></p></li><li><p><code>orElse(new ...)</code> ëŒ€ì‹  <code>orElseGet(() -&gt; new ...)</code></p></li><li><p>ë‹¨ì§€ ê°’ì„ ì–»ì„ ëª©ì ì´ë¼ë©´ <code>Optional</code> ëŒ€ì‹  <code>null</code> ë¹„êµ</p></li><li><p><code>Optional</code> ëŒ€ì‹  ë¹„ì–´ìˆëŠ” ì»¬ë ‰ì…˜ ë°˜í™˜</p></li><li><p><code>Optional</code>ì„ í•„ë“œë¡œ ì‚¬ìš© ê¸ˆì§€</p></li><li><p><code>Optional</code>ì„ ìƒì„±ìë‚˜ ë©”ì„œë“œ ì¸ìë¡œ ì‚¬ìš© ê¸ˆì§€</p></li><li><p><code>Optional</code>ì„ ì»¬ë ‰ì…˜ì˜ ì›ì†Œë¡œ ì‚¬ìš© ê¸ˆì§€</p></li><li><p><code>of()</code>, <code>ofNullable()</code> í˜¼ë™ ì£¼ì˜</p></li><li><p><code>Optional&lt;T&gt;</code> ëŒ€ì‹  <code>OptionalInt</code>, <code>OptionalLong</code>, <code>OptionalDouble</code></p></li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Java-Optional-ë°”ë¥´ê²Œ-ì“°ê¸°&quot;&gt;&lt;a href=&quot;#Java-Optional-ë°”ë¥´ê²Œ-ì“°ê¸°&quot; class=&quot;headerlink&quot; title=&quot;Java Optional ë°”ë¥´ê²Œ ì“°ê¸°&quot;&gt;&lt;/a&gt;Java Optional ë°”ë¥´ê²Œ ì“°ê¸°&lt;/h1&gt;&lt;
      
    
    </summary>
    
      <category term="Technique" scheme="http://homoefficio.github.io/categories/Technique/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="Java8" scheme="http://homoefficio.github.io/tags/Java8/"/>
    
      <category term="Optional" scheme="http://homoefficio.github.io/tags/Optional/"/>
    
      <category term="isPresent" scheme="http://homoefficio.github.io/tags/isPresent/"/>
    
      <category term="ifPresent" scheme="http://homoefficio.github.io/tags/ifPresent/"/>
    
      <category term="orElse" scheme="http://homoefficio.github.io/tags/orElse/"/>
    
      <category term="orElseGet" scheme="http://homoefficio.github.io/tags/orElseGet/"/>
    
      <category term="orElseThrow" scheme="http://homoefficio.github.io/tags/orElseThrow/"/>
    
      <category term="OptionalInt" scheme="http://homoefficio.github.io/tags/OptionalInt/"/>
    
      <category term="OptionalLong" scheme="http://homoefficio.github.io/tags/OptionalLong/"/>
    
      <category term="OptionalDouble" scheme="http://homoefficio.github.io/tags/OptionalDouble/"/>
    
  </entry>
  
  <entry>
    <title>Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 3</title>
    <link href="http://homoefficio.github.io/2019/09/29/Quartz-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC-%EC%A0%81%EC%9A%A9-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EA%B0%9C%EC%84%A0-3/"/>
    <id>http://homoefficio.github.io/2019/09/29/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -3/</id>
    <published>2019-09-29T13:59:33.000Z</published>
    <updated>2019-09-29T14:49:23.929Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -3"><a href="#Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -3" class="headerlink" title="Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 3"></a>Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 3</h1><p><a href="https://homoefficio.github.io/2019/09/28/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -1/">1í¸</a>ì—ì„œëŠ” Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì‹œ ë³€ê²½ ì£¼ê¸°ê°€ ë‹¤ë¥¸ ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆê³¼ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì„ ë¶„ë¦¬í•´ì„œ í´ë¦° ì•„í‚¤í…ì²˜ì— ë‹¤ê°€ê°€ëŠ” ë°©ë²•ì„ ì•Œì•„ë´¤ë‹¤.</p><p><a href="https://homoefficio.github.io/2019/09/29/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -2/">2í¸</a>ì—ì„œëŠ” Quartz ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì— ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´¤ë‹¤.</p><p>ì´ë ‡ê²Œ ë‘ ê°œì˜ ê³ ê°œë¥¼ ì„±ê³µì ìœ¼ë¡œ ë„˜ì—ˆê³  ë§ˆì§€ë§‰ìœ¼ë¡œ <code>@Tranactional</code> ê³ ê°œê°€ ë‚¨ì•˜ë‹¤.</p><p>ë¨¼ì € ì¼ë°˜ì ì¸ ìƒí™©, ì¦‰ ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì¸ ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆì—ì„œ <code>@Transactional</code>ì„ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ì½”ë“œë¥¼ ì¶”ê°€í•´ì„œ <code>@Transactional</code>ì˜ ë™ì‘ì„ í™•ì¸í•˜ê³ , ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì—ì„œ <code>@Tranactional</code>ì„ ì‚¬ìš©í•´ë³´ì.</p><h1 id="ìŠ¤ì¼€ì¤„ëŸ¬-ëª¨ë“ˆì—ì„œì˜-Transactional-ë™ì‘-í™•ì¸"><a href="#ìŠ¤ì¼€ì¤„ëŸ¬-ëª¨ë“ˆì—ì„œì˜-Transactional-ë™ì‘-í™•ì¸" class="headerlink" title="ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆì—ì„œì˜ @Transactional ë™ì‘ í™•ì¸"></a>ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆì—ì„œì˜ <code>@Transactional</code> ë™ì‘ í™•ì¸</h1><p><code>@Transactional</code> ë™ì‘ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆì— <code>Member</code> ì—”í‹°í‹°ì™€ JPA ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì¶”ê°€í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Member</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">Member</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Member</span><span class="params">(String name, String email)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MemberRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Member</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>HelloService</code>ì— <code>@Transactional</code>ì„ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œë¥¼ ì¶”ê°€í•œë‹¤. ì €ì¥ í›„ ì¼ë¶€ëŸ¬ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œì„œ ë¡¤ë°±ë˜ê²Œ í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> MemberRepository memberRepository;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"OOO &#123;&#125;.sayHello() executed"</span>, <span class="keyword">this</span>.getClass().getSimpleName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Member <span class="title">saveMember</span><span class="params">(Member member)</span> </span>&#123;</span><br><span class="line">        Member dbMember = memberRepository.save(member);</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">1</span>==<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê°•ì œë¡œ ë°œìƒì‹œí‚¨ ì˜ˆì™¸"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dbMember;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>InitRunner</code>ì— ë‹¤ìŒê³¼ ê°™ì´ <code>HelloService.saveMember()</code>ë¥¼ í˜¸ì¶œí•˜ê³  ì˜ˆì™¸ë¥¼ ì¡ì•„ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InitRunner</span> <span class="keyword">implements</span> <span class="title">CommandLineRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Scheduler scheduler;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RemoteJobClassLoader remoteJobClassLoader;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> HelloService helloService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        log.info(<span class="string">"Init Runner executed."</span>);</span><br><span class="line">        JobKey jobKey = JobKey.jobKey(<span class="string">"jobkey1"</span>, <span class="string">"jobgroup1"</span>);</span><br><span class="line">        JobDetail jobDetail = buildJobDetail(jobKey);</span><br><span class="line">        Trigger trigger = buildJobTrigger(jobKey);</span><br><span class="line">        scheduler.scheduleJob(jobDetail, trigger);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Member dbMember = helloService.saveMember(</span><br><span class="line">                <span class="keyword">new</span> Member(<span class="string">"Homo Efficio"</span>, <span class="string">"homo.efficio@gmail.com"</span>));</span><br><span class="line">            log.info(<span class="string">"TTT íšŒì› [&#123;&#125;] ì¶”ê°€ë¨"</span>, dbMember);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">"TTT íšŒì› ì¶”ê°€ ì¤‘ ì˜ˆì™¸ ë°œìƒ. ë©”ì‹œì§€: &#123;&#125;"</span>,e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ì´í•˜ ìƒëµ..</span></span><br></pre></td></tr></table></figure><p>ì‹¤í–‰í•˜ê³  h2 web consoleë¡œ í™•ì¸í•´ë³´ë©´ ë¡¤ë°±ë˜ì–´ ë ˆì½”ë“œê°€ ì¶”ê°€ë˜ì§€ ì•Šì•˜ìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/ulrRfis.png" alt="Imgur"></p><p><code>HelloService.saveMember()</code>ì—ì„œ <code>@Transactional</code>ì„ ì œê±°í•˜ë©´ ë¡¤ë°±ì´ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë”ë¼ë„ ë ˆì½”ë“œê°€ ì¶”ê°€ëœ ì±„ë¡œ ë‚¨ëŠ”ë‹¤.</p><p><img src="https://i.imgur.com/J2aMQsK.png" alt="Imgur"></p><p>ì´ì œ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì—ì„œë„ <code>@Transactional</code>ì´ ì ìš©ë˜ëŠ”ì§€ ì•Œì•„ë³´ì.</p><h1 id="ì‘ì—…-í´ë˜ìŠ¤-ëª¨ë“ˆì—ì„œì˜-Transactional-ë™ì‘-í™•ì¸"><a href="#ì‘ì—…-í´ë˜ìŠ¤-ëª¨ë“ˆì—ì„œì˜-Transactional-ë™ì‘-í™•ì¸" class="headerlink" title="ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì—ì„œì˜ @Transactional ë™ì‘ í™•ì¸"></a>ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì—ì„œì˜ <code>@Transactional</code> ë™ì‘ í™•ì¸</h1><p>ê°„ë‹¨í•œ í™•ì¸ì„ ìœ„í•´ <code>RemoteSimpleJob</code> í´ë˜ìŠ¤ì—ì„œ ì§ì ‘ <code>MemberRepository</code>ë¥¼ í†µí•´ <code>Member</code>ë¥¼ ì €ì¥í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.</p><p>ë¨¼ì € JPA ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ <code>build.gradle</code>ì— ë‹¤ìŒê³¼ ê°™ì´ spring-data-jpa-starterë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    compile project(<span class="string">':quartz-scheduler'</span>)</span><br><span class="line"></span><br><span class="line">    compileOnly <span class="string">'org.projectlombok:lombok:1.18.8'</span></span><br><span class="line">    annotationProcessor <span class="string">'org.projectlombok:lombok:1.18.8'</span></span><br><span class="line">    compile <span class="string">group:</span> <span class="string">'org.quartz-scheduler'</span>, <span class="string">name:</span> <span class="string">'quartz'</span>, <span class="string">version:</span> <span class="string">'2.3.1'</span></span><br><span class="line">    compile <span class="string">group:</span> <span class="string">'org.springframework'</span>, <span class="string">name:</span> <span class="string">'spring-context-support'</span>, <span class="string">version:</span> <span class="string">'5.1.9.RELEASE'</span></span><br><span class="line">    compile <span class="string">group:</span> <span class="string">'org.springframework.data'</span>, <span class="string">name:</span> <span class="string">'spring-data-jpa'</span>, <span class="string">version:</span> <span class="string">'2.1.10.RELEASE'</span>  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line"></span><br><span class="line">    testCompile <span class="string">group:</span> <span class="string">'junit'</span>, <span class="string">name:</span> <span class="string">'junit'</span>, <span class="string">version:</span> <span class="string">'4.12'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="RemoteSimpleJobì—ì„œ-MemberRepositoryë¥¼-í†µí•œ-Member-ì €ì¥"><a href="#RemoteSimpleJobì—ì„œ-MemberRepositoryë¥¼-í†µí•œ-Member-ì €ì¥" class="headerlink" title="RemoteSimpleJobì—ì„œ MemberRepositoryë¥¼ í†µí•œ Member ì €ì¥"></a>RemoteSimpleJobì—ì„œ MemberRepositoryë¥¼ í†µí•œ Member ì €ì¥</h2><p><code>RemoteSimpleJob</code>ì— <code>MemberRepository</code>ë¥¼ ì£¼ì…í•˜ê³  <code>Member</code>ë¥¼ ì €ì¥í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤. ì•„ì§ <code>@Transactional</code>ì€ ì¶”ê°€í•˜ì§€ ì•Šì€ ìƒíƒœë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RemoteSimpleJob</span> <span class="keyword">implements</span> <span class="title">Job</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> HelloService helloService;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> MemberRepository memberRepository;  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(JobExecutionContext context)</span> <span class="keyword">throws</span> JobExecutionException </span>&#123;</span><br><span class="line">        log.info(<span class="string">"OOO REMOTE JOB [&#123;&#125;] executed."</span>, <span class="keyword">this</span>.getClass().getSimpleName());</span><br><span class="line">        JobDataMap mergedJobDataMap = context.getMergedJobDataMap();</span><br><span class="line">        mergedJobDataMap.forEach((k, v) -&gt; log.info(<span class="string">"OOOOO &#123;&#125;: &#123;&#125;"</span>, k, v));</span><br><span class="line"></span><br><span class="line">        helloService.sayHello();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Member dbMember = memberRepository.save(<span class="keyword">new</span> Member(<span class="string">"Homo Efficio"</span>, <span class="string">"homo.efficio@gmail.com"</span>));</span><br><span class="line">            log.info(<span class="string">"TTT íšŒì› [&#123;&#125;] ì¶”ê°€ë¨"</span>, dbMember);</span><br><span class="line">            <span class="keyword">if</span> (<span class="number">1</span>==<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê°•ì œë¡œ ë°œìƒì‹œí‚¨ ì˜ˆì™¸"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">"TTT íšŒì› ì¶”ê°€ ì¤‘ ì˜ˆì™¸ ë°œìƒ. ë©”ì‹œì§€: &#123;&#125;"</span>,e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆì˜ <code>InitRunner</code>ì—ì„œ <code>HelloService.saveMember()</code> ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ì£¼ì„ì²˜ë¦¬ í•œë‹¤. ì´ìœ ëŠ” <code>Member</code> ì €ì¥ì„ <code>RemoteSimpleJob</code> ë‚´ì—ì„œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        log.info(<span class="string">"Init Runner executed."</span>);</span><br><span class="line">        JobKey jobKey = JobKey.jobKey(<span class="string">"jobkey1"</span>, <span class="string">"jobgroup1"</span>);</span><br><span class="line">        JobDetail jobDetail = buildJobDetail(jobKey);</span><br><span class="line">        Trigger trigger = buildJobTrigger(jobKey);</span><br><span class="line">        scheduler.scheduleJob(jobDetail, trigger);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Member member = new Member("Homo Efficio", "homo.efficio@gmail.com");</span></span><br><span class="line">        <span class="comment">// try &#123;</span></span><br><span class="line">        <span class="comment">//     Member dbMember = helloService.saveMember(member);</span></span><br><span class="line">        <span class="comment">//     log.info("TTT íšŒì› [&#123;&#125;] ì¶”ê°€ë¨", dbMember);</span></span><br><span class="line">        <span class="comment">// &#125; catch (Exception e) &#123;</span></span><br><span class="line">        <span class="comment">//     log.error("TTT íšŒì› ì¶”ê°€ ì¤‘ ì˜ˆì™¸ ë°œìƒ. ë©”ì‹œì§€: &#123;&#125;",e.getMessage());</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ì‹¤í–‰í•´ë³´ë©´ ë¡¤ë°±ì´ ì ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ì €ì¥ í›„ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë”ë¼ë„ ë ˆì½”ë“œê°€ ì¶”ê°€ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/KOmhtvz.png" alt="Imgur"></p><p><img src="https://i.imgur.com/7cVLJTD.png" alt="Imgur"></p><h2 id="RemoteSimpleJobì—ì„œ-Transactional-ì‚¬ìš©"><a href="#RemoteSimpleJobì—ì„œ-Transactional-ì‚¬ìš©" class="headerlink" title="RemoteSimpleJobì—ì„œ @Transactional ì‚¬ìš©"></a>RemoteSimpleJobì—ì„œ @Transactional ì‚¬ìš©</h2><p>ì´ì œ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì—… í´ë˜ìŠ¤ì˜ <code>execute()</code> ë©”ì„œë“œì— <code>@Transactional</code>ì„ ë¶™ì—¬ì„œ ì‹¤í–‰í•´ë³´ì.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional</span>  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(JobExecutionContext context)</span> <span class="keyword">throws</span> JobExecutionException </span>&#123;</span><br><span class="line">    log.info(<span class="string">"OOO REMOTE JOB [&#123;&#125;] executed."</span>, <span class="keyword">this</span>.getClass().getSimpleName());</span><br><span class="line">    JobDataMap mergedJobDataMap = context.getMergedJobDataMap();</span><br><span class="line">    mergedJobDataMap.forEach((k, v) -&gt; log.info(<span class="string">"OOOOO &#123;&#125;: &#123;&#125;"</span>, k, v));</span><br><span class="line"></span><br><span class="line">    helloService.sayHello();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Member dbMember = memberRepository.save(<span class="keyword">new</span> Member(<span class="string">"Homo Efficio"</span>, <span class="string">"homo.efficio@gmail.com"</span>));</span><br><span class="line">        log.info(<span class="string">"TTT íšŒì› [&#123;&#125;] ì¶”ê°€ë¨"</span>, dbMember);</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">1</span>==<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê°•ì œë¡œ ë°œìƒì‹œí‚¨ ì˜ˆì™¸"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        log.error(<span class="string">"TTT íšŒì› ì¶”ê°€ ì¤‘ ì˜ˆì™¸ ë°œìƒ. ë©”ì‹œì§€: &#123;&#125;"</span>,e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì´ë²ˆì—ëŠ” ì•ˆíƒ€ê¹ê²Œë„ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ë¥¼ ë§Œë‚˜ê²Œ ëœë‹¤. ì§€ë©´ì„ ë§ì´ ì°¨ì§€í•˜ë‹ˆ <a href="https://gist.github.com/HomoEfficio/b2c9e030b785827b5eba75a1e719387d" target="_blank" rel="noopener">ì§€ìŠ¤íŠ¸(Gist) ë§í¬</a>ë¡œ ëŒ€ì‹ í•˜ê³ , ì£¼ìš” ë¶€ë¶„ë§Œ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">org.quartz.SchedulerException: Job instantiation failed</span><br><span class="line"></span><br><span class="line">Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;io.homo_efficio.quartz.job.RemoteSimpleJob&apos;: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.homo_efficio.quartz.job.RemoteSimpleJob: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.NoClassDefFoundError--&gt;io/homo_efficio/quartz/job/RemoteSimpleJob</span><br><span class="line"></span><br><span class="line">Caused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.homo_efficio.quartz.job.RemoteSimpleJob: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.NoClassDefFoundError--&gt;io/homo_efficio/quartz/job/RemoteSimpleJob</span><br><span class="line"></span><br><span class="line">Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.NoClassDefFoundError--&gt;io/homo_efficio/quartz/job/RemoteSimpleJob</span><br><span class="line"></span><br><span class="line">Caused by: java.lang.NoClassDefFoundError: io/homo_efficio/quartz/job/RemoteSimpleJob</span><br><span class="line"></span><br><span class="line">Caused by: java.lang.ClassNotFoundException: io.homo_efficio.quartz.job.RemoteSimpleJob</span><br></pre></td></tr></table></figure><p>ê¸´ ë‚´ìš©ì´ì§€ë§Œ ìš”ì•½í•˜ë©´ <code>@Transactional</code> ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œ <code>RemoteSimpleJob</code>ì˜ í”„ë¡ì‹œ ê°ì²´ë¥¼ CGLib ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ì„œ ìƒì„±í•´ì•¼ í•˜ëŠ”ë°, ì´ë•Œ <code>RemoteSimpleJob</code> í´ë˜ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì–˜ê¸°ë‹¤.</p><p><code>@Transactional</code>ì´ ì—†ì„ ë•ŒëŠ” í”„ë¡ì‹œ ê°ì²´ë¥¼ ë§Œë“¤ í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ <code>RemoteSimpleJob</code>ì€ ìš°ë¦¬ê°€ ë§Œë“  ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¡œë”ë¥¼ í†µí•´ ì •ìƒì ìœ¼ë¡œ ë¡œë”©ë˜ì–´ ì‹¤í–‰ëœë‹¤. í•˜ì§€ë§Œ <strong><code>@Transactional</code>ì´ ë¶™ì–´ì„œ CGLibì„ í†µí•´ í”„ë¡ì‹œ ê°ì²´ë¥¼ ìƒì„±í•  ë•ŒëŠ” ìš°ë¦¬ê°€ ë§Œë“  ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¡œë”ê°€ ì‚¬ìš©ë˜ì§€ ëª»í•˜ë¯€ë¡œ <code>RemoteSimpleJob</code>ì„ ì°¾ì§€ ëª»í•˜ê³  ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.</strong> ê·¸ë¦¼ìœ¼ë¡œ ë³´ë©´ ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src="https://i.imgur.com/e7GF1s6.png" alt="Imgur"></p><p>ê·¸ëŸ¼ CGLibì´ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ë¡œë”ê°€ <code>RemoteSimpleJob</code>ì„ ë¡œë”©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ë©´ ì´ ë¬¸ì œë„ í•´ê²°ë  ê²ƒ ê°™ë‹¤. CGLibëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ë™ í™˜ê²½ì—ì„œ ì •í•´ì§„ í´ë˜ìŠ¤ë¡œë”ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>Standalone Tomcat í™˜ê²½ì´ë©´ <code>WebAppClassLoader</code></li><li>ìŠ¤í”„ë§ë¶€íŠ¸ì— ë‚´ì¥ëœ Embedded Tomcat í™˜ê²½ì´ë©´ <code>LaunchedURLClassLoader</code></li><li>ìŠ¤í”„ë§ devtoolsë¥¼ ì‚¬ìš©í•˜ëŠ” ë¡œì»¬ í™˜ê²½ì´ë©´ <code>RestartClassLoader</code></li></ul><p>Standalone Tomcat í™˜ê²½ì´ë¼ë©´ <code>context.xml</code> íŒŒì¼ì— <code>&lt;Loader&gt;</code> ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ í†µí•´ ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¡œë”ë¥¼ ì§€ì •í•  ìˆ˜ ìˆê³ , ìŠ¤í”„ë§ë¶€íŠ¸ í™˜ê²½ì´ë¼ë©´ <code>PropertiesLauncher</code> í´ë˜ìŠ¤ì™€ <code>loader.path</code> ì†ì„±ìœ¼ë¡œ í´ë˜ìŠ¤ë¡œë”ë¥¼ ì§€ì •í•  ìˆ˜ ìˆê³ , ê°€ì¥ ë²”ìš©ì ìœ¼ë¡œëŠ” manifest íŒŒì¼ì— <code>Class-Path</code>ë¡œ ë¡œë”©í•  í´ë˜ìŠ¤ê°€ í¬í•¨ëœ í´ë˜ìŠ¤íŒ¨ìŠ¤ë¥¼ ì§€ì •í•´ì£¼ë©´ ëœë‹¤.</p><p>ì´ë¡ ì ìœ¼ë¡œëŠ” ê·¸ëŸ°ë° ì‹¤ì œë¡œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ë™ í™˜ê²½ ìì²´ë„ ë¡œì»¬ ê°œë°œ í™˜ê²½, ì„œë²„ í™˜ê²½ ëª¨ë‘ ë‹¤ë¥´ê³ , ê·¸ì— ë”°ë¼ ìŠ¤í”„ë§ ë‚´ë¶€ì—ì„œ êµ¬ë™ë˜ëŠ” CGLibì´ <code>RemoteSimpleJob</code>ì„ ë¡œë”©í•  ìˆ˜ ìˆê²Œ í•˜ë ¤ë©´ ìŠ¤í”„ë§ ë‚´ë¶€ì— ëŒ€í•œ ì‹¬ë„ìˆëŠ” ì§€ì‹ì´ í•„ìš”í•˜ë‹¤. ê·¸ê±¸ë¡œ ëë‚˜ëŠ” ê²Œ ì•„ë‹ˆë¼ <code>RemoteSimpleJob</code>ì´ ì°¸ì¡°í•˜ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤, ê·¸ í´ë˜ìŠ¤ê°€ ì°¸ì¡°í•˜ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤, ê·¸ í´ë˜ìŠ¤ê°€ ì°¸ì¡°í•˜ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤â€¦ ë¥¼ ëª¨ë‘ ë¡œë”©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.</p><p>ì´ê²ƒì €ê²ƒ ì‹œë„í•´ë³´ë‹¤ê°€ CGLibì´ <code>RemoteSimpleJob</code>ì— ëŒ€í•œ í”„ë¡ì‹œ ê°ì²´ë¥¼ ìƒì„±í•˜ê²Œ ë§Œë“œëŠ” ë° ê°„ì‹ íˆ ì„±ê³µí–ˆë‹¤. TRACE ë¡œê·¸ë¡œ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤. (ì´ê±´ ì˜ˆì „ì— í–ˆë˜ ë‚´ìš©ì´ë¼ í´ë˜ìŠ¤ ì´ë¦„ ë“±ì€ í˜„ì¬ ì˜ˆì œì™€ ì¢€ ë‹¤ë¥´ë‹¤ ;;)</p><p><img src="https://i.imgur.com/Vm9NDZf.png" alt="Imgur"></p><p>ê·¸ëŸ°ë° ë¡œê·¸ë¥¼ ìì„¸íˆ ë³´ë©´ <code>&#39;o.s.aop.framework.CglibAopProxy : Unable to apply any optimizations to advised method: [[[@Transactional_ë¶™ì–´ìˆëŠ”_ë©”ì„œë“œ]]]&#39;</code> ëŒ€ëµ ì´ëŸ° ë‚´ìš©ì´ ì°íˆê³ , ì‹¤ì œë¡œë„ íŠ¸ëœì­ì…˜ ë¡¤ë°±ì´ ë™ì‘í•˜ì§€ ì•Šì•˜ë‹¤.</p><p>ë” ê²°ì •ì ì¸ ë¬¸ì œë„ ìˆëŠ”ë° ì´ë ‡ê²Œ <strong>ìŠ¤í”„ë§ì´ ì œê³µí•´ì£¼ëŠ” í”„ë¡ì‹œ ìƒì„± ë¡œì§ì„ í†µí•´ í”„ë¡ì‹œë¡œ ë“±ë¡ë˜ë©´ í•´ë‹¹ í”„ë¡ì‹œëŠ” ìºì‹œëœë‹¤ëŠ” ì ì´ë‹¤. ê·¸ë˜ì„œ ë‚˜ì¤‘ì— <code>RemoteSimpleJob</code>ì˜ ë‚´ìš©ì„ ë°”ê¿”ì„œ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì˜ jar ë¥¼ ìƒˆë¡œ ìƒì„±í•œ í›„ì— <code>RemoteSimpleJob</code>ì„ ë‹¤ì‹œ ìˆ˜í–‰í•´ë„ ìƒˆ í”„ë¡ì‹œê°€ ìƒì„±ë˜ì§€ ì•Šê³  ê¸°ì¡´ ë‚´ìš©ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒì„±ë˜ì–´ ìºì‹œëœ í”„ë¡ì‹œê°€ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.</strong> ì´ëŸ¬ë©´ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì„ ë¶„ë¦¬í•œ ì˜ë„ê°€ í‡´ìƒ‰ë˜ì–´ ë²„ë¦¬ëŠ” ê²°ê³¼ê°€ ëœë‹¤.</p><p>ì´ëŸ° ëª¨ë“  ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ í•  ìˆ˜ë„ ìˆê² ì§€ë§Œ ë‚˜ëŠ” ì´ ì •ë„ì—ì„œ ë©ˆì¶”ê¸°ë¡œ í•œë‹¤. ì™œëƒí•˜ë©´ <strong>ìŠ¤í”„ë§ì—ì„œëŠ” <code>@Transactional</code>ì´ ì•„ë‹ˆë¼ë„ <code>PlatformTransactionManager</code>ë¥¼ ì‚¬ìš©í•´ì„œ íŠ¸ëœì­ì…˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.</strong></p><h2 id="PlatformTransactionManager-ì‚¬ìš©"><a href="#PlatformTransactionManager-ì‚¬ìš©" class="headerlink" title="PlatformTransactionManager ì‚¬ìš©"></a>PlatformTransactionManager ì‚¬ìš©</h2><p>ë‹¤ìŒê³¼ ê°™ì´ <code>@Transactional</code>ì„ ì œê±°í•˜ê³  <code>PlatformTransactionManager</code>ë¥¼ ì‚¬ìš©í•˜ë„ë¡ <code>RemoteSimpleJob</code>ì„ ê°œì„ í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RemoteSimpleJob</span> <span class="keyword">implements</span> <span class="title">Job</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> HelloService helloService;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> MemberRepository memberRepository;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> PlatformTransactionManager transactionManager;  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(JobExecutionContext context)</span> <span class="keyword">throws</span> JobExecutionException </span>&#123;</span><br><span class="line">        log.info(<span class="string">"OOO REMOTE JOB [&#123;&#125;] executed."</span>, <span class="keyword">this</span>.getClass().getSimpleName());</span><br><span class="line">        JobDataMap mergedJobDataMap = context.getMergedJobDataMap();</span><br><span class="line">        mergedJobDataMap.forEach((k, v) -&gt; log.info(<span class="string">"OOOOO &#123;&#125;: &#123;&#125;"</span>, k, v));</span><br><span class="line"></span><br><span class="line">        helloService.sayHello();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line">        TransactionStatus status = transactionManager.getTransaction(<span class="keyword">new</span> DefaultTransactionDefinition());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Member dbMember = memberRepository.save(<span class="keyword">new</span> Member(<span class="string">"Homo Efficio"</span>, <span class="string">"homo.efficio@gmail.com"</span>));</span><br><span class="line">            log.info(<span class="string">"TTT íšŒì› [&#123;&#125;] ì¶”ê°€ë¨"</span>, dbMember);</span><br><span class="line">            <span class="keyword">if</span> (<span class="number">1</span>==<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê°•ì œë¡œ ë°œìƒì‹œí‚¨ ì˜ˆì™¸"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            transactionManager.commit(status);  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">"TTT íšŒì› ì¶”ê°€ ì¤‘ ì˜ˆì™¸ ë°œìƒ. ë©”ì‹œì§€: &#123;&#125;"</span>,e.getMessage());</span><br><span class="line">            transactionManager.rollback(status);  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì‹¤í–‰í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ <code>TTT íšŒì› [{}] ì¶”ê°€ë¨</code> ë¡œê·¸ëŠ” ì°íˆì§€ë§Œ ê·¸ ì´í›„ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</p><p><img src="https://i.imgur.com/l0xcJB8.png" alt="Imgur"></p><p>ì´ì œ ë ˆì½”ë“œê°€ ìƒì„±ë˜ì§€ ì•Šì€ ê²ƒì„ h2 web consoleì—ì„œ í™•ì¸í•˜ë©´ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ë¬¸ì œë„ í•´ê²°ëœë‹¤!</p><p><img src="https://i.imgur.com/JDciNBU.png" alt="Imgur"></p><p>ì˜¤ì˜¤~ ì˜ˆìƒëŒ€ë¡œ ë ˆì½”ë“œê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ë‹¤. ì„±ê³µ!</p><p>ì„¸ ë²ˆì§¸ ê³ ê°œì¸ <code>@Transactional</code>ì€ ë„˜ì§€ëŠ” ëª» í–ˆì§€ë§Œ, ëŒì•„ê°€ëŠ” ê¸¸ì„ ì°¾ì•„ëƒˆë‹¤.</p><h1 id="ì •ë¦¬"><a href="#ì •ë¦¬" class="headerlink" title="ì •ë¦¬"></a>ì •ë¦¬</h1><blockquote><ul><li><p>ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¶„ë¦¬ë˜ì–´ ë‚˜ê°„ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì—ì„œëŠ” <code>@Transactional</code>ì„ ì¼ë°˜ì ì¸ ê²½ìš°ì²˜ëŸ¼ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</p></li><li><p>ì´ìœ ëŠ” <code>@Transactional</code> ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œ <code>RemoteSimpleJob</code>ì˜ í”„ë¡ì‹œ ê°ì²´ë¥¼ CGLib ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ì„œ ìƒì„±í•´ì•¼ í•˜ëŠ”ë°, ì´ë•Œ <code>RemoteSimpleJob</code> í´ë˜ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.</p></li><li><p>ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì—ì„œ <code>@Transactional</code>ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ì§€ë§Œ <code>PlatformTransactionManager</code>ë¥¼ ì´ìš©í•˜ë©´ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.</p></li></ul></blockquote><h1 id="ì‹œë¦¬ì¦ˆ-ë§ˆë¬´ë¦¬"><a href="#ì‹œë¦¬ì¦ˆ-ë§ˆë¬´ë¦¬" class="headerlink" title="ì‹œë¦¬ì¦ˆ ë§ˆë¬´ë¦¬"></a>ì‹œë¦¬ì¦ˆ ë§ˆë¬´ë¦¬</h1><p>ì´ 3í¸ì— ê±¸ì³ Quartz ì ìš© ì•„í‚¤í…ì²˜ë¥¼ ê°œì„ í•˜ëŠ” ê³¼ì •ì„ ì‚´í´ë´¤ë‹¤.</p><p>ì´ë¥¼ í†µí•´ <strong>ë³€ê²½ ì£¼ê¸°ê°€ ë‹¤ë¥¸ ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë³„ë„ì˜ ëª¨ë“ˆë¡œ ë¶„ë¦¬í•˜ê³ , ë¶„ë¦¬ëœ ëª¨ë“ˆì— ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•´ì„œ íŠ¸ëœì­ì…˜ê¹Œì§€ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í´ë¦° Quartz ì•„í‚¤í…ì²˜ë¥¼ ì ìš©í•  ìˆ˜ ìˆê²Œ ëë‹¤.</strong></p><h2 id="1í¸-ëª¨ë“ˆ-ë¶„ë¦¬"><a href="#1í¸-ëª¨ë“ˆ-ë¶„ë¦¬" class="headerlink" title="1í¸ ëª¨ë“ˆ ë¶„ë¦¬"></a>1í¸ ëª¨ë“ˆ ë¶„ë¦¬</h2><p><a href="https://homoefficio.github.io/2019/09/28/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -1/">1í¸</a>ì˜ í‚¤ì›Œë“œëŠ” <strong>ëª¨ë“ˆ ë¶„ë¦¬ì™€  <code>URLClassLoader</code></strong></p><p><img src="https://i.imgur.com/5RHsMzy.png" alt="Imgur"></p><h2 id="2í¸-ì˜ì¡´-ê´€ê³„-ì£¼ì…"><a href="#2í¸-ì˜ì¡´-ê´€ê³„-ì£¼ì…" class="headerlink" title="2í¸ ì˜ì¡´ ê´€ê³„ ì£¼ì…"></a>2í¸ ì˜ì¡´ ê´€ê³„ ì£¼ì…</h2><p><a href="https://homoefficio.github.io/2019/09/29/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -2/">2í¸</a>ì˜ í‚¤ì›Œë“œëŠ” <strong>ì˜ì¡´ ê´€ê³„ ì£¼ì…ê³¼ <code>SpringBeanJobFactory</code></strong></p><p><img src="https://i.imgur.com/mT6CfNb.png" alt="Imgur"></p><h2 id="3í¸-íŠ¸ëœì­ì…˜-ì²˜ë¦¬"><a href="#3í¸-íŠ¸ëœì­ì…˜-ì²˜ë¦¬" class="headerlink" title="3í¸ íŠ¸ëœì­ì…˜ ì²˜ë¦¬"></a>3í¸ íŠ¸ëœì­ì…˜ ì²˜ë¦¬</h2><p><a href="https://homoefficio.github.io/2019/09/29/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -3/">3í¸</a>ì˜ í‚¤ì›Œë“œëŠ” <strong>íŠ¸ëœì­ì…˜ ì²˜ë¦¬ì™€ <code>PlatformTransactionManager</code></strong></p><p><img src="https://i.imgur.com/dbHHXDv.png" alt="Imgur"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -3&quot;&gt;&lt;a href=&quot;#Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -3&quot; class=&quot;headerlink&quot; title=&quot;Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 3&quot;&gt;&lt;/a&gt;Quartz ìŠ¤ì¼€ì¤„ëŸ¬ 
      
    
    </summary>
    
      <category term="Technique" scheme="http://homoefficio.github.io/categories/Technique/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="ìë°”" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94/"/>
    
      <category term="Quartz" scheme="http://homoefficio.github.io/tags/Quartz/"/>
    
      <category term="Scheduler" scheme="http://homoefficio.github.io/tags/Scheduler/"/>
    
      <category term="Clean Architecture" scheme="http://homoefficio.github.io/tags/Clean-Architecture/"/>
    
      <category term="Interface Segregation Principle" scheme="http://homoefficio.github.io/tags/Interface-Segregation-Principle/"/>
    
      <category term="Dependency Inversion Principle" scheme="http://homoefficio.github.io/tags/Dependency-Inversion-Principle/"/>
    
      <category term="Isolation" scheme="http://homoefficio.github.io/tags/Isolation/"/>
    
      <category term="ì¿¼ì¸ " scheme="http://homoefficio.github.io/tags/%EC%BF%BC%EC%B8%A0/"/>
    
      <category term="ìŠ¤ì¼€ì¤„ëŸ¬" scheme="http://homoefficio.github.io/tags/%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC/"/>
    
      <category term="í´ë¦° ì•„í‚¤í…ì²˜" scheme="http://homoefficio.github.io/tags/%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/"/>
    
      <category term="ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™" scheme="http://homoefficio.github.io/tags/%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4-%EB%B6%84%EB%A6%AC-%EC%9B%90%EC%B9%99/"/>
    
      <category term="ê²©ë¦¬" scheme="http://homoefficio.github.io/tags/%EA%B2%A9%EB%A6%AC/"/>
    
      <category term="Dependency Injection" scheme="http://homoefficio.github.io/tags/Dependency-Injection/"/>
    
      <category term="SpringBeanJobFactory" scheme="http://homoefficio.github.io/tags/SpringBeanJobFactory/"/>
    
      <category term="ApplicationContext" scheme="http://homoefficio.github.io/tags/ApplicationContext/"/>
    
      <category term="ApplicationContextAware" scheme="http://homoefficio.github.io/tags/ApplicationContextAware/"/>
    
      <category term="AdaptableJobFactory" scheme="http://homoefficio.github.io/tags/AdaptableJobFactory/"/>
    
      <category term="AutowireCapableBeanFactory" scheme="http://homoefficio.github.io/tags/AutowireCapableBeanFactory/"/>
    
      <category term="SchedulerFactoryBean" scheme="http://homoefficio.github.io/tags/SchedulerFactoryBean/"/>
    
      <category term="ì˜ì¡´ ê´€ê³„ ì—­ì „ ì›ì¹™" scheme="http://homoefficio.github.io/tags/%EC%9D%98%EC%A1%B4-%EA%B4%80%EA%B3%84-%EC%97%AD%EC%A0%84-%EC%9B%90%EC%B9%99/"/>
    
      <category term="ì˜ì¡´ ê´€ê³„ ì£¼ì…" scheme="http://homoefficio.github.io/tags/%EC%9D%98%EC%A1%B4-%EA%B4%80%EA%B3%84-%EC%A3%BC%EC%9E%85/"/>
    
      <category term="Transaction" scheme="http://homoefficio.github.io/tags/Transaction/"/>
    
      <category term="Transactional" scheme="http://homoefficio.github.io/tags/Transactional/"/>
    
      <category term="CGLib" scheme="http://homoefficio.github.io/tags/CGLib/"/>
    
      <category term="Proxy" scheme="http://homoefficio.github.io/tags/Proxy/"/>
    
      <category term="PlatformTransactionManager" scheme="http://homoefficio.github.io/tags/PlatformTransactionManager/"/>
    
      <category term="íŠ¸ëœì­ì…˜" scheme="http://homoefficio.github.io/tags/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98/"/>
    
      <category term="í”„ë¡ì‹œ" scheme="http://homoefficio.github.io/tags/%ED%94%84%EB%A1%9D%EC%8B%9C/"/>
    
  </entry>
  
  <entry>
    <title>Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 2</title>
    <link href="http://homoefficio.github.io/2019/09/29/Quartz-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC-%EC%A0%81%EC%9A%A9-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EA%B0%9C%EC%84%A0-2/"/>
    <id>http://homoefficio.github.io/2019/09/29/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -2/</id>
    <published>2019-09-29T03:49:40.000Z</published>
    <updated>2019-10-03T15:05:05.700Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -2"><a href="#Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -2" class="headerlink" title="Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 2"></a>Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 2</h1><p><a href="https://homoefficio.github.io/2019/09/28/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -1/">1í¸</a>ì—ì„œëŠ” Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì‹œ ë³€ê²½ ì£¼ê¸°ê°€ ë‹¤ë¥¸ ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆê³¼ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì„ ë¶„ë¦¬í•´ì„œ í´ë¦° ì•„í‚¤í…ì²˜ì— ë‹¤ê°€ê°€ëŠ” ë°©ë²•ì„ ì•Œì•„ë´¤ë‹¤.</p><p>ë¶„ë¦¬ëœ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì€ DB ì‘ì—…ì„ í•  ìˆ˜ë„ ìˆê³ , í•˜ë‘¡ ì¸í”„ë¼ ê´€ë ¨ ì‘ì—…ì„ í•  ìˆ˜ë„ ìˆê³ , ì•Œë¦¼ ë©”ì¼ë„ ë³´ë‚´ì•¼í•˜ëŠ” ë“± ì—¬ëŸ¬ ì‘ì—…ì„ í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ê·¸ëŸ°ë° ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì€ ë§ ê·¸ëŒ€ë¡œ ì‘ì—… í´ë˜ìŠ¤ë§Œ ëª¨ì•„ ë†“ì€ jar ë¼ì´ë¸ŒëŸ¬ë¦¬ì¼ ë¿ì´ë¼ì„œ JDBC ë“œë¼ì´ë²„ë‚˜ SMTP ë©”ì¼ ì„œë²„ ì„¤ì • ë“±ì„ í¬í•¨í•˜ê³  ìˆì§€ ì•Šìœ¼ë©°, ì´ëŸ° ê²ƒë“¤ì„ ìŠ¤ìŠ¤ë¡œ ê°€ì§€ê³  ìˆëŠ” ê²ƒ ìì²´ë„ Single Responsibility Principle ê´€ì ì—ì„œ ë³´ë©´ ì ì ˆí•˜ì§€ ì•Šë‹¤.</p><p>ê·¸ë˜ì„œ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì„ ë™ì ìœ¼ë¡œ ë¡œë”©í•˜ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆì´ ì‘ì—… í´ë˜ìŠ¤ê°€ í•„ìš”ë¡œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì£¼ì…í•´ì£¼ëŠ” êµ¬ì¡°ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤ë©´ ê°€ì¥ ì¢‹ë‹¤. ì¦‰, ë‹¤ìŒê³¼ ê°™ì´ <code>@Autowire</code>ë¥¼ í†µí•´ ì‘ì—… í´ë˜ìŠ¤ì— í•„ìš”í•œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•´ ì¤„ ìˆ˜ ìˆë‹¤ë©´ ë”± ì¢‹ë‹¤. </p><p><img src="https://i.imgur.com/mT6CfNb.png" alt="Imgur"></p><p>ê·¸ëŸ°ë° ë³´í†µ <code>@Autowire</code>ëŠ” ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ë™ë˜ë©´ì„œ beanì„ ìƒì„±í•˜ê³  ê°ì²´ í˜‘ë ¥ë§ì„ êµ¬ì„±í•  ë•Œ ì‘ë™í•œë‹¤. ì§€ê¸ˆì²˜ëŸ¼ ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ í¬í•¨í•œ ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì™„ì „íˆ êµ¬ë™ëœ í›„ì— ë™ì ìœ¼ë¡œ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë¡œë”©í•  ë•Œë„ <code>@Autowire</code>ë¥¼ í†µí•´ ì˜ì¡´ ê´€ê³„ ì£¼ì…í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í• ê¹Œ?</p><h1 id="SpringBeanJobFactory"><a href="#SpringBeanJobFactory" class="headerlink" title="SpringBeanJobFactory"></a>SpringBeanJobFactory</h1><p>ê²°ë¡ ë¶€í„° ë§í•˜ë©´ <strong>ìŠ¤í”„ë§ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” <code>SpringBeanJobFactory</code>ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ë™ ì™„ë£Œ í›„ì— ë™ì ìœ¼ë¡œ ì¶”ê°€í•˜ëŠ” beanì—ë„ ì˜ì¡´ ê´€ê³„ë¥¼ ì‰½ê²Œ ì£¼ì…í•  ìˆ˜ ìˆë‹¤.</strong></p><p>ì˜ˆì œì—ì„œëŠ” í¸ì˜ìƒ ìŠ¤ì¼€ì¤„ë§ ì§í›„ ì‘ì—…ì´ ìˆ˜í–‰ë˜ë„ë¡ ì‘ì„±í–ˆì§€ë§Œ, ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‘ì—…ì„ ìŠ¤ì¼€ì¤„í•˜ëŠ” ì‹œì ê³¼ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ì‹œì ì´ ë‹¤ë¥´ë‹¤. Quartz ìŠ¤ì¼€ì¤„ëŸ¬ë„ ë§ˆì°¬ê°€ì§€ë©° ìŠ¤ì¼€ì¤„í•˜ëŠ” ì‹œì ì—ë„ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë¡œë”©í•˜ì§€ë§Œ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ì‹œì ì—ë„ í´ë˜ìŠ¤ë¥¼ ë¡œë”©í•œë‹¤. ê·¸ë¦¬ê³  ì‘ì—…ì„ ì‹¤í–‰í•˜ë ¤ë©´ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™” í•´ì•¼ í•˜ëŠ”ë°, ì´ ë•Œ <code>JobFactory</code>ê°€ ì‚¬ìš©ëœë‹¤. <a href="https://www.quartz-scheduler.org/api/2.3.1-SNAPSHOT/index.html" target="_blank" rel="noopener">ë¬¸ì„œ</a>ì—ë„ ë‚˜ì™€ìˆëŠ” ê²ƒì²˜ëŸ¼ <strong><code>JobFactory</code>ë¥¼ ì˜ì¡´ ê´€ê³„ ì£¼ì… í†µë¡œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</strong></p><p>ìŠ¤í”„ë§ì€ ê½¤ ì˜¤ë˜ ì „ë¶€í„° Quartzë¥¼ ì§€ì›í•´ì˜¤ê³  ìˆìœ¼ë©°, ìŠ¤í”„ë§ë¶€íŠ¸ì—ë„ quartz starterê°€ ìˆê³  ê·¸ ì•ˆì— <code>JobFactory</code>ë¥¼ êµ¬í˜„í•œ <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/quartz/SpringBeanJobFactory.html" target="_blank" rel="noopener"><code>SpringBeanJobFactory</code></a>ê°€ ìˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ë¡œê·¸ë¥¼ ì‚´í´ë³´ë©´ <code>SpringBeanJobFactory</code>ê°€ ì‚¬ìš©ë˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/6cElvr0.png" alt="Imgur"></p><p>ë”°ë¼ì„œ <strong>ìŠ¤í”„ë§ë¶€íŠ¸ë¥¼ í†µí•´ quartzë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´, <code>SpringBeanJobFactory</code> ë•ë¶„ì— ì‘ì—… í´ë˜ìŠ¤ë„ ì¼ë°˜ì ì¸ ìŠ¤í”„ë§ beanê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ê°„ë‹¨í•˜ê²Œ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì´ ê°€ëŠ¥í•˜ë‹¤.</strong> ì´ì œ ê´€ë ¨ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ì„œ ì•Œì•„ë³´ì.</p><h2 id="ì£¼ì…í• -ì»´í¬ë„ŒíŠ¸-ìƒì„±"><a href="#ì£¼ì…í• -ì»´í¬ë„ŒíŠ¸-ìƒì„±" class="headerlink" title="ì£¼ì…í•  ì»´í¬ë„ŒíŠ¸ ìƒì„±"></a>ì£¼ì…í•  ì»´í¬ë„ŒíŠ¸ ìƒì„±</h2><p>ë¨¼ì € ì£¼ì…í•  ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì. ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆ ìª½ì— ë‹¤ìŒê³¼ ê°™ì´ ë‹¨ìˆœí•œ <code>HelloService</code>ë¥¼ ì¶”ê°€í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"OOO &#123;&#125;.sayHello() executed"</span>, <span class="keyword">this</span>.getClass().getSimpleName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ëª¨ë“ˆ-ì˜ì¡´-ê´€ê³„-ì¶”ê°€"><a href="#ëª¨ë“ˆ-ì˜ì¡´-ê´€ê³„-ì¶”ê°€" class="headerlink" title="ëª¨ë“ˆ ì˜ì¡´ ê´€ê³„ ì¶”ê°€"></a>ëª¨ë“ˆ ì˜ì¡´ ê´€ê³„ ì¶”ê°€</h2><p>ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì— ìˆëŠ” <code>RemoteSimpleJob</code>ê°€ ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆì— ìˆëŠ” <code>HelloService</code>ë¥¼ ì£¼ì… ë°›ìœ¼ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œ ìƒìœ¼ë¡œ <code>HelloService</code>ê°€ ëª…ì‹œë¼ì•¼ í•˜ëŠ”ë°, ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì—ì„œëŠ” <code>HelloService</code>ë¥¼ ì¸ì‹í•  ìˆ˜ ì—†ìœ¼ë©°, ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.</p><p>ë”°ë¼ì„œ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì˜ <code>build.gradle</code> íŒŒì¼ì— ë‹¤ìŒê³¼ ê°™ì´ ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆ(quartz-scheduler)ì— ëŒ€í•œ ì˜ì¡´ ê´€ê³„ë¥¼ ì¶”ê°€í•œë‹¤.</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    compile project(<span class="string">':quartz-scheduler'</span>)  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line"></span><br><span class="line">    compileOnly <span class="string">'org.projectlombok:lombok:1.18.8'</span></span><br><span class="line">    annotationProcessor <span class="string">'org.projectlombok:lombok:1.18.8'</span></span><br><span class="line">    compile <span class="string">group:</span> <span class="string">'org.quartz-scheduler'</span>, <span class="string">name:</span> <span class="string">'quartz'</span>, <span class="string">version:</span> <span class="string">'2.3.1'</span></span><br><span class="line">    compile <span class="string">group:</span> <span class="string">'org.springframework'</span>, <span class="string">name:</span> <span class="string">'spring-context-support'</span>, <span class="string">version:</span> <span class="string">'5.1.9.RELEASE'</span></span><br><span class="line"></span><br><span class="line">    testCompile <span class="string">group:</span> <span class="string">'junit'</span>, <span class="string">name:</span> <span class="string">'junit'</span>, <span class="string">version:</span> <span class="string">'4.12'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ì‘ì—…-í´ë˜ìŠ¤ì—-ì˜ì¡´-ê´€ê³„-ì¶”ê°€"><a href="#ì‘ì—…-í´ë˜ìŠ¤ì—-ì˜ì¡´-ê´€ê³„-ì¶”ê°€" class="headerlink" title="ì‘ì—… í´ë˜ìŠ¤ì— ì˜ì¡´ ê´€ê³„ ì¶”ê°€"></a>ì‘ì—… í´ë˜ìŠ¤ì— ì˜ì¡´ ê´€ê³„ ì¶”ê°€</h2><p>ë‹¤ìŒê³¼ ê°™ì´ ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆì— ìˆëŠ” <code>HelloService</code>ë¥¼ ì£¼ì… ë°›ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë¥¼ <code>RemoteSimpleJob</code>ì— ì¶”ê°€í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span>  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RemoteSimpleJob</span> <span class="keyword">implements</span> <span class="title">Job</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> HelloService helloService;  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(JobExecutionContext context)</span> <span class="keyword">throws</span> JobExecutionException </span>&#123;</span><br><span class="line">        log.info(<span class="string">"OOO REMOTE JOB [&#123;&#125;] executed."</span>, <span class="keyword">this</span>.getClass().getSimpleName());</span><br><span class="line">        JobDataMap mergedJobDataMap = context.getMergedJobDataMap();</span><br><span class="line">        mergedJobDataMap.forEach((k, v) -&gt; log.info(<span class="string">"OOOOO &#123;&#125;: &#123;&#125;"</span>, k, v));</span><br><span class="line"></span><br><span class="line">        helloService.sayHello();  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì— ì¶”ê°€í•´ë‘” <code>deployJar</code>ë¥¼ ì‹¤í–‰í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ <code>RemoteSimpleJob</code>ì´ <code>HelloService</code>ë¥¼ ì£¼ì… ë°›ì•„ì„œ ì‚¬ìš©í•¨ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/wBqMrZP.png" alt="Imgur"></p><p>ì ì´ì œ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì´ë¼ëŠ” ë‘ ë²ˆì§¸ ê³ ê°œë¥¼ ë„˜ì—ˆë‹¤. ê·¸ë˜ì„œ DB ì‘ì—…ë„ í•  ìˆ˜ ìˆê²Œ ëë‹¤. ê·¸ëŸ°ë° DB ì‘ì—…ì„ í•  ë•ŒëŠ” íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤. ìŠ¤í”„ë§ì—ì„œëŠ” <code>@Transactional</code>ì„ í†µí•´ ì•„ì£¼ ì‰½ê²Œ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤. ì‘ì—… í´ë˜ìŠ¤ì—ì„œë„ <code>@Transactional</code>ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ? ë§ˆì§€ë§‰ ì„¸ ë²ˆì§¸ ê³ ê°œëŠ” <code>@Transactional</code>ì´ë‹¤. <a href="https://homoefficio.github.io/2019/09/29/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -3/">3í¸</a>ì—ì„œ<br>ë‹¤ë£¬ë‹¤.</p><h1 id="ì •ë¦¬"><a href="#ì •ë¦¬" class="headerlink" title="ì •ë¦¬"></a>ì •ë¦¬</h1><blockquote><ul><li><p>Quartz ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì´ ì‹¤ë¬´ì—ì„œ ë°œìƒí•˜ëŠ” ë‹¤ì–‘í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì£¼ì… ë°›ì•„ì•¼ í•œë‹¤.</p></li><li><p>ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” <code>SpringBeanJobFactory</code> ë•ë¶„ì— Quartz ì‘ì—… í´ë˜ìŠ¤ì—ì„œë„ ì¼ë°˜ì ì¸ beanê³¼ ë§ˆì°¬ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì… ë°›ì„ ìˆ˜ ìˆë‹¤.</p></li></ul></blockquote><h1 id="ë²ˆì™¸í¸-ìŠ¤í”„ë§ë¶€íŠ¸ê°€-ì•„ë‹Œ-ê·¸ëƒ¥-ìŠ¤í”„ë§ì¼-ê²½ìš°"><a href="#ë²ˆì™¸í¸-ìŠ¤í”„ë§ë¶€íŠ¸ê°€-ì•„ë‹Œ-ê·¸ëƒ¥-ìŠ¤í”„ë§ì¼-ê²½ìš°" class="headerlink" title="(ë²ˆì™¸í¸) ìŠ¤í”„ë§ë¶€íŠ¸ê°€ ì•„ë‹Œ ê·¸ëƒ¥ ìŠ¤í”„ë§ì¼ ê²½ìš°"></a>(ë²ˆì™¸í¸) ìŠ¤í”„ë§ë¶€íŠ¸ê°€ ì•„ë‹Œ ê·¸ëƒ¥ ìŠ¤í”„ë§ì¼ ê²½ìš°</h1><p>ìŠ¤í”„ë§ë¶€íŠ¸ê°€ ì•„ë‹ˆë¼ ê·¸ëƒ¥ ìŠ¤í”„ë§ì—ì„œ Quartzë¥¼ ì‚¬ìš©í•  ë•Œë„ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì´ ê°€ëŠ¥í•˜ë‹¤.</p><p>Quartzì—ì„œëŠ” <code>JobFactory</code>ë¼ëŠ” ì˜ì¡´ ê´€ê³„ ì£¼ì… í†µë¡œë¥¼ ì œê³µí•˜ê³  ìˆê³ , ìŠ¤í”„ë§ì—ì„œëŠ” <code>JobFactory</code>ì˜ êµ¬í˜„ì²´ì¸ <code>AdaptableJobFactory</code>ë¥¼ ìŠ¤í”„ë§ 2.0ë¶€í„° ì œê³µí•´ì˜¤ê³  ìˆë‹¤. ê·¸ë¦¬ê³  ìŠ¤í”„ë§ì—ëŠ” ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•˜ë©´ì„œ beanì„ ë§Œë“¤ì–´ ì£¼ëŠ” <code>AutowireCapableBeanFactory</code>ê°€ ìˆë‹¤. ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì»¤ìŠ¤í…€ íŒ©í† ë¦¬ë¥¼ ë§Œë“¤ì–´ì£¼ê³ , ì´ë¥¼ Quartz ìŠ¤ì¼€ì¤„ëŸ¬ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„¤ì •í•´ì£¼ë©´ ëœë‹¤.</p><h2 id="ì»¤ìŠ¤í…€-ì‘ì—…-íŒ©í† ë¦¬"><a href="#ì»¤ìŠ¤í…€-ì‘ì—…-íŒ©í† ë¦¬" class="headerlink" title="ì»¤ìŠ¤í…€ ì‘ì—… íŒ©í† ë¦¬"></a>ì»¤ìŠ¤í…€ ì‘ì—… íŒ©í† ë¦¬</h2><p>ì»¤ìŠ¤í…€ ì‘ì—… íŒ©í† ë¦¬ì˜ ì—­í• ì€ ì‘ì—… í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ ì˜ì¡´ ê´€ê³„ ì£¼ì…í•˜ê¸°, ì´ë ‡ê²Œ ë‘ ê°€ì§€ë‹¤.</p><p>ì‘ì—… í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì€ <code>AdaptableJobFactory</code>ì— ì´ë¯¸ ìˆëŠ” ê¸°ëŠ¥ì´ë‹¤. ì—¬ê¸°ì— ì˜ì¡´ ê´€ê³„ ì£¼ì… ê¸°ëŠ¥ë§Œ ì¶”ê°€í•´ì£¼ë©´ ë˜ë¯€ë¡œ <code>AdaptableJobFactory</code>ë¥¼ ìƒì†ë°›ì•„ì„œ í•´ë‹¹ ë¶€ë¶„ë§Œ ì˜¤ë²„ë¼ì´ë“œ í•˜ë©´ ëœë‹¤.</p><p>ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•˜ë ¤ë©´ <code>AutowireCapableBeanFactory</code>ê°€ í•„ìš”í•˜ê³ , <code>AutowireCapableBeanFactory</code>ë¥¼ ì–»ìœ¼ë ¤ë©´ <code>ApplicationContext</code>ê°€ í•„ìš”í•˜ë‹¤. ì–´ë–»ê²Œë“  <code>ApplicationContext</code>ë¥¼ ì£¼ì… ë°›ì„ ìˆ˜ ìˆìœ¼ë©´ ê·¸ë§Œì´ì§€ë§Œ ë”± ì´ëŸ° ì—­í• ì„ ì˜ë¯¸í•˜ëŠ” <code>ApplicationContextAware</code>ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ ìˆìœ¼ë‹ˆ êµ¬í˜„í•´ì£¼ì.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuartzJobFactory</span> <span class="keyword">extends</span> <span class="title">AdaptableJobFactory</span> <span class="keyword">implements</span> <span class="title">ApplicationContextAware</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setApplicationContext</span><span class="params">(ApplicationContext applicationContext)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.applicationContext = applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">createJobInstance</span><span class="params">(TriggerFiredBundle bundle)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Object jobInstance = <span class="keyword">super</span>.createJobInstance(bundle);</span><br><span class="line">        autowireBean(jobInstance);</span><br><span class="line">        <span class="keyword">return</span> jobInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">autowireBean</span><span class="params">(Object jobInstance)</span> </span>&#123;</span><br><span class="line">        AutowireCapableBeanFactory autowireCapableBeanFactory = applicationContext.getAutowireCapableBeanFactory();</span><br><span class="line">        autowireCapableBeanFactory.autowireBean(jobInstance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ì»¤ìŠ¤í…€-ìŠ¤ì¼€ì¤„ëŸ¬-íŒ©í† ë¦¬-ë°-Configuration-í´ë˜ìŠ¤"><a href="#ì»¤ìŠ¤í…€-ìŠ¤ì¼€ì¤„ëŸ¬-íŒ©í† ë¦¬-ë°-Configuration-í´ë˜ìŠ¤" class="headerlink" title="ì»¤ìŠ¤í…€ ìŠ¤ì¼€ì¤„ëŸ¬ íŒ©í† ë¦¬ ë° @Configuration í´ë˜ìŠ¤"></a>ì»¤ìŠ¤í…€ ìŠ¤ì¼€ì¤„ëŸ¬ íŒ©í† ë¦¬ ë° @Configuration í´ë˜ìŠ¤</h2><p>ìŠ¤í”„ë§ë¶€íŠ¸ëŠ” starterë¥¼ í†µí•´ ìë™ ì„¤ì •í•œ Quartz ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì œê³µí•˜ì§€ë§Œ ìŠ¤í”„ë§ì´ë¼ë©´ ìŠ¤ì¼€ì¤„ëŸ¬ë„ ì§ì ‘ ìƒì„±í•˜ê³  ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ì•ì—ì„œ ë§Œë“  ì»¤ìŠ¤í…€ ì‘ì—… íŒ©í† ë¦¬ë¥¼ ì§ì ‘ ìƒì„±í•œ ìŠ¤ì¼€ì¤„ëŸ¬ì— ì„¤ì •í•´ì£¼ë©´ ëœë‹¤.</p><p>ìŠ¤í”„ë§ì—ì„œëŠ” 4.1ë¶€í„° Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ìƒì„± ì‘ì—…ì„ ì‰½ê²Œ í•´ì£¼ëŠ” <code>SchedulerFactoryBean</code>ë„ ì œê³µí•œë‹¤. Quartz 2.1.4 ì´ìƒì´ë©´ í˜¸í™˜ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì»¤ìŠ¤í…€ ìŠ¤ì¼€ì¤„ëŸ¬ íŒ©í† ë¦¬ë¥¼ ë§Œë“¤ì–´ì„œ Autowiring ê¸°ëŠ¥ì´ íƒ‘ì¬ëœ ì»¤ìŠ¤í…€ ì‘ì—… íŒ©í† ë¦¬ë¥¼ ì„¤ì •í•´ì£¼ê³ , Quartz ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ beanìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” ì„¤ì • í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•˜ë©´ ëœë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuartzConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Scheduler <span class="title">scheduler</span><span class="params">(ApplicationContext applicationContext)</span> </span>&#123;</span><br><span class="line">        SchedulerFactoryBean schedulerFactoryBean = getSchedulerFactoryBean(applicationContext);</span><br><span class="line">        <span class="keyword">return</span> schedulerFactoryBean.getScheduler();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> SchedulerFactoryBean <span class="title">getSchedulerFactoryBean</span><span class="params">(ApplicationContext applicationContext)</span> </span>&#123;</span><br><span class="line">        QuartzJobFactory quartzJobFactory = <span class="keyword">new</span> QuartzJobFactory();</span><br><span class="line">        quartzJobFactory.setApplicationContext(applicationContext);</span><br><span class="line"></span><br><span class="line">        SchedulerFactoryBean schedulerFactoryBean = <span class="keyword">new</span> SchedulerFactoryBean();</span><br><span class="line">        schedulerFactoryBean.setJobFactory(quartzJobFactory);</span><br><span class="line"><span class="comment">//        schedulerFactoryBean.setXXX(...); // ê¸°íƒ€ ìŠ¤ì¼€ì¤„ëŸ¬ ì„¤ì •ê°’ ì§ì ‘ ì§€ì • í•„ìš”</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> schedulerFactoryBean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -2&quot;&gt;&lt;a href=&quot;#Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -2&quot; class=&quot;headerlink&quot; title=&quot;Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 2&quot;&gt;&lt;/a&gt;Quartz ìŠ¤ì¼€ì¤„ëŸ¬ 
      
    
    </summary>
    
      <category term="Technique" scheme="http://homoefficio.github.io/categories/Technique/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="ìë°”" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94/"/>
    
      <category term="Quartz" scheme="http://homoefficio.github.io/tags/Quartz/"/>
    
      <category term="Scheduler" scheme="http://homoefficio.github.io/tags/Scheduler/"/>
    
      <category term="Clean Architecture" scheme="http://homoefficio.github.io/tags/Clean-Architecture/"/>
    
      <category term="Interface Segregation Principle" scheme="http://homoefficio.github.io/tags/Interface-Segregation-Principle/"/>
    
      <category term="Dependency Inversion Principle" scheme="http://homoefficio.github.io/tags/Dependency-Inversion-Principle/"/>
    
      <category term="Isolation" scheme="http://homoefficio.github.io/tags/Isolation/"/>
    
      <category term="ì¿¼ì¸ " scheme="http://homoefficio.github.io/tags/%EC%BF%BC%EC%B8%A0/"/>
    
      <category term="ìŠ¤ì¼€ì¤„ëŸ¬" scheme="http://homoefficio.github.io/tags/%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC/"/>
    
      <category term="í´ë¦° ì•„í‚¤í…ì²˜" scheme="http://homoefficio.github.io/tags/%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/"/>
    
      <category term="ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™" scheme="http://homoefficio.github.io/tags/%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4-%EB%B6%84%EB%A6%AC-%EC%9B%90%EC%B9%99/"/>
    
      <category term="ê²©ë¦¬" scheme="http://homoefficio.github.io/tags/%EA%B2%A9%EB%A6%AC/"/>
    
      <category term="Dependency Injection" scheme="http://homoefficio.github.io/tags/Dependency-Injection/"/>
    
      <category term="SpringBeanJobFactory" scheme="http://homoefficio.github.io/tags/SpringBeanJobFactory/"/>
    
      <category term="ApplicationContext" scheme="http://homoefficio.github.io/tags/ApplicationContext/"/>
    
      <category term="ApplicationContextAware" scheme="http://homoefficio.github.io/tags/ApplicationContextAware/"/>
    
      <category term="AdaptableJobFactory" scheme="http://homoefficio.github.io/tags/AdaptableJobFactory/"/>
    
      <category term="AutowireCapableBeanFactory" scheme="http://homoefficio.github.io/tags/AutowireCapableBeanFactory/"/>
    
      <category term="SchedulerFactoryBean" scheme="http://homoefficio.github.io/tags/SchedulerFactoryBean/"/>
    
      <category term="ì˜ì¡´ ê´€ê³„ ì—­ì „ ì›ì¹™" scheme="http://homoefficio.github.io/tags/%EC%9D%98%EC%A1%B4-%EA%B4%80%EA%B3%84-%EC%97%AD%EC%A0%84-%EC%9B%90%EC%B9%99/"/>
    
      <category term="ì˜ì¡´ ê´€ê³„ ì£¼ì…" scheme="http://homoefficio.github.io/tags/%EC%9D%98%EC%A1%B4-%EA%B4%80%EA%B3%84-%EC%A3%BC%EC%9E%85/"/>
    
  </entry>
  
  <entry>
    <title>Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 1</title>
    <link href="http://homoefficio.github.io/2019/09/28/Quartz-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC-%EC%A0%81%EC%9A%A9-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EA%B0%9C%EC%84%A0-1/"/>
    <id>http://homoefficio.github.io/2019/09/28/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -1/</id>
    <published>2019-09-28T09:01:09.000Z</published>
    <updated>2019-10-03T13:43:32.300Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -1"><a href="#Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -1" class="headerlink" title="Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 1"></a>Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 1</h1><p>QuartzëŠ” ìŠ¤í”„ë§ì—ì„œë„ ì§€ì›í•˜ê³  ìˆì–´ì„œ ìŠ¤í”„ë§ ê¸°ë°˜ í”„ë¡œì íŠ¸ì—ë„ ì‰½ê²Œ í†µí•©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë„ë¦¬ ì‚¬ìš©ë˜ê³  ìˆë‹¤. ê²Œë‹¤ê°€ properties íŒŒì¼ ì„¤ì •ë§Œìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•´ì„œ ë¶€í•˜ ë¶„ì‚° ë° fail-overê°€ ê°€ëŠ¥í•œ ê²ƒë„ ì¥ì ì´ë‹¤.</p><p>Quartzì— ë‚˜ì˜¤ëŠ” ì£¼ìš” ë“±ì¥ ì¸ë¬¼ì— ëŒ€í•œ ì„¤ëª…ì´ë‚˜ ê¸°ë³¸ ì‚¬ìš© ë°©ë²•ì€ ê²€ìƒ‰í•´ë³´ë©´ ë§ì´ ë‚˜ì˜¤ë¯€ë¡œ ì—¬ê¸°ì—ì„œëŠ” ìƒëµí•˜ê³  ì‹¤ì œ ì ìš©í•  ë•Œ í•„ìš”í•œ ì•„í‚¤í…ì²˜ ê°œì„ ì—ë§Œ ì´ˆì ì„ ë§ì¶˜ë‹¤. ê´€ë ¨ ì½”ë“œ ì—­ì‹œ ì£¼ìš” ë¶€ë¶„ë§Œ í‘œì‹œí•˜ë©´ì„œ ì§„í–‰í•œë‹¤.</p><p>OpenJDK 9, ê·¸ë ˆì´ë“¤ 5.6.2, ìŠ¤í”„ë§ë¶€íŠ¸ 2.1.8, ìŠ¤í”„ë§ 5.1.9, Quartz 2.3.1 ê¸°ì¤€ì´ë‹¤.</p><h1 id="Quartz-ì‹¤í–‰-íë¦„"><a href="#Quartz-ì‹¤í–‰-íë¦„" class="headerlink" title="Quartz ì‹¤í–‰ íë¦„"></a>Quartz ì‹¤í–‰ íë¦„</h1><p>Quartz ì‹¤í–‰ íë¦„ì€ ë‹¤ìŒ ê·¸ë¦¼ì— ì˜ ì •ë¦¬ë¼ ìˆë‹¤. ê°„ë‹¨í•˜ê²Œ ìš”ì•½í•˜ë©´ <code>Scheduler</code>ê°€ <code>Job</code>ì˜ ì‹¤í–‰ ì •ë³´ë¥¼ í†µí•´ ì •í•´ì§„ ì‹œê°„ì´ë‚˜ ì •í•´ì§„ ì£¼ê¸°ë¡œ <code>Job</code>ì„ ì‹¤í–‰í•œë‹¤.</p><p><img src="https://i.imgur.com/JB5c5mF.jpg" alt="Imgur"></p><p>ê·¸ë¦¼ ì¶œì²˜: <a href="https://examples.javacodegeeks.com/enterprise-java/quartz/java-quartz-architecture-example/" target="_blank" rel="noopener">https://examples.javacodegeeks.com/enterprise-java/quartz/java-quartz-architecture-example/</a></p><h1 id="ë¬¸ì œ"><a href="#ë¬¸ì œ" class="headerlink" title="ë¬¸ì œ"></a>ë¬¸ì œ</h1><p>ê·¸ë¦¼ì—ì„œ ë³´ë“¯ ì‹¤í–‰ íë¦„ ê´€ì ì—ì„œ ë³´ë©´ <code>Scheduler</code>ê°€ <code>Job</code>ì„ ì‚¬ìš©í•˜ë©° <code>Job</code>ì— ì˜ì¡´í•˜ê³  ìˆë‹¤. í•˜ì§€ë§Œ <code>Scheduler</code>ëŠ” ì‚¬ì‹¤ ìƒ Quartz í”„ë ˆì„ì›Œí¬ ê·¸ ìì²´ë¡œì„œ ì•ˆì •ì ì¸ ëª¨ë“ˆì´ê³ , <code>Job</code>ì€ <code>Scheduler</code>ì— ì˜í•´ ì‹¤í–‰ë  ì‹¤ì œ ì‘ì—…ì— ëŒ€í•œ ë¡œì§ì´ í¬í•¨ë¼ ìˆì–´ ë³€ê²½ ë¹ˆë„ê°€ ë” ë†’ê³ , <code>Job</code> ìì²´ê°€ ì¶”ê°€/ì‚­ì œë˜ëŠ” ì¼ë„ ë¹ˆë²ˆí•˜ë¯€ë¡œ ë¶ˆì•ˆì •í•˜ë‹¤. ì•ˆì •ì ì¸ ëª¨ë“ˆì´ ë¶ˆì•ˆì •í•œ ëª¨ë“ˆì— ì˜ì¡´í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤. Quartz ê°œë°œìë“¤ì´ ì´ëŸ° ì‚¬ì‹¤ì„ ëª¨ë¥¼ ë¦¬ ì—†ë‹¤.</p><p>ê·¸ë˜ì„œ <code>Job</code>ì€ ì‚¬ì‹¤ ì¸í„°í˜ì´ìŠ¤ë‹¤. ê·¸ë¦¬ê³  <code>Scheduler</code>ì— ì˜í•´ ì‹¤í–‰ë˜ëŠ” ì‹¤ì œ ì‘ì—…ë“¤ì€ <code>Job</code> ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ ë“¤ì´ë‹¤. ì¦‰ Quartz ìì²´ëŠ” <code>Scheduler</code>ì™€ <code>Job</code> êµ¬í˜„ì²´ë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆê²Œ ì˜ ì„¤ê³„ë¼ ìˆë‹¤.</p><p>ê·¸ëŸ°ë° ì´ë ‡ê²Œ <strong>ë¶„ë¦¬í•  ìˆ˜ ìˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  <code>Scheduler</code>ì™€ <code>Job</code> ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¥¼ ê°™ì€ ëª¨ë“ˆ ì•ˆì— ë‘ë©´ì„œ ë¬¸ì œê°€ ì‹œì‘ëœë‹¤.</strong> ì‘ì—…ì„ ì¶”ê°€í•˜ë ¤ë©´ ìŠ¤ì¼€ì¤„ëŸ¬ê¹Œì§€ ì¬ë°°í¬ë¥¼ í•´ì•¼ ë˜ë©°, ìŠ¤ì¼€ì¤„ëŸ¬ ì¬ë°°í¬ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ì˜ ì¤‘ë‹¨ì„ ì˜ë¯¸í•˜ë¯€ë¡œ ì‹¤í–‰ë˜ëŠ” ì‘ì—…ì´ ì—†ì„ ë•Œë§Œ ê°€ëŠ¥í•˜ë©°, ë§ì€ ì‘ì—…ì´ ìŠ¤ì¼€ì¤„ë§ ë¼ ìˆë‹¤ë©´ ì¬ë°°í¬ íƒ€ì´ë°ì„ ì¡ê¸°ê°€ ì–´ë ¤ì›Œì§„ë‹¤. ë”°ë¼ì„œ ìŠ¤ì¼€ì¤„ëŸ¬ ë³¸ì²´ì¸ <code>Scheduler</code>ì™€ ì‘ì—… í´ë˜ìŠ¤ì¸ <code>Job</code> êµ¬í˜„ì²´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¦¬í•´ì„œ ë³„ë„ë¡œ ë°°í¬í•  ìˆ˜ ìˆìœ¼ë©´ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/5RHsMzy.png" alt="Imgur"></p><p>í•˜ì§€ë§Œ ì¸í„°ë„·ì—ì„œ ì°¾ì„ ìˆ˜ ìˆëŠ” ëŒ€ë¶€ë¶„ì˜ Quartz ì‚¬ìš©ë²•ì´ë‚˜ ì˜ˆì œëŠ” <code>Scheduler</code>ì™€ <code>Job</code> êµ¬í˜„ì²´ë¥¼ ë™ì¼í•œ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ì— ì¼ì²´í˜•ìœ¼ë¡œ ë¬¶ì–´ë‘” ì•„í‚¤í…ì²˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ê³  ìˆë‹¤. ì•„ë§ˆë„ Quartzì˜ ì‚¬ìš©ë²• ìì²´ì— ì¤‘ì ì„ ë‘ê¸° ë•Œë¬¸ì´ê² ì§€ë§Œ, ì´ìœ ì•¼ ì–´ì°Œëë“  ìë£Œê°€ ê·¸ëŸ¬í•˜ë¯€ë¡œ ê²°êµ­ ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©í•  ë•Œë„ ì¼ì²´í˜•ìœ¼ë¡œ êµ¬ì„±í•˜ëŠ” ê³³ì´ ë§ì€ ê²ƒ ê°™ë‹¤.</p><p>ì´ì œ ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë¶„ë¦¬í•´ì„œ ë³„ë„ë¡œ ë°°í¬í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ê³  í´ë¦° ì•„í‚¤í…ì²˜ì— í•œ ê±¸ìŒ ë‹¤ê°€ê°€ë³´ì. 3ê°€ì§€ ê³ ê°œë¥¼ ë„˜ì–´ì•¼ í•œë‹¤.</p><h1 id="í´ë˜ìŠ¤ë¡œë”©"><a href="#í´ë˜ìŠ¤ë¡œë”©" class="headerlink" title="í´ë˜ìŠ¤ë¡œë”©"></a>í´ë˜ìŠ¤ë¡œë”©</h1><p>ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì‘ì—…ì„ ìŠ¤ì¼€ì¤„í•˜ë ¤ë©´ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë¡œë”©í•˜ê³  ì‹¤í–‰ ì£¼ê¸°ë¥¼ ì§€ì •í•´ì•¼ í•œë‹¤. ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InitRunner</span> <span class="keyword">implements</span> <span class="title">CommandLineRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Scheduler scheduler;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        log.info(<span class="string">"Init Runner executed."</span>);</span><br><span class="line">        JobKey jobKey = JobKey.jobKey(<span class="string">"jobkey1"</span>, <span class="string">"jobgroup1"</span>);</span><br><span class="line">        JobDetail jobDetail = buildJobDetail(jobKey);</span><br><span class="line">        Trigger trigger = buildJobTrigger(jobKey);</span><br><span class="line">        scheduler.scheduleJob(jobDetail, trigger);  <span class="comment">// (1)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> JobDetail <span class="title">buildJobDetail</span><span class="params">(JobKey jobKey)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        JobDataMap jobDataMap = <span class="keyword">new</span> JobDataMap();</span><br><span class="line">        jobDataMap.put(<span class="string">"key1"</span>, <span class="string">"value1"</span>);</span><br><span class="line">        jobDataMap.put(<span class="string">"key2"</span>, <span class="number">2</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> JobBuilder.newJob(SimpleJob.class)  <span class="comment">// (2)</span></span><br><span class="line">                .withIdentity(jobKey)</span><br><span class="line">                .withDescription(<span class="string">"Simple Quartz Job Detail"</span>)</span><br><span class="line">                .usingJobData(jobDataMap)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Trigger <span class="title">buildJobTrigger</span><span class="params">(JobKey jobKey)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> TriggerBuilder.newTrigger()</span><br><span class="line">                .forJob(jobKey)</span><br><span class="line">                .withDescription(<span class="string">"Simple Quartz Job Trigger"</span>)</span><br><span class="line">                .startNow()  <span class="comment">// ìŠ¤ì¼€ì¤„ë§ ë˜ë©´ ë°”ë¡œ ì‹¤í–‰ë˜ëŠ” ë°©ì‹</span></span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleJob</span> <span class="keyword">implements</span> <span class="title">Job</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(JobExecutionContext context)</span> <span class="keyword">throws</span> JobExecutionException </span>&#123;</span><br><span class="line">        log.info(<span class="string">"OOO JOB [&#123;&#125;] executed."</span>, <span class="keyword">this</span>.getClass().getSimpleName());</span><br><span class="line">        JobDataMap mergedJobDataMap = context.getMergedJobDataMap();</span><br><span class="line">        mergedJobDataMap.forEach((k, v) -&gt; log.info(<span class="string">"OOOOO &#123;&#125;: &#123;&#125;"</span>, k, v));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ìŠ¤ì¼€ì¤„ëŸ¬ì— ì˜í•´ ì‹¤í–‰ë˜ëŠ” <code>SimpleJob</code>ì€ ë‹¨ìˆœí•˜ê²Œ <code>JobExecutionContext</code>ì— ë‹´ê²¨ ìˆëŠ” í‚¤-ë°¸ë¥˜ë¥¼ ì¶œë ¥í•œë‹¤.</p><p>(1)ê³¼ ê°™ì´ <code>JobDetail</code>ê³¼ <code>Trigger</code>ë¥¼ <code>Scheduler</code>ì— ì „ë‹¬í•´ì£¼ë©´ ìŠ¤ì¼€ì¤„ë§ ëœë‹¤. ì‹¤í–‰ë  ì‘ì—…ì˜ í´ë˜ìŠ¤ëŠ” (2)ì™€ ê°™ì´ í´ë˜ìŠ¤ ë¦¬í„°ëŸ´ í˜•íƒœë¡œ <code>JobDetail</code>ì— ì§€ì •ëœë‹¤. <code>Trigger</code>ëŠ” í¸ì˜ìƒ (3)ê³¼ ê°™ì´ ë°”ë¡œ ì‹¤í–‰ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§€ì •í–ˆì§€ë§Œ Cron Expression ë“± ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</p><p>ì‹¤í–‰í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ <code>SimpleJob</code>ì´ ì‹¤í–‰ëœë‹¤.</p><p><img src="https://i.imgur.com/XDItlAj.png" alt="Imgur"></p><h2 id="ì»¤ìŠ¤í…€-í´ë˜ìŠ¤ë¡œë”"><a href="#ì»¤ìŠ¤í…€-í´ë˜ìŠ¤ë¡œë”" class="headerlink" title="ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¡œë”"></a>ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¡œë”</h2><p>ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ì¤‘ìš”í•œ ì§€ì ì€ (2)ë‹¤. ì¼ì²´í˜•ì¼ ë•ŒëŠ” ìœ„ì™€ ê°™ì´ ì§ì ‘ <code>SimpleJob.class</code>ë¡œ ì§€ì •í•´ì£¼ë©´ ë˜ì§€ë§Œ, ë¶„ë¦¬ë¼ ìˆë‹¤ë©´ í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ì™¸ë¶€ì—ì„œ ì½ì–´ì™€ì•¼ í•œë‹¤. ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì´ <code>URLClassLoader</code>ë¥¼ í™œìš©í•´ì„œ <code>JOB_REPO</code>ë¡œ ì§€ì •ëœ jar íŒŒì¼ì— ìˆëŠ” ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë¡œë”©í•  ìˆ˜ ìˆëŠ” ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¡œë”ê°€ í•„ìš”í•˜ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RemoteJobClassLoader</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String JOB_REPO = <span class="string">"/tmp/homo-efficio/quartz/remote-job-repo/quartz-job.jar"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; Class&lt;? extends T&gt; loadClass(String name, Class&lt;T&gt; clazz) <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        <span class="keyword">return</span> (Class&lt;? extends T&gt;) getClassLoader().loadClass(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ClassLoader <span class="title">getClassLoader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> URLClassLoader(</span><br><span class="line">                    <span class="keyword">new</span> URL[] &#123;</span><br><span class="line">                            <span class="keyword">new</span> File(JOB_REPO).toURI().toURL()</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="comment">// URLClassLoader ì„¤ì • ì‹œ parentë¥¼ webAppClassLoaderë¡œ ì§€ì •í•´ì¤˜ì•¼</span></span><br><span class="line">                    <span class="comment">// org.quartz.Job ë“± ë‚´ë¶€ ì˜ì¡´ í´ë˜ìŠ¤ ë¡œë”© ê°€ëŠ¥</span></span><br><span class="line">                    <span class="keyword">this</span>.getClass().getClassLoader()</span><br><span class="line">            );</span><br><span class="line">        &#125; <span class="keyword">catch</span> (MalformedURLException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ìë°” í´ë˜ìŠ¤ë¡œë”©ì€ <a href="https://homoefficio.github.io/2018/10/13/Java-í´ë˜ìŠ¤ë¡œë”-í›‘ì–´ë³´ê¸°/">https://homoefficio.github.io/2018/10/13/Java-í´ë˜ìŠ¤ë¡œë”-í›‘ì–´ë³´ê¸°/</a> ì™€ <a href="https://homoefficio.github.io/2018/10/14/Java-URLClassLoaderë¡œ-ì•Œì•„ë³´ëŠ”-í´ë˜ìŠ¤ë¡œë”©/">https://homoefficio.github.io/2018/10/14/Java-URLClassLoaderë¡œ-ì•Œì•„ë³´ëŠ”-í´ë˜ìŠ¤ë¡œë”©/</a> ë¥¼ ë³´ë©´ ë„ì›€ì´ ë  ê²ƒì´ë‹¤.</p><h2 id="ì‘ì—…-í´ë˜ìŠ¤-ì™¸ë¶€í™”"><a href="#ì‘ì—…-í´ë˜ìŠ¤-ì™¸ë¶€í™”" class="headerlink" title="ì‘ì—… í´ë˜ìŠ¤ ì™¸ë¶€í™”"></a>ì‘ì—… í´ë˜ìŠ¤ ì™¸ë¶€í™”</h2><p>ì´ì œ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ì™¸ë¶€ë¡œ ë¶„ë¦¬í•´ë³´ì. ì§€ê¸ˆê¹Œì§€ ë§Œë“  íŒŒì¼ì€ ëª¨ë‘ <code>quartz-scheduler</code>ì— ìˆê³ , ìƒˆë¡œ <code>quartz-job</code> ëª¨ë“ˆì„ ë§Œë“¤ì–´ì„œ ì‘ì—… í´ë˜ìŠ¤ëŠ” ëª¨ë‘ ì´ ëª¨ë“ˆì— ë‘”ë‹¤.</p><p><img src="https://i.imgur.com/4BFS4lx.png" alt="Imgur"></p><p><code>quartz-job</code> ëª¨ë“ˆì˜ <code>build.gradle</code> íŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•œë‹¤. jar íŒŒì¼ì„ <code>RemoteJobClassLoader</code>ê°€ ì½ì„ ìˆ˜ ìˆëŠ” ìœ„ì¹˜ì— ë°°í¬í•˜ëŠ” <code>deployJar</code> íƒœìŠ¤í¬ë¥¼ ì¶”ê°€í–ˆë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id &apos;java&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">version &apos;unspecified&apos;</span><br><span class="line"></span><br><span class="line">sourceCompatibility = &apos;9&apos;</span><br><span class="line"></span><br><span class="line">repositories &#123;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    compileOnly &apos;org.projectlombok:lombok:1.18.8&apos;</span><br><span class="line">    annotationProcessor &apos;org.projectlombok:lombok:1.18.8&apos;</span><br><span class="line">    compile group: &apos;org.quartz-scheduler&apos;, name: &apos;quartz&apos;, version: &apos;2.3.1&apos;</span><br><span class="line">    compile group: &apos;org.springframework&apos;, name: &apos;spring-context-support&apos;, version: &apos;5.1.9.RELEASE&apos;</span><br><span class="line"></span><br><span class="line">    testCompile group: &apos;junit&apos;, name: &apos;junit&apos;, version: &apos;4.12&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">task deployJar(type: Copy) &#123;</span><br><span class="line">    dependsOn(&apos;jar&apos;)</span><br><span class="line">    from &quot;$buildDir/libs/quartz-job.jar&quot;</span><br><span class="line">    into &quot;/tmp/homo-efficio/quartz/remote-job-repo/&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì•„ê¹Œ ë‚˜ì™”ë˜ <code>SimpleJob</code>ê³¼ ê±°ì˜ ë™ì¼í•œ ë‚´ìš©ì˜ <code>RemoteSimpleJob</code> í´ë˜ìŠ¤ë¥¼ <code>quartz-job</code> ì•„ë˜ì— ë§Œë“ ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RemoteSimpleJob</span> <span class="keyword">implements</span> <span class="title">Job</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(JobExecutionContext context)</span> <span class="keyword">throws</span> JobExecutionException </span>&#123;</span><br><span class="line">        log.info(<span class="string">"OOO REMOTE JOB [&#123;&#125;] executed."</span>, <span class="keyword">this</span>.getClass().getSimpleName());</span><br><span class="line">        JobDataMap mergedJobDataMap = context.getMergedJobDataMap();</span><br><span class="line">        mergedJobDataMap.forEach((k, v) -&gt; log.info(<span class="string">"OOOOO &#123;&#125;: &#123;&#125;"</span>, k, v));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì‘ì—… ìŠ¤ì¼€ì¤„ë§ í•˜ëŠ” ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ <code>RemoteJobClassLoader</code>ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë¡œë”©í•˜ë„ë¡ ë°”ê¾¼ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InitRunner</span> <span class="keyword">implements</span> <span class="title">CommandLineRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Scheduler scheduler;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RemoteJobClassLoader remoteJobClassLoader;  <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        log.info(<span class="string">"Init Runner executed."</span>);</span><br><span class="line">        JobKey jobKey = JobKey.jobKey(<span class="string">"jobkey1"</span>, <span class="string">"jobgroup1"</span>);</span><br><span class="line">        JobDetail jobDetail = buildJobDetail(jobKey);</span><br><span class="line">        Trigger trigger = buildJobTrigger(jobKey);</span><br><span class="line">        scheduler.scheduleJob(jobDetail, trigger);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> JobDetail <span class="title">buildJobDetail</span><span class="params">(JobKey jobKey)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        JobDataMap jobDataMap = <span class="keyword">new</span> JobDataMap();</span><br><span class="line">        jobDataMap.put(<span class="string">"key1"</span>, <span class="string">"value1"</span>);</span><br><span class="line">        jobDataMap.put(<span class="string">"key2"</span>, <span class="number">2</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ì—¬ê¸°!!</span></span><br><span class="line"><span class="comment">//        return JobBuilder.newJob(SimpleJob.class)</span></span><br><span class="line">        <span class="keyword">return</span> JobBuilder.newJob(remoteJobClassLoader.loadClass(<span class="string">"io.homo_efficio.quartz.job.RemoteSimpleJob"</span>, Job.class))</span><br><span class="line">                .withIdentity(jobKey)</span><br><span class="line">                .withDescription(<span class="string">"Simple Quartz Job Detail"</span>)</span><br><span class="line">                .usingJobData(jobDataMap)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Trigger <span class="title">buildJobTrigger</span><span class="params">(JobKey jobKey)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> TriggerBuilder.newTrigger()</span><br><span class="line">                .forJob(jobKey)</span><br><span class="line">                .withDescription(<span class="string">"Simple Quartz Job Trigger"</span>)</span><br><span class="line">                .startNow()</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì´ì œ ë‹¤ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¦¬ëœ ë³„ë„ì˜ jar íŒŒì¼ì—ì„œ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë¡œë”©í•´ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/gF10uft.png" alt="Imgur"></p><p>ìŠ¤ì¼€ì¤„ëŸ¬ìª½ì—ì„œ <code>io.homo_efficio.quartz.job.RemoteSimpleJob</code>ì™€ ê°™ì´ ì™¸ë¶€ jarì— ìˆëŠ” ì‘ì—… í´ë˜ìŠ¤ ìœ„ì¹˜ë¥¼ ë¬¸ìì—´ë¡œ ì§ì ‘ ì°¸ì¡°í•˜ê³  ìˆì–´ì„œ ë§ˆì¹˜ ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆ(quartz-scheduler)ì´ ì‘ì—… ëª¨ë“ˆ(quartz-job)ì— ì˜ì¡´í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” ì‘ì—… í´ë˜ìŠ¤ ìœ„ì¹˜ë‚˜ ì‹¤í–‰ ì£¼ê¸° ì •ë³´ë¥¼ DBì—ì„œ ì½ì–´ì˜¤ë¯€ë¡œ ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” <strong>ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆì€ ì‘ì—… í´ë˜ìŠ¤ ëª¨ë“ˆì„ ëª¨ë¥¸ë‹¤. ë”°ë¼ì„œ ì´ì œë¶€í„°ëŠ” <code>RemoteJob2</code>, <code>RemoteJob3</code> ë“±ì„ ì¶”ê°€í•˜ë”ë¼ë„ <code>quartz-job.jar</code>ë§Œ ë¹Œë“œ/ë°°í¬í•˜ë©´ ë˜ë©°, ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” ì¬ë°°í¬í•  í•„ìš”ê°€ ì—†ëŠ” êµ¬ì¡°ê°€ ë§Œë“¤ì–´ì¡Œë‹¤.</strong></p><p>ì´ë ‡ê²Œ í•´ì„œ ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ëŠ”ë° ì„±ê³µí–ˆë‹¤. ì–´ë µì§€ ì•Šë‹¤. </p><p>ê·¸ëŸ°ë° ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì‘ì—… í´ë˜ìŠ¤ë“¤ì´ <code>RemoteSimpleJob</code>ì²˜ëŸ¼ ë‹¨ìˆœí• ë¦¬ëŠ” ì—†ë‹¤. DB ì‘ì—…ë„ ìˆì„ ê²ƒì´ê³  í•˜ë‘¡ ì¸í”„ë¼ì™€ ê´€ë ¨í•œ ì‘ì—…ë„ ìˆì„ ê²ƒì´ë‹¤. ì´ëŸ° ê²ƒë“¤ì´ ê°€ëŠ¥í•˜ë ¤ë©´ ìŠ¤ì¼€ì¤„ëŸ¬ ìª½ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ <code>@Autowire</code>ë¡œ ì£¼ì… ë°›ì•„ì•¼ í•˜ëŠ”ë°, ì§€ê¸ˆì²˜ëŸ¼ ëŸ°íƒ€ì„ì— ë¡œë”©ë˜ëŠ” ë°©ì‹ì—ì„œë„ ê°€ëŠ¥í• ê¹Œ?</p><p>ì²«ë²ˆì§¸ ê³ ê°œë§Œìœ¼ë¡œë„ ì–‘ì´ ì œë²•ë˜ë‹ˆ ì¼ë‹¨ ì—¬ê¸°ì„œ 1íƒ„ì„ ë§ˆë¬´ë¦¬í•˜ê³  <code>@Autowire</code>ëŠ” <a href="https://homoefficio.github.io/2019/09/29/Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -2/">2íƒ„</a>ì—ì„œ ë‹¤ë£¬ë‹¤.</p><h1 id="ì •ë¦¬"><a href="#ì •ë¦¬" class="headerlink" title="ì •ë¦¬"></a>ì •ë¦¬</h1><blockquote><ul><li><p>ìŠ¤ì¼€ì¤„ë§ì„ ë‹´ë‹¹í•˜ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì‹¤í–‰ë˜ëŠ” ì‘ì—…ì€ ë³€ê²½ ì£¼ê¸°ê°€ ë‹¤ë¥´ë‹¤. ê·¸ëŸ°ë° ì´ë¥¼ í•œ ê³³ì— ëª¨ì•„ ì¼ì²´í˜•ìœ¼ë¡œ êµ¬ì„±í•˜ë©´ ìš´ì˜ì´ ë§¤ìš° ë¶ˆí¸í•´ì§„ë‹¤.</p></li><li><p>QuartzëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì‘ì—…ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì–´ ìˆë‹¤.</p></li><li><p>ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë³„ë„ì˜ jarë¡œ ë¬¶ê³ , ìŠ¤ì¼€ì¤„ëŸ¬ ìª½ì—ì„œ <code>URLClassLoader</code>ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì—… í´ë˜ìŠ¤ë¥¼ ë¡œë”©í•˜ë„ë¡ ê°œì„ í•˜ë©´ ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì‘ì—… í´ë˜ìŠ¤ì˜ ë°°í¬ë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆì–´ ìš´ì˜ ë¶€ë‹´ì„ ëŒ€í­ ì¤„ì¼ ìˆ˜ ìˆë‹¤.</p></li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -1&quot;&gt;&lt;a href=&quot;#Quartz-ìŠ¤ì¼€ì¤„ëŸ¬-ì ìš©-ì•„í‚¤í…ì²˜-ê°œì„ -1&quot; class=&quot;headerlink&quot; title=&quot;Quartz ìŠ¤ì¼€ì¤„ëŸ¬ ì ìš© ì•„í‚¤í…ì²˜ ê°œì„  - 1&quot;&gt;&lt;/a&gt;Quartz ìŠ¤ì¼€ì¤„ëŸ¬ 
      
    
    </summary>
    
      <category term="Technique" scheme="http://homoefficio.github.io/categories/Technique/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="ìë°”" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94/"/>
    
      <category term="Quartz" scheme="http://homoefficio.github.io/tags/Quartz/"/>
    
      <category term="Scheduler" scheme="http://homoefficio.github.io/tags/Scheduler/"/>
    
      <category term="Clean Architecture" scheme="http://homoefficio.github.io/tags/Clean-Architecture/"/>
    
      <category term="Interface Segregation Principle" scheme="http://homoefficio.github.io/tags/Interface-Segregation-Principle/"/>
    
      <category term="Dependency Inversion Principle" scheme="http://homoefficio.github.io/tags/Dependency-Inversion-Principle/"/>
    
      <category term="Isolation" scheme="http://homoefficio.github.io/tags/Isolation/"/>
    
      <category term="ì¿¼ì¸ " scheme="http://homoefficio.github.io/tags/%EC%BF%BC%EC%B8%A0/"/>
    
      <category term="ìŠ¤ì¼€ì¤„ëŸ¬" scheme="http://homoefficio.github.io/tags/%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC/"/>
    
      <category term="í´ë¦° ì•„í‚¤í…ì²˜" scheme="http://homoefficio.github.io/tags/%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/"/>
    
      <category term="ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™" scheme="http://homoefficio.github.io/tags/%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4-%EB%B6%84%EB%A6%AC-%EC%9B%90%EC%B9%99/"/>
    
      <category term="ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™" scheme="http://homoefficio.github.io/tags/%EC%9D%98%EC%A1%B4%EA%B4%80%EA%B3%84-%EC%97%AD%EC%A0%84-%EC%9B%90%EC%B9%99/"/>
    
      <category term="ê²©ë¦¬" scheme="http://homoefficio.github.io/tags/%EA%B2%A9%EB%A6%AC/"/>
    
  </entry>
  
  <entry>
    <title>ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ê³¼ ë©”ì‹œì§•</title>
    <link href="http://homoefficio.github.io/2019/07/04/%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EA%B3%BC-%EB%A9%94%EC%8B%9C%EC%A7%95/"/>
    <id>http://homoefficio.github.io/2019/07/04/ê°ì²´-ì§€í–¥-í”„ë¡œê·¸ë˜ë°ê³¼-ë©”ì‹œì§•/</id>
    <published>2019-07-03T15:14:58.000Z</published>
    <updated>2019-11-23T14:23:38.887Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ê°ì²´-ì§€í–¥-í”„ë¡œê·¸ë˜ë°ê³¼-ë©”ì‹œì§•"><a href="#ê°ì²´-ì§€í–¥-í”„ë¡œê·¸ë˜ë°ê³¼-ë©”ì‹œì§•" class="headerlink" title="ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ê³¼ ë©”ì‹œì§•"></a>ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ê³¼ ë©”ì‹œì§•</h1><p>ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ ë©”ì‹œì§•ì´ë€ ë¬´ì–¼ ë§í•˜ëŠ” ê±¸ê¹Œ? ì‰½ê²ŒëŠ” ê·¸ëƒ¥ ë©”ì„œë“œ í˜¸ì¶œì´ë¼ê³  ìƒê°í•´ë„ ë  ê²ƒ ê°™ê¸´ í•˜ì§€ë§Œ ê·¸ê²ƒë§Œì„ ì˜ë¯¸í•˜ëŠ” ê²ƒ ê°™ì§€ëŠ” ì•Šë‹¤. ê·¸ëŸ¼ ë„ëŒ€ì²´ ë­˜ê¹Œ?</p><h2 id="ì›ì¡°ì—ê²Œ-ë°°ìš°ì-ì•¨ëŸ°-ì¼€ì´"><a href="#ì›ì¡°ì—ê²Œ-ë°°ìš°ì-ì•¨ëŸ°-ì¼€ì´" class="headerlink" title="ì›ì¡°ì—ê²Œ ë°°ìš°ì. ì•¨ëŸ° ì¼€ì´"></a>ì›ì¡°ì—ê²Œ ë°°ìš°ì. ì•¨ëŸ° ì¼€ì´</h2><p><code>Object-Oriented</code>ë¼ëŠ” ë§ì„ ì²˜ìŒ ì‚¬ìš©í•œ ê²ƒìœ¼ë¡œ ì•Œë ¤ì§„ ì‚¬ëŒì€ ì•¨ëŸ° ì¼€ì´ë‹¤. <a href="http://www.purl.org/stefan_ram/pub/doc_kay_oop_en" target="_blank" rel="noopener">ì•¨ëŸ° ì¼€ì´ì—ê²Œ OOPë€?</a>ì„ ë³´ë©´ ëë¶€ë¶„ì— ë‹¤ìŒê³¼ ê°™ì€ ê¸€ì´ ë‚˜ì˜¨ë‹¤.</p><blockquote><p>OOP to me means only messaging, local retention and protection and<br>hiding of state-process, and extreme late-binding of all things.</p></blockquote><p>ìš°ë¦¬ë§ë¡œëŠ” ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì´ ì˜®ê¸¸ ìˆ˜ ìˆê² ë‹¤.</p><blockquote><p>ë‚´ê²Œ OOPë€ ì˜¤ì§ ë‹¤ìŒ 3ê°€ì§€ë¥¼ ì˜ë¯¸í•œë‹¤.  </p><ul><li>ë©”ì‹œì§€ë¥¼ ì£¼ê³  ë°›ëŠ” ê²ƒ  </li><li>ìƒíƒœ ì²˜ë¦¬ê°€ ë¡œì»¬ ë²”ìœ„ ë‚´ì—ì„œë§Œ ë‹¤ë¤„ì§€ë„ë¡ ìœ ì§€í•˜ê³  ìƒíƒœ ì²˜ë¦¬ë¥¼ (ì™¸ë¶€ë¡œë¶€í„°) ë³´í˜¸í•˜ê³  ìˆ¨ê¸°ëŠ” ê²ƒ  </li><li>ëª¨ë“  ê²ƒì— ëŒ€í•œ ê·¹ë‹¨ì ì¸ late-binding (ë˜ëŠ” ëª¨ë“  ê²ƒì´ ê°€ëŠ¥í•œ ê°€ì¥ ëŠ¦ì€ ì‹œì ì— ê²°ì •ë˜ëŠ” ê²ƒ)</li></ul></blockquote><p>ì—¬ê¸°ì„œ ì²« ë²ˆì§¸ ê¼½ëŠ” messagingì´ ë­”ì§€ ì˜ ëª¨ë¥´ê² ë‹¤. ê·¸ë˜ì„œ ë” ì°¾ì•„ë³´ë‹ˆ â€˜ì•¨ëŸ° ì¼€ì´ì—ê²Œ OOPë€?â€™ì— ì´ì–´ <a href="http://wiki.c2.com/?AlanKayOnMessaging" target="_blank" rel="noopener">ì•¨ëŸ° ì¼€ì´ì—ê²Œ ë©”ì‹œì§•ì´ë€?</a>ë„ ìˆì—ˆë‹¤.</p><blockquote><p>The big idea is â€œmessagingâ€ - that is what the kernal of Smalltalk/Squeak<br>is all about (and itâ€™s something that was never quite completed in our<br>Xerox PARC phase). The Japanese have a small word - ma - for â€œthat which<br>is in betweenâ€ - perhaps the nearest English equivalent is â€œinterstitialâ€.<br>The key in making great and growable systems is much more to design how its<br>modules communicate rather than what their internal properties and<br>behaviors should be.</p></blockquote><p>ëŒ€ì¶© ì¤„ì—¬ì„œ ì˜ì—­í•˜ë©´ ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì€ ëœ»ì´ë‹¤.</p><blockquote><p>ì¤‘ìš”í•œ ê±´ (objectë¼ê¸°ë³´ë‹¤ëŠ”) ë©”ì‹œì§•ì´ì—ˆê³ , ëª¨ë“ˆ ë‚´ì˜ ì†ì„± ë° ë™ì‘ë³´ë‹¤ ëª¨ë“ˆ ê°„ì˜ ì˜ì‚¬ì†Œí†µì„ ì˜ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì„±ì¥ ê°€ëŠ¥í•œ í›Œë¥­í•œ ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ë° í›¨ì”¬ ë” ì¤‘ìš”í•˜ë‹¤.</p></blockquote><p>ì—¬ê¸°ì—ì„œë„ ë©”ì‹œì§•ì´ ì¤‘ìš”í•˜ë‹¤ëŠ” ê±´ ì•Œê² ì§€ë§Œ, ê·¸ë˜ì„œ ë©”ì‹œì§•ì´ ì •í™•í•˜ê²Œ ë˜ëŠ” êµ¬ì²´ì ìœ¼ë¡œ ë­˜ ì˜ë¯¸í•˜ëŠ”ì§€ì— ëŒ€í•œ ì–˜ê¸°ëŠ” ìœ„ ê¸€ ì „ì²´ë¥¼ ì½ì–´ë´ë„ ì•ˆ ë‚˜ì˜¨ë‹¤. ì•„ë‹ˆ ì•ˆ ë‚˜ì˜¨ë‹¤ê³  ë‹¨ì •í•˜ê¸´ ì–´ë µê³  ë‚´ ìˆ˜ì¤€ì—ì„œëŠ” ì•ˆ ë³´ì¸ë‹¤. </p><h2 id="ì‘ì-ë¯¸ìƒì˜-ëª…ì–¸"><a href="#ì‘ì-ë¯¸ìƒì˜-ëª…ì–¸" class="headerlink" title="ì‘ì ë¯¸ìƒì˜ ëª…ì–¸"></a>ì‘ì ë¯¸ìƒì˜ ëª…ì–¸</h2><p>ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì˜ ì˜ë¯¸ëŠ” ì•„ë¬´ë˜ë„ ê·¸ ìš©ì–´ë¥¼ ì²˜ìŒ ì“´ ì•¨ëŸ° ì¼€ì´ê°€ í•œ ë§ì´ ê°€ì¥ ì •í™•í•˜ê² ì§€ë§Œ, ë¶€ë¶„ì ì´ë‚˜ë§ˆ ê°€ì¥ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆê²Œ í•´ì¤€ ë§ì€ ë°”ë¡œ ì´ê±°ë‹¤.</p><blockquote><p><strong>ê°ì²´ì—ê²Œ ë°ì´í„°ë¥¼ ìš”êµ¬í•˜ì§€ ë§ê³  ì‘ì—…ì„ ìš”ì²­í•˜ë¼.</strong></p></blockquote><p>ëˆ„ê°€ í•œ ì–˜ê¸°ì¸ì§€ëŠ” ëª¨ë¥´ì§€ë§Œ ë‚˜ëŠ” í† ë¹„ì˜ ìŠ¤í”„ë§ì—ì„œ ì € ë§ì„ ì²˜ìŒ ë´¤ëŠ”ë°, ì±…ì„ ë´ë„ ë‚´ìš©ì„ ê±°ì˜ ê¸°ì–µ ëª» í•˜ëŠ” ë‡Œë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ ì € ë§ë§Œì€ ìŠíˆì§€ ì•Šì•˜ë‹¤. ì € ë§ì€ ì•¨ëŸ° ì¼€ì´ê°€ ì§šì–´ì¤€ 3ê°€ì§€ ì¤‘ì—ì„œ 1ê³¼ 2ë¥¼ í¬ê´„í•œë‹¤ê³  ìƒê°í•œë‹¤.</p><h2 id="ê±°ì¸ì˜-ì–´ê¹¨-ìœ„ì—ì„œ"><a href="#ê±°ì¸ì˜-ì–´ê¹¨-ìœ„ì—ì„œ" class="headerlink" title="ê±°ì¸ì˜ ì–´ê¹¨ ìœ„ì—ì„œ"></a>ê±°ì¸ì˜ ì–´ê¹¨ ìœ„ì—ì„œ</h2><p>ê·¸ë˜ì„œ ìœ„ 3ê°€ì§€ ê¸€ì„ ê·¼ê±°ë¡œ ë©”ì‹œì§•ì— ëŒ€í•œ ë‚´ ë‚˜ë¦„ì˜ ì •ì˜ë¥¼ ë‚´ë ¤ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><blockquote><p><strong>ë©”ì‹œì§•ì€ ë°ì´í„°ë¥¼ ìš”êµ¬í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œì´ ì•„ë‹ˆë¼ ì‘ì—…ì„ ìš”ì²­í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œì„ ì˜ë¯¸í•œë‹¤.</strong></p></blockquote><p>ì´ê²ƒë§ˆì €ë„ ì¡°ê¸ˆ ëª¨í˜¸í•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ì‰½ê²Œ í’€ì–´ ì¨ë³´ì.</p><h3 id="ëŒ€í•™-ì…ì‹œ-ì›ì„œ-ì ‘ìˆ˜-ì‚¬ë¡€"><a href="#ëŒ€í•™-ì…ì‹œ-ì›ì„œ-ì ‘ìˆ˜-ì‚¬ë¡€" class="headerlink" title="ëŒ€í•™ ì…ì‹œ ì›ì„œ ì ‘ìˆ˜ ì‚¬ë¡€"></a>ëŒ€í•™ ì…ì‹œ ì›ì„œ ì ‘ìˆ˜ ì‚¬ë¡€</h3><p>ëŒ€í•™ ì…ì‹œ ì›ì„œ ì ‘ìˆ˜ë¼ëŠ” ìƒí™©ì„ ìƒê°í•´ë³´ì. ì¼ë°˜ì ìœ¼ë¡œëŠ” ì§€ì›ìì˜ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì§€ë§Œ, ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ê°€ ì—†ëŠ” ì™¸êµ­ì¸ ì§€ì›ìëŠ” ë¹„ì ë²ˆí˜¸ë¥¼ í™•ì¸í•œë‹¤ê³  í•˜ì.</p><p>ì¼ë°˜ì ì¸ ë‚´êµ­ì¸ ì§€ì›ìëŠ” ì¼ë°˜ ì „í˜•ì„ í†µí•´ ëª¨ì§‘í•œë‹¤ê³  í•˜ê³ , ì½”ë“œë¥¼ â€˜Aâ€™ë¼ê³  í•˜ì. ì™¸êµ­ì¸ ì§€ì›ìëŠ” ì™¸êµ­ì¸ ì „í˜•ì„ í†µí•´ ëª¨ì§‘í•œë‹¤ê³  í•˜ê³ , ì½”ë“œë¥¼ â€˜Fâ€™ë¼ê³  í•˜ì. ì§€ì› ì •ë³´ëŠ” <code>application</code>ì— ë‹´ê²¨ìˆë‹¤ê³  í•˜ë©´, ëŒ€ëµ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œê°€ ë‚˜ì˜¬ ê²ƒ ê°™ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì „í˜• íƒ€ì…ì´ë¼ëŠ” ë°ì´í„°ë¥¼ application ê°ì²´ì—ê²Œ ìš”ì²­í•˜ê³ ,</span></span><br><span class="line">String admissionType = application.getAdmissionType();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì™¸êµ­ì¸ ì „í˜• ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³  ë¹„ìë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">"F"</span>.equals(admissionType))</span><br><span class="line">    verifyVisaNumber(application.getVisaNumber());</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ì´ì œ ì „í˜•ì„ ì „ê¸°ì™€ í›„ê¸°ë¡œ ë‚˜ëˆ„ì–´ ì¼ ë…„ì— ë‘ ë²ˆ ì ‘ìˆ˜ë¥¼ ë°›ë„ë¡ ì •ì±…ì´ ë°”ë€Œì—ˆë‹¤. ë”°ë¼ì„œ ì™¸êµ­ì¸ ì „í˜•ë„ ì „ê¸° ì „í˜•ì€ ê¸°ì¡´ëŒ€ë¡œ â€˜Fâ€™ ì½”ë“œë¥¼ ì“°ê³ , í›„ê¸° ì „í˜•ì€ â€˜Gâ€™ ì½”ë“œë¥¼ ì“°ê²Œ ë˜ì—ˆë‹¤. ê·¸ëŸ¼ ê¸°ì¡´ì˜ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ë˜ì–´ì•¼ í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì „í˜• íƒ€ì…ì´ë¼ëŠ” ë°ì´í„°ë¥¼ application ê°ì²´ì—ê²Œ ìš”ì²­í•˜ê³ ,</span></span><br><span class="line">String admissionType = application.getAdmissionType();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¶”ê°€ëœ ì½”ë“œë¥¼ ë°˜ì˜í•˜ê¸° ìœ„í•´ ì†ŒìŠ¤ë¥¼ ë³€ê²½í•œë‹¤.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">"F"</span>.equals(admissionType) </span><br><span class="line">    || <span class="string">"G"</span>.equals(admissionType))  <span class="comment">// í›„ê¸° ì „í˜• ì¶”ê°€</span></span><br><span class="line">    verifyVisaNumber(application.getVisaNumber());</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ì´ì   ì „ê¸°, í›„ê¸° ë¿ì•„ë‹ˆë¼ ìˆ˜ì‹œ ì „í˜•ì´ ì¶”ê°€ë˜ì—ˆë‹¤. ì™¸êµ­ì¸ ìˆ˜ì‹œ ì „í˜• ì½”ë“œëŠ” â€˜Hâ€™ë¥¼ ì“°ê²Œ ë˜ì—ˆë‹¤. ì½”ë“œê°€ ë˜ ë°”ë€Œì–´ì•¼ í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì „í˜• íƒ€ì…ì´ë¼ëŠ” ë°ì´í„°ë¥¼ application ê°ì²´ì—ê²Œ ìš”ì²­í•˜ê³ ,</span></span><br><span class="line">String admissionType = application.getAdmissionType();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¶”ê°€ëœ ì½”ë“œë¥¼ ë°˜ì˜í•˜ê¸° ìœ„í•´ ì†ŒìŠ¤ë¥¼ ë³€ê²½í•œë‹¤.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">"F"</span>.equals(admissionType)</span><br><span class="line">    || <span class="string">"G"</span>.equals(admissionType)   <span class="comment">// í›„ê¸° ì „í˜• ì¶”ê°€</span></span><br><span class="line">    || <span class="string">"H"</span>.equals(admissionType))  <span class="comment">//// ìˆ˜ì‹œ ì „í˜• ì¶”ê°€</span></span><br><span class="line">    verifyVisaNumber(application.getVisaNumber());</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ìš”êµ¬ì‚¬í•­ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê¸°ì¡´ ì½”ë“œì—ë„ ë³€ê²½ì´ í•„ìš”í•˜ë‹¤. ì´ ì •ë„ì˜ ë³€ê²½ì´ë¼ë©´ ê·¸ëƒ¥ í•´ì¤„ ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œ, ì™¸êµ­ì¸ ì „í˜• ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ì½”ë“œê°€ ìœ„ì™€ ê°™ì´ ë‹¨ í•œ êµ°ë°ë§Œ ì¡´ì¬í• ê¹Œ? ê·¸ë ‡ì§€ ì•Šë‹¤. ì™¸êµ­ì¸ ì§€ì›ìëŠ” ë³¸êµ­ì˜ ë¹„ìƒì—°ë½ì²˜ë„ í•„ìš”í•˜ê³ , ì˜ì–´ ì„±ì ì´ ë©´ì œë  ìˆ˜ë„ ìˆëŠ” ë“± ì™¸êµ­ì¸ ì „í˜• ì—¬ë¶€ í™•ì¸ ë¡œì§ì€ ì•„ë§ˆ ê½¤ ì—¬ëŸ¬êµ°ë° ë“±ì¥í•  ê²ƒì´ë‹¤. </p><p>ê·¸ë¦¬ê³  ìì£¼ ë°œìƒí•˜ì§€ëŠ” ì•Šê² ì§€ë§Œ ì½”ë“œê°€ â€˜Fâ€™, â€˜Gâ€™, â€˜Hâ€™ê°€ ì•„ë‹ˆë¼ â€˜F1â€™, â€˜F2â€™, â€˜F0â€™ ì´ë ‡ê²Œ ë°”ë€ë‹¤ë©´? ì „ê¸°, í›„ê¸°, ìˆ˜ì‹œ ì „í˜•ì— ë˜ ì¡°ê¸° ì „í˜•ì´ ì¶”ê°€ëœë‹¤ë©´? ë³€ê²½ì€ ì•„ì£¼ ê³ ë‹¬í”Œ ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ë³€ê²½ì´ ì•„ë‹ˆë”ë¼ë„ â€˜Fâ€™, â€˜Gâ€™, â€˜Hâ€™ê°€ ê°ê° ì–´ë–¤ ì „í˜•ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì´ ì½”ë“œë§Œ ë´ì„œëŠ” ì•Œ ìˆ˜ ì—†ì–´ ë¶ˆí¸í•˜ê¸°ë„ í•˜ë‹¤.</p><p>ì´ë ‡ê²Œ <code>application</code> ê°ì²´ì—ê²Œ <code>admissionType</code>ì´ë¼ëŠ” <strong>ë°ì´í„°ë¥¼ ìš”êµ¬í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì€ ìœ ì§€ê´€ë¦¬ê°€ ê´´ë¡­ë‹¤</strong>ëŠ” ë‹¨ì ì´ ìˆë‹¤. ê·¸ëŸ¼ ì‘ì ë¯¸ìƒì˜ ëª…ì–¸ì²˜ëŸ¼ ë°ì´í„°ë¥¼ ìš”êµ¬í•˜ì§€ ì•Šê³  ì‘ì—…ì„ ìš”ì²­í•˜ë©´ ì–´ë–»ê²Œ ë‹¬ë¼ì§ˆê¹Œ?</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ê¸°ì¡´ ì½”ë“œ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// ì „í˜• íƒ€ì…ì´ë¼ëŠ” ë°ì´í„°ë¥¼ application ê°ì²´ì—ê²Œ ìš”ì²­í•˜ê³ ,</span></span><br><span class="line"><span class="comment">String admissionType = application.getAdmissionType();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// ì™¸êµ­ì¸ ì „í˜• ì—¬ë¶€ë¥¼ í™•ì¸í•œë‹¤.</span></span><br><span class="line"><span class="comment">if ("F".equals(admissionType))</span></span><br><span class="line"><span class="comment">    verifyVisaNumber(application.getVisaNumber());</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="comment">// application ê°ì²´ì—ê²Œ </span></span><br><span class="line"><span class="comment">// ì „í˜• íƒ€ì…ì´ë¼ëŠ” ë°ì´í„°ë¥¼ ìš”êµ¬í•˜ì§€ ë§ê³ ,</span></span><br><span class="line"><span class="comment">// ì™¸êµ­ì¸ ì „í˜• ì—¬ë¶€ í™•ì¸ì´ë¼ëŠ” ì‘ì—…ì„ ìš”ì²­í•˜ì.</span></span><br><span class="line"><span class="keyword">if</span> (application.isForeignAdmission())  <span class="comment">// &lt;-- ë°”ë¡œ ì´ë ‡ê²Œ</span></span><br><span class="line">    verifyVisaNumber(application.getVisaNumber());</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ìœ„ ì½”ë“œì—ì„œ <code>application.isForeignAdmission()</code>ëŠ” <strong>ë‹¨ìˆœíˆ ì™¸êµ­ì¸ ì „í˜• ì½”ë“œë¼ëŠ” ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²Œ ì•„ë‹ˆë¼ ì™¸êµ­ì¸ ì „í˜• ì—¬ë¶€ í™•ì¸ì´ë¼ëŠ” ì‘ì—…ì„ ìš”ì²­í•˜ê³  ìˆë‹¤.</strong> ê·¸ë¦¬ê³  <code>isForeignAdmission()</code>ì€ ì™¸êµ­ì¸ ì „í˜• ì—¬ë¶€ í™•ì¸ì´ë¼ëŠ” <strong>ìƒíƒœ ì²˜ë¦¬ë¥¼ ë¡œì»¬ì—ì„œ ìˆ˜í–‰í•˜ê³  ì™¸ë¶€ë¡œë¶€í„° ë³´í˜¸í•˜ê³  ìˆ¨ê¸°ê³  ìˆë‹¤.</strong> </p><p>ë§ì´ ë“¤ì–´ë³¸ ì–˜ê¸° ì•„ë‹Œê°€? ë°”ë¡œ ì•¨ëŸ° ì¼€ì´ê°€ ê°•ì¡°í–ˆë˜ 3ê°€ì§€ ì¤‘ 2ë²ˆ í•­ëª©ì´ë‹¤. ì´ë ‡ê²Œ ì‘ì—…ì„ ìš”ì²­í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë°”ê¾¸ê³  ë‚˜ë‹ˆ ì™¸êµ­ì¸ ì „í˜•ì´ í›„ê¸°, ìˆ˜ì‹œë¡œ ì¶”ê°€ëœë‹¤ í•˜ë”ë¼ë„ <code>isForeignAdmission()</code>ì˜ <strong>ë‚´ë¶€ êµ¬í˜„ë§Œ ë°”ë€”ë¿ ì‘ì—…ì„ ìš”ì²­í•˜ëŠ” <code>application.isForeignAdmission()</code> ì´ ì½”ë“œëŠ” ë°”ë€” í•„ìš”ê°€ ì—†ë‹¤.</strong> <strong>ë”°ë¼ì„œ ë‚´ë¶€ êµ¬í˜„ë„ â€˜Fâ€™, â€˜Gâ€™, â€˜Hâ€™ ê°™ì€ ë¬¸ì ì½”ë“œ ëŒ€ì‹  <code>enum</code>ì„ ì“°ëŠ” ë“± ë” ë‚˜ì€ ë¡œì§ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆëŠ” ììœ ë¥¼ ì–»ê²Œ ëœë‹¤.</strong></p><p>ì´ë ‡ê²Œ <strong>ë°ì´í„°ë¥¼ ìš”êµ¬í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œì´ ì•„ë‹ˆë¼ ì‘ì—…ì„ ìš”ì²­í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œì´ ë°”ë¡œ ê°ì²´ ì§€í–¥ì´ë€ ìš©ì–´ë¥¼ ë§Œë“  ì•¨ëŸ° ì¼€ì´ê°€ ê°€ì¥ ê°•ì¡°í•˜ê³  ì‹¶ì—ˆë˜ ë©”ì‹œì§•</strong>ì´ ì•„ë‹ê¹Œ?</p><hr><p>ì—­ì‹œë‚˜ í—ˆì ‘í•˜ê²Œë¼ë„ ì¨ì„œ ì˜¬ë ¤ì•¼ í”¼ë“œë°±ì„ í†µí•´ ë” ì•Œê²Œ ëœë‹¤. í† ë¹„ë‹˜ì´ ì•¨ëŸ° ì¼€ì´ì˜ ê°•ì—° ì˜ìƒ ìœ íŠœë¸Œ ë§í¬ë¥¼ ì•Œë ¤ì£¼ì…¨ë‹¤.</p><p>(ë¬¼ë¡  ì—¬ì „íˆ í‹€ë¦´ ìˆ˜ë„ ìˆë‹¤ëŠ” ì „ì œí•˜ì—) ê²°ë¡ ë¶€í„° ë§í•˜ë©´ <strong>ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œì˜ ë©”ì‹œì§•ì€ ê·¸ëƒ¥ ì¼ë°˜ ëª…ì‚¬ì¸ ë©”ì‹œì§€ ì£¼ê³  ë°›ê¸°ë¼ê³  ë´ë„ ë¬´ë°©í•œ ê²ƒ ê°™ë‹¤.</strong></p><p>ì „ì²´ì ìœ¼ë¡œ 3ì‹œê°„ ê°€ê¹Œìš´ ë¶„ëŸ‰ì¸ë°, ì´ ê¸€ê³¼ ê´€ë ¨ìˆëŠ” ë¶€ë¶„ì€ <a href="https://youtu.be/QjJaFG63Hlo?t=3752" target="_blank" rel="noopener">https://youtu.be/QjJaFG63Hlo?t=3752</a> ì—¬ê¸°ì„œë¶€í„° ë³´ë©´ ëœë‹¤.</p><p>ì¼ë‹¨ ì•¨ëŸ° ì¼€ì´ëŠ” ë‚˜ê°™ì€ ì™¸êµ­ì¸ì´ ì•Œì•„ë“£ê¸°ì— ì‰¬ìš´ ì–´íˆ¬ë¥¼ ê°€ì§„ ì‚¬ëŒì€ ì•„ë‹Œ ê²ƒ ê°™ë‹¤ ã… ã…œ. ë¬¸ì¥ì´ë‚˜ ë§ì„ ëª…ë£Œí•˜ê²Œ ë”±ë”± ëŠëŠ” ê²ƒë„ ì•„ë‹ˆê³  ë°œìŒë„ ì‚´ì§ ë­‰ê°œëŠ” ë¶€ë¶„ë„ ë§ì•„ì„œ, ì§€ê¸ˆì²˜ëŸ¼ í•˜ë‚˜ë„ ë‚¨ê¹€ ì—†ì´ ì™„ë²½í•˜ê²Œ ë“¤ìœ¼ë ¤ê³  í•˜ë©´ ì¢Œì ˆìŠ¤ëŸ¬ìš¸ ë¿ì´ë‹¤. ê²Œë‹¤ê°€ ë‚˜ëŠ” ìŠ¤ëª°í†¡ì„ ì „í˜€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ì •í™•í•˜ê²Œ í•´ì„í•œ ê²ƒì¸ì§€ë„ ì‚¬ì‹¤ ìì‹  ì—†ë‹¤. </p><p>ì˜ìƒì„ ë³´ë©´ <strong>ë©”ì„œë“œë¥¼ ê°ì²´ ë‚´ë¶€ì— ì¡´ì¬í•˜ë©´ì„œ ì™¸ë¶€ì˜ ë©”ì‹œì§€ì™€ ëŒ€ì‘í•˜ëŠ” ê²ƒìœ¼ë¡œ ì„¤ëª…</strong>í•˜ê³  ìˆëŠ”ë°, â€˜ëŒ€ì‘í•˜ëŠ”(corresponding) ê²ƒâ€™ì´ë¼ëŠ” ëª¨í˜¸í•œ ë§ì„ â€˜ë°›ì€ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° í•„ìš”í•œ ê²ƒâ€™ì´ë¼ê³  êµ¬ì²´ì ìœ¼ë¡œ í•´ì„í•œë‹¤ê³  í•´ë„, <strong>ë°›ì€ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë©”ì‹œì§€ë¥¼ ë°›ì€ ê°ì²´ê°€ ì•Œì•„ì„œ í•˜ëŠ” ê²ƒì¼ ë¿, ë©”ì‹œì§• ìì²´ë¥¼ ë©”ì„œë“œ í˜¸ì¶œê³¼ ì§ì ‘ ê´€ë ¨ì§€ì„ í•„ìš”ì¡°ì°¨ ì—†ëŠ” ê±¸ë¡œ ë³´ì¸ë‹¤.</strong></p><p>ê·¸ë¦¬ê³  ë©”ì‹œì§€ì— ë©”ì„œë“œê°€ ì•„ë‹Œ ë‹¨ìˆœí•œ ë°ì´í„°ë„ ëŒ€ì‘ëœë‹¤ê³  ê·¸ë¦¼ê³¼ í•¨ê»˜ ì„¤ëª…í•˜ê³  ìˆìœ¼ë¯€ë¡œ, <strong>ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ìš”êµ¬í•˜ëŠ” ê²ƒë„ ì•¨ëŸ° ì¼€ì´ê°€ ë§í•˜ëŠ” ë©”ì‹œì§•ì— í•´ë‹¹ëœë‹¤</strong>ëŠ” ì ì´ë‹¤.</p><p>ë©”ì‹œì§•ì„ ë©”ì„œë“œ í˜¸ì¶œì´ë¼ê³  ë³¼ ìˆ˜ë„ ì—†ê³ , ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ìš”êµ¬í•˜ëŠ” ê²ƒë„ ë©”ì‹œì§•ì— í•´ë‹¹ëœë‹¤ë©´ ë©”ì‹œì§•ì€ ê·¸ëƒ¥ ë©”ì‹œì§€ ì£¼ê³  ë°›ê¸°ë¼ëŠ” ëœ» ì´ìƒë„ ì´í•˜ë„ ì•„ë‹ˆë¼ëŠ” ìƒê°ì´ë‹¤.</p><p>ì´ ê²°ë¡ ì´ í‹€ë ¸ë‹¤ê³  ìƒê°í•˜ëŠ” ë¶„ë“¤ì€ ìœ„ ë§í¬ë¥¼ í´ë¦­í•´ì„œ ì§ì ‘ ë³´ì‹œê³  ì¢‹ì€ ì˜ê²¬ ë‚˜ëˆ ì£¼ì‹œë©´ ì •ë§ ê°ì‚¬í•˜ê² ë‹¤.</p><p>ì´ì œ ì˜ìƒ ì£¼ìš” ë¶€ë¶„ í›„ê¸°ë¥¼ ë‚¨ê¸°ë©´ì„œ ì•Œê³  ë³´ë‹ˆ ë³„ ê±´ë”ê¸° ì—†ëŠ” ì£¼ì œê°€ ë¼ë²„ë¦° ê¸€ì„ ë§ˆë¬´ë¦¬ì§€ì–´ ë²„ë¦¬ì.</p><p>ì•„ ê±´ì§„ ê²ƒë„ ìˆë‹¤. <strong>ì›ì¡°ì¸ ì•¨ëŸ° ì¼€ì´ê°€ ë§í•˜ëŠ” ë©”ì„œë“œëŠ” ìë°”ì—ì„œ ë§í•˜ëŠ” ë©”ì„œë“œì™€ëŠ” ë‹¤ë¥´ë‹¤</strong>ëŠ” ê±¸ ì•Œê²Œ ëë‹¤. ê·¸ëŸ¬ë‹ˆ <strong>ê°ì²´ ì§€í–¥ì„ ìë°” ë²„ì „ìœ¼ë¡œ í•´ì„í•  ìˆ˜ëŠ” ìˆê² ì§€ë§Œ, ê°ì²´ ì§€í–¥ì„ ìë°” ê´€ì ìœ¼ë¡œë§Œ íŒë‹¨í•˜ë ¤ëŠ” ì¼ì€ ê²½ê³„í•´ì•¼ í•œë‹¤.</strong></p><p><img src="https://i.imgur.com/9tAlz01.png" alt="Imgur"></p><p>ìœ„ ìº¡ì²˜ëŠ” ì•¨ëŸ° ì¼€ì´ê°€ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì„ ì„¤ëª…í•˜ë©´ì„œ ê·¸ë¦° ê·¸ë¦¼ì´ë‹¤.</p><p>ê·¸ë¦° ìˆœì„œëŒ€ë¡œ ê° ìš”ì†Œì— ëŒ€í•œ ì„¤ëª…ì„ ì§šì–´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ol><li>ê°€ì¥ ë¨¼ì € ë°©ìš¸ ëª¨ì–‘ì˜ í…Œë‘ë¦¬ë¥¼ ê·¸ë ¤ì„œ ë‚´ë¶€ì™€ ì™¸ë¶€ë¥¼ ë¶„ë¦¬(separate)í–ˆê³ ,</li><li>í…Œë‘ë¦¬ì˜ ë°”ê¹¥ìª½ì— ì‘ë‹µ ëŒ€ìƒì¸ ë©”ì‹œì§€(message)ë¥¼ ê·¸ë ¸ê³ ,</li><li>í…Œë‘ë¦¬ì˜ ì•ˆìª½ì— ë©”ì‹œì§€ì™€ ì§ì ‘ ëŒ€ì‘ë˜ëŠ” ë©”ì„œë“œ(method)ë¥¼ ê·¸ë ¸ê³ ,</li><li>í…Œë‘ë¦¬ì˜ ì•ˆìª½ì— ë©”ì‹œì§€ì™€ ì§ì ‘ ëŒ€ì‘ë˜ëŠ” ë°ì´í„° êµ¬ì¡°ë¥¼ ì‘ì€ ì ìœ¼ë¡œ ê·¸ë ¸ê³ ,</li><li>í…Œë‘ë¦¬ì˜ ì•ˆìª½ì— ë©”ì‹œì§€ì™€ ì§ì ‘ ëŒ€ì‘ë˜ì§€ëŠ” ì•ŠëŠ” ë©”ì„œë“œë¥¼ ê·¸ë ¸ê³ ,</li><li>ë§ˆì§€ë§‰ìœ¼ë¡œ (ì™¸ë¶€ì˜) í”„ë¡œí† ì½œê³¼ (ë‚´ë¶€ì˜) ë©”ì„œë“œë¥¼ ë¶„ë¦¬(separate)í–ˆë‹¤.</li></ol><p>ì•ˆíƒ€ê¹ì§€ë§Œ ì—¬ê¸°ì—ì„œë„ ë©”ì‹œì§€ì— ëŒ€í•œ ì§ì ‘ì ì´ê³  ëª…í™•í•œ ì„¤ëª…ì€ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤. ì•„ë‹ˆ ë“¤ë¦¬ì§€ ì•Šì•˜ë‹¤. <code>messages that we are willing to respond to</code>ë¼ë©° â€˜ì‘ë‹µ ëŒ€ìƒì´ ë˜ëŠ”â€™ì´ë¼ëŠ” ìˆ˜ì‹ì–´ë¥¼ ë¶™ì¼ ë¿ì´ê³ , <code>in effect, some of the messages that the object might be able to receive aren&#39;t directly characterized in terms of some outside protocols</code>ë¼ë©° â€˜ë©”ì‹œì§€ê°€ ì™¸ë¶€ì˜ í”„ë¡œí† ì½œì— ì˜í•´ íŠ¹ì§•ì§€ì–´ì§€ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤â€™ë¼ëŠ” ì• ë§¤í•œ ë¶€ì—° ì„¤ëª…ì´ ìˆì„ ë¿ì´ë‹¤.</p><p>ì˜ìƒì„ ë³´ê¸° ì „ì—ëŠ” ê°ì²´ ì§€í–¥ì€ ë°ì´í„°ë¥¼ ìš”êµ¬í•˜ëŠ” ëŒ€ì‹  ì‘ì—…ì„ ìš”ì²­í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ê³ , ì•¨ëŸ° ì¼€ì´ê°€ ë©”ì‹œì§•ì„ ê·¸í† ë¡ ê°•ì¡°í•œ ê²ƒê³¼ ì—°ê²°ì§€ìœ¼ë©´ ë©”ì‹œì§•ì€ ì‘ì—…ì„ ìš”ì²­í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œì¼ ê²ƒì´ë¼ê³  ê²°ë¡ ì§€ì—ˆë‹¤. ê·¸ëŸ°ë° ì•¨ëŸ° ì¼€ì´ëŠ” ìœ„ ê·¸ë¦¼ì„ ì„¤ëª…í•˜ë©´ì„œ ë©”ì‹œì§€ëŠ” ê°ì²´ ë‚´ë¶€ì˜ ë°ì´í„°ì— ëŒ€ì‘ë˜ê¸°ë„ í•œë‹¤ê³  ë¶„ëª…íˆ ë§í•˜ê³  ìˆë‹¤.</p><p>ê²°êµ­ ë©”ì‹œì§•ì´ íŠ¹íˆ ê°•ì¡°ë˜ê¸´ í–ˆì§€ë§Œ ì•¨ëŸ° ì¼€ì´ì˜ ê¸€ì´ë‚˜ ê°•ì—°ì—ì„œ ë©”ì‹œì§• ìì²´ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì„¤ëª…ì„ ì°¾ê¸° ì–´ë ¤ì› ë˜ ì´ìœ ëŠ”, ë©”ì‹œì§•ì´ ê·¸ëƒ¥ ì¼ë°˜ ëª…ì‚¬ì˜ ì˜ë¯¸ë¼ì„œ ë³„ë„ì˜ ì„¤ëª…ì´ í•„ìš”í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì¸ ê²ƒ ê°™ë‹¤.</p><p><strong>ë©”ì‹œì§• ìì²´ì˜ ì˜ë¯¸ê°€ ì¤‘ìš”í•œ ê²ƒì´ ì•„ë‹ˆë¼, ë‚´/ì™¸ë¶€ë¥¼ ë¶„ë¦¬í•˜ê³  ë¶„ë¦¬ëœ ê°ì²´ë¼ë¦¬ ìƒëŒ€ë°©ì˜ ë‚´ë¶€ëŠ” ëª¨ë¥´ëŠ” ì±„ë¡œ ì˜ì‚¬ì†Œí†µí•´ì•¼ ë³µì¡ì„±ì„ ë‚®ì¶œ ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ë©”ì‹œì§•ì„ ê°•ì¡°í•œ ê²ƒ ê°™ë‹¤.</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ê°ì²´-ì§€í–¥-í”„ë¡œê·¸ë˜ë°ê³¼-ë©”ì‹œì§•&quot;&gt;&lt;a href=&quot;#ê°ì²´-ì§€í–¥-í”„ë¡œê·¸ë˜ë°ê³¼-ë©”ì‹œì§•&quot; class=&quot;headerlink&quot; title=&quot;ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ê³¼ ë©”ì‹œì§•&quot;&gt;&lt;/a&gt;ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ê³¼ ë©”ì‹œì§•&lt;/h1&gt;&lt;p&gt;ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ 
      
    
    </summary>
    
      <category term="Concepts" scheme="http://homoefficio.github.io/categories/Concepts/"/>
    
    
      <category term="Object Oriented Programming" scheme="http://homoefficio.github.io/tags/Object-Oriented-Programming/"/>
    
      <category term="OOP" scheme="http://homoefficio.github.io/tags/OOP/"/>
    
      <category term="Object Oriented" scheme="http://homoefficio.github.io/tags/Object-Oriented/"/>
    
      <category term="Messaging" scheme="http://homoefficio.github.io/tags/Messaging/"/>
    
      <category term="Allen Kay" scheme="http://homoefficio.github.io/tags/Allen-Kay/"/>
    
      <category term="ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°" scheme="http://homoefficio.github.io/tags/%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/"/>
    
      <category term="ê°ì²´ ì§€í–¥" scheme="http://homoefficio.github.io/tags/%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5/"/>
    
      <category term="ë©”ì‹œì§•" scheme="http://homoefficio.github.io/tags/%EB%A9%94%EC%8B%9C%EC%A7%95/"/>
    
      <category term="ì•¨ëŸ° ì¼€ì´" scheme="http://homoefficio.github.io/tags/%EC%95%A8%EB%9F%B0-%EC%BC%80%EC%9D%B4/"/>
    
  </entry>
  
  <entry>
    <title>ì¬ë¯¸ë¡œ ë³´ëŠ” ì–¸ì–´ë³„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ë¹„êµ</title>
    <link href="http://homoefficio.github.io/2019/05/08/%EC%9E%AC%EB%AF%B8%EB%A1%9C-%EB%B3%B4%EB%8A%94-%EC%96%B8%EC%96%B4%EB%B3%84-%EC%8A%A4%ED%8A%B8%EB%A6%BC-%EC%B2%98%EB%A6%AC-%EB%B9%84%EA%B5%90/"/>
    <id>http://homoefficio.github.io/2019/05/08/ì¬ë¯¸ë¡œ-ë³´ëŠ”-ì–¸ì–´ë³„-ìŠ¤íŠ¸ë¦¼-ì²˜ë¦¬-ë¹„êµ/</id>
    <published>2019-05-08T13:32:35.000Z</published>
    <updated>2019-05-09T11:30:32.488Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ì¬ë¯¸ë¡œ-ë³´ëŠ”-ì–¸ì–´ë³„-ìŠ¤íŠ¸ë¦¼-ì²˜ë¦¬-ë¹„êµ"><a href="#ì¬ë¯¸ë¡œ-ë³´ëŠ”-ì–¸ì–´ë³„-ìŠ¤íŠ¸ë¦¼-ì²˜ë¦¬-ë¹„êµ" class="headerlink" title="ì¬ë¯¸ë¡œ ë³´ëŠ” ì–¸ì–´ë³„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ë¹„êµ"></a>ì¬ë¯¸ë¡œ ë³´ëŠ” ì–¸ì–´ë³„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ë¹„êµ</h1><p>NBAë¥¼ ì¦ê²¨ë³´ëŠ”ë° ê°‘ìê¸° ì—­ëŒ€ MVPê°€ ê¶ê¸ˆí•´ì„œ ì°¾ì•„ë³´ë‹ˆ <a href="https://www.nba.com/history/awards/mvp" target="_blank" rel="noopener">https://www.nba.com/history/awards/mvp</a> ì—¬ê¸°ì—ì„œ ë³¼ ìˆ˜ ìˆì—ˆë‹¤. ì—°ë„ë³„ë¡œ ì£¼ìš± ë‚˜ì—´ë˜ì–´ ìˆëŠ”ë° <strong>ìˆ˜ìƒíšŸìˆ˜ ê¸°ì¤€ìœ¼ë¡œ ì§‘ê³„í•´ì„œ ë‚´ë¦¼ì°¨ìˆœ</strong>ìœ¼ë¡œ ë³´ê³  ì‹¶ì—ˆë‹¤.</p><p>ê·¸ë˜ì„œ ì—°ìŠµë„ í•  ê²¸ ìë°”ë¡œ ë¨¼ì € ì§œë´¤ëŠ”ë° ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì§œì£¼ì‹  ë¶„ë“¤ë„ ê³„ì…”ì„œ <strong>ì¬ë¯¸ë¡œ ë¹„êµ</strong>ë¥¼ í•´ë³´ë ¤ í•œë‹¤. ì–¸ì–´ì˜ ì „ë°˜ì ì¸ ìš°ì—´ì„ ê°€ë¦¬ëŠ” ëª©ì ì´ ì „í˜€ ì•„ë‹ˆë¯€ë¡œ êµ¬ê²½í•˜ëŠ” ì¬ë¯¸ë¡œë§Œ ì°¸ê³ í•˜ë©´ ì¢‹ê² ë‹¤.</p><p>ìë°” ì™¸ì— ë‹¤ë¥¸ ì–¸ì–´ì— ëŒ€í•œ ì§€ì‹ì´ ë§ì§€ ì•Šìœ¼ë¯€ë¡œ ì˜ëª»ëœ ì •ë³´ê°€ í¬í•¨ë  ìˆ˜ë„ ìˆìœ¼ë©° ì´ ë¶€ë¶„ì€ ëŒ“ê¸€ë¡œ ë°”ë¡œì¡ì•„ì£¼ì‹œë©´ ì •ë§ ê°ì‚¬ë“œë¦¬ë©° ë°”ë¡œ ë°˜ì˜í•˜ê² ë‹¤.</p><p>ì ì´ì œ ì‹œì‘í•´ë³´ì. ì—°ë„ë³„ NBA MVP ëª…ë‹¨ ë°ì´í„°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">String MVPS = <span class="string">""</span> +</span><br><span class="line">            <span class="string">"2017-18     James Harden, Houston Rockets (Voting)\n"</span> +</span><br><span class="line">            <span class="string">"2016-17     Russell Westbrook, Oklahoma City Thunder (Voting)\n"</span> +</span><br><span class="line">            <span class="string">"2015-16     Stephen Curry, Golden State Warriors (Voting)\n"</span> +</span><br><span class="line">            <span class="string">"2014-15     Stephen Curry, Golden State Warriors\n"</span> +</span><br><span class="line">            <span class="string">"2013-14     Kevin Durant, Oklahoma City Thunder\n"</span> +</span><br><span class="line">            <span class="string">"2012-13     LeBron James, Miami Heat\n"</span> +</span><br><span class="line">            <span class="string">"2011-12     LeBron James, Miami Heat\n"</span> +</span><br><span class="line">            <span class="string">"2010-11     Derrick Rose, Chicago Bulls\n"</span> +</span><br><span class="line">            <span class="string">"2009-10     LeBron James, Cleveland Cavaliers\n"</span> +</span><br><span class="line">            <span class="string">"2008-09     LeBron James, Cleveland Cavaliers\n"</span> +</span><br><span class="line">            <span class="string">"2007-08     Kobe Bryant, Los Angeles Lakers\n"</span> +</span><br><span class="line">            <span class="string">"2006-07     Dirk Nowitzki, Dallas Mavericks\n"</span> +</span><br><span class="line">            <span class="string">"2005-06     Steve Nash, Phoenix Suns\n"</span> +</span><br><span class="line">            <span class="string">"2004-05     Steve Nash, Phoenix Suns\n"</span> +</span><br><span class="line">            <span class="string">"2003-04     Kevin Garnett, Minnesota Timberwolves\n"</span> +</span><br><span class="line">            <span class="string">"2002-03     Tim Duncan, San Antonio Spurs\n"</span> +</span><br><span class="line">            <span class="string">"2001-02     Tim Duncan, San Antonio Spurs\n"</span> +</span><br><span class="line">            <span class="string">"2000-01     Allen Iverson, Philadelphia 76ers\n"</span> +</span><br><span class="line">            <span class="string">"1999-00     Shaquille O'Neal, Los Angeles Lakers\n"</span> +</span><br><span class="line">            <span class="string">"1998-99     Karl Malone, Utah Jazz\n"</span> +</span><br><span class="line">            <span class="string">"1997-98     Michael Jordan, Chicago Bulls\n"</span> +</span><br><span class="line">            <span class="string">"1996-97     Karl Malone, Utah Jazz\n"</span> +</span><br><span class="line">            <span class="string">"1995-96     Michael Jordan, Chicago Bulls\n"</span> +</span><br><span class="line">            <span class="string">"1994-95     David Robinson, San Antonio Spurs\n"</span> +</span><br><span class="line">            <span class="string">"1993-94     Hakeem Olajuwon, Houston Rockets\n"</span> +</span><br><span class="line">            <span class="string">"1992-93     Charles Barkley, Phoenix Suns\n"</span> +</span><br><span class="line">            <span class="string">"1991-92     Michael Jordan, Chicago Bulls\n"</span> +</span><br><span class="line">            <span class="string">"1990-91     Michael Jordan, Chicago Bulls\n"</span> +</span><br><span class="line">            <span class="string">"1989-90     Magic Johnson, Los Angeles Lakers\n"</span> +</span><br><span class="line">            <span class="string">"1988-89     Magic Johnson, Los Angeles Lakers\n"</span> +</span><br><span class="line">            <span class="string">"1987-88     Michael Jordan, Chicago Bulls\n"</span> +</span><br><span class="line">            <span class="string">"1986-87     Magic Johnson, Los Angeles Lakers\n"</span> +</span><br><span class="line">            <span class="string">"1985-86     Larry Bird, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1984-85     Larry Bird, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1983-84     Larry Bird, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1982-83     Moses Malone, Philadelphia 76ers\n"</span> +</span><br><span class="line">            <span class="string">"1981-82     Moses Malone, Houston Rockets\n"</span> +</span><br><span class="line">            <span class="string">"1980-81     Julius Erving, Philadelphia 76ers\n"</span> +</span><br><span class="line">            <span class="string">"1979-80     Kareem Abdul-Jabbar, Los Angeles Lakers\n"</span> +</span><br><span class="line">            <span class="string">"1978-79     Moses Malone, Houston Rockets\n"</span> +</span><br><span class="line">            <span class="string">"1977-78     Bill Walton, Portland Trail Blazers\n"</span> +</span><br><span class="line">            <span class="string">"1976-77     Kareem Abdul-Jabbar, Los Angeles Lakers\n"</span> +</span><br><span class="line">            <span class="string">"1975-76     Kareem Abdul-Jabbar, Los Angeles Lakers\n"</span> +</span><br><span class="line">            <span class="string">"1974-75     Bob McAdoo, Buffalo Braves\n"</span> +</span><br><span class="line">            <span class="string">"1973-74     Kareem Abdul-Jabbar, Milwaukee Bucks\n"</span> +</span><br><span class="line">            <span class="string">"1972-73     Dave Cowens, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1971-72     Kareem Abdul-Jabbar, Milwaukee Bucks\n"</span> +</span><br><span class="line">            <span class="string">"1970-71     Kareem Abdul-Jabbar, Milwaukee Bucks\n"</span> +</span><br><span class="line">            <span class="string">"1969-70     Willis Reed, New York Knicks\n"</span> +</span><br><span class="line">            <span class="string">"1968-69     Wes Unseld, Baltimore Bullets\n"</span> +</span><br><span class="line">            <span class="string">"1967-68     Wilt Chamberlain, Philadelphia 76ers\n"</span> +</span><br><span class="line">            <span class="string">"1966-67     Wilt Chamberlain, Philadelphia 76ers\n"</span> +</span><br><span class="line">            <span class="string">"1965-66     Wilt Chamberlain, Philadelphia 76ers\n"</span> +</span><br><span class="line">            <span class="string">"1964-65     Bill Russell, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1963-64     Oscar Robertson, Cincinnati Royals\n"</span> +</span><br><span class="line">            <span class="string">"1962-63     Bill Russell, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1961-62     Bill Russell, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1960-61     Bill Russell, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1959-60     Wilt Chamberlain, Philadelphia Warriors\n"</span> +</span><br><span class="line">            <span class="string">"1958-59     Bob Pettit, St. Louis Hawks\n"</span> +</span><br><span class="line">            <span class="string">"1957-58     Bill Russell, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1956-57     Bob Cousy, Boston Celtics\n"</span> +</span><br><span class="line">            <span class="string">"1955-56     Bob Pettit, St. Louis Hawks"</span>;</span><br></pre></td></tr></table></figure><h1 id="êµ¬í˜„-ë¹„êµ"><a href="#êµ¬í˜„-ë¹„êµ" class="headerlink" title="êµ¬í˜„ ë¹„êµ"></a>êµ¬í˜„ ë¹„êµ</h1><h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><p>Java 8ì˜ Stream APIë¥¼ í™œìš©í•´ì„œ ì‘ì„±í•œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    String[] lines = MVPS.split(<span class="string">"\\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> mvpCount = Stream.of(lines)</span><br><span class="line">            .collect(groupingBy(line -&gt; line.substring(<span class="number">12</span>, line.indexOf(<span class="string">','</span>)), counting()))</span><br><span class="line">            .entrySet().stream()</span><br><span class="line">            .sorted(comparingByValue(reverseOrder()))</span><br><span class="line">            .peek(e -&gt; out.println(e.getKey() + <span class="string">": "</span> + e.getValue()))</span><br><span class="line">            .mapToLong(Map.Entry::getValue)</span><br><span class="line">            .sum();</span><br><span class="line"></span><br><span class="line">    out.println(lines.length == mvpCount);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>í° íë¦„ì€ <code>í‚¤(ì„ ìˆ˜ ì´ë¦„) ì¶”ì¶œ</code>, <code>groupBy</code>, <code>ìˆ˜ìƒíšŸìˆ˜ ì§‘ê³„</code>, <code>ì •ë ¬</code>, <code>ì¶œë ¥</code>, <code>ì „ì²´ í•©ê³„</code>ë¡œ êµ¬ì„±ëœë‹¤.</p><p><strong>ìë°”ì—ëŠ” íŠœí”Œì´ ì—†ë‹¤.</strong> ê·¸ë˜ì„œ <code>groupingBy()</code>ì˜ ê²°ê³¼ëŠ” Mapìœ¼ë¡œ collectë˜ê³  ì´ ê³¼ì •ì—ì„œ ìµœì´ˆì˜ ìŠ¤íŠ¸ë¦¼ì´ ì¢…ê²°ëœë‹¤. ê·¸ë¦¬ê³  Mapì—ì„œ <code>entrySet().stream()</code>ì„ í†µí•´ ìƒˆ ìŠ¤íŠ¸ë¦¼ì„ ë§Œë“¤ê³  ì •ë ¬, ì¶œë ¥, í•©ê³„ ë“±ì„ ì²˜ë¦¬í•´ì•¼ í•œë‹¤. ë”°ë¼ì„œ <code>ìˆ˜ìƒíšŸìˆ˜ ì§‘ê³„</code>ì™€ <code>ì •ë ¬</code> ì‚¬ì´ì— ìŠ¤íŠ¸ë¦¼ ìƒì„±ì´ í•˜ë‚˜ ì¶”ê°€ëœë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p><p>ê°’(MVP ìˆ˜ìƒíšŸìˆ˜) ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ì€ <code>.sorted(comparingByValue(reverseOrder()))</code>ë¡œ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ëŠ” ìˆì§€ë§Œ ì¡°ê¸ˆ ì¥í™©í•´ë³´ì´ê¸°ë„ í•˜ë‹¤. ì•ìœ¼ë¡œ ì‚´í´ë³¼ ë‹¤ë¥¸ ì–¸ì–´ êµ¬í˜„ì²´ì™€ ë¹„êµí•˜ë©´ ì‹¤ì œë¡œë„ ì¢€ ê¸¸ê¸´ í•˜ë‹¤.</p><p><code>peek()</code>ì´ ìˆì–´ì„œ ìŠ¤íŠ¸ë¦¼ì˜ ë°ì´í„°ë¥¼ ì™„ì „ ì†Œë¹„(consume)í•˜ì§€ ì•Šìœ¼ë©´ì„œë„ ì¶œë ¥í•  ìˆ˜ ìˆì–´ì„œ, ì¶œë ¥ê³¼ í•©ê³„ë¥¼ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p><blockquote><p>í•œ ì¤„ í‰: Stream API ë•ì— ê¹”ë”í•œ êµ¬ì¡°ë¡œ ì‘ì„±í•  ìˆ˜ ìˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ë©”ì„œë“œ ì´ë¦„ì´ ê¸¸ì–´ì„œ ì „ë°˜ì ìœ¼ë¡œ ì¥í™©í•´ë³´ì¸ë‹¤.</p></blockquote><h2 id="Scala"><a href="#Scala" class="headerlink" title="Scala"></a>Scala</h2><p>ìŠ¤ì¹¼ë¼ ë²„ì „ì€ <strong>Kevin Lee ë‹˜</strong>ê»˜ì„œ ì‘ì„±í•´ì£¼ì‹  ê±¸ ì‚´ì§ ë‹¤ë“¬ì—ˆë‹¤.</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> lines = <span class="type">MVPS</span>.split(<span class="string">"\n"</span>)</span><br><span class="line"><span class="keyword">val</span> mvpList = lines</span><br><span class="line">  .groupBy(_.drop(<span class="number">12</span>).takeWhile(_ != ','))  </span><br><span class="line">  .mapValues(_.size)</span><br><span class="line">  .toList</span><br><span class="line">  .sortBy(_._2)(<span class="type">Ordering</span>.<span class="type">Int</span>.reverse)</span><br><span class="line"></span><br><span class="line">println(mvpList.map &#123; <span class="keyword">case</span> (name, count) =&gt; <span class="string">s"<span class="subst">$name</span>: <span class="subst">$count</span>"</span> &#125;.mkString(<span class="string">"\n"</span>))</span><br><span class="line">println(lines.size == mvpList.map(_._2).sum)</span><br></pre></td></tr></table></figure><p>ìŠ¤ì¹¼ë¼ì—ì„œë„ í° íë¦„ì€ <code>í‚¤(ì„ ìˆ˜ ì´ë¦„) ì¶”ì¶œ</code>, <code>groupBy</code>, <code>ìˆ˜ìƒíšŸìˆ˜ ì§‘ê³„</code>, <code>ì •ë ¬</code>, <code>ì¶œë ¥</code>, <code>ì „ì²´ í•©ê³„</code>ë¡œ ë‹¬ë¼ì§„ ê²ƒì€ ì—†ë‹¤. </p><p>í‚¤ ì¶”ì¶œì´ ìë°”ì™€ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ êµ¬í˜„ë˜ì—ˆì§€ë§Œ ì¥í™©í•œ ì ì€ ë¹„ìŠ·í•´ ë³´ì´ê³ , ìë°”ì˜ <code>groupingBy()</code>ì—ì„œ í‚¤ ë³„ ë¶„ë¥˜ì™€ ìˆ˜ìƒíšŸìˆ˜ ì§‘ê³„ë¥¼ í•¨ê»˜ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆì§€ë§Œ, ìŠ¤ì¹¼ë¼ì˜ <code>groupBy()</code>ëŠ” í‚¤ ë³„ ë¶„ë¥˜ë§Œ ê°€ëŠ¥í•˜ê³  ìˆ˜ìƒíšŸìˆ˜ì˜ ì§‘ê³„ëŠ” <code>mapValues(_.size)</code>ë¥¼ í†µí•´ ë”°ë¡œ ì²˜ë¦¬í•˜ëŠ” ì ì´ ë‹¤ë¥´ë‹¤.</p><p>ì •ë ¬í•˜ê¸° ì „ì— ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“œëŠ” ê³¼ì •(<code>toList</code>)ì´ í•˜ë‚˜ ì¶”ê°€ë˜ëŠ” ê²ƒë„ ì ˆì°¨ìƒìœ¼ë¡œëŠ” <code>entrySet().stream()</code>ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¼ì„ ìƒˆë¡œ ë§Œë“œëŠ” ìë°”ì™€ ë¹„ìŠ·í•˜ê³ , ì •ë ¬ ê³¼ì •ë„ ìë°”ì™€ ë¹„ìŠ·í•˜ë‹¤. </p><p><strong><code>(_.drop(12))</code>, <code>(_.size)</code>, <code>(_._2)</code> ê°™ì€ í‘œí˜„ë²•ìœ¼ë¡œ <code>-&gt;</code> ì—†ì´ë„ ëŒë‹¤ì‹ì„ í‘œí˜„í•  ìˆ˜ ìˆê³ , <code>getKey()</code>, <code>getValue()</code> ëŒ€ì‹  <code>._1</code>, <code>._2</code>ë¡œ ì§§ê²Œ í‘œí˜„í•  ìˆ˜ ìˆì–´ì„œ ë¹„ìŠ·í•œ êµ¬ì¡°ì„ì—ë„ ìë°”ë³´ë‹¤ í›¨ì”¬ ê°„ê²°í•´ë³´ì¸ë‹¤.</strong> í•˜ì§€ë§Œ <code>_</code>ë¥¼ ì“°ì§€ ì•ŠëŠ”ë‹¤ë©´ <code>map { case (name, count) =&gt; ... }</code>ì—ì„œì²˜ëŸ¼ <code>=&gt;</code>ë¿ ì•„ë‹ˆë¼ <code>case</code>ë„ ë‚˜ì˜¤ë©´ì„œ ì¡°ê¸ˆ ë³µì¡í•´ì§„ë‹¤.</p><p>ìë°”ì˜ <code>peek()</code> ê°™ì€ ë©”ì„œë“œê°€ ì—†ì–´ì„œì¸ì§€ ì¶œë ¥ê³¼ ì „ì²´ í•©ê³„ë¥¼ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ê³  ë³„ë„ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒë„ ë‹¤ë¥´ë‹¤.</p><blockquote><p>í•œ ì¤„ í‰: <code>_</code>ë¥¼ ì˜ ì“°ë©´ ìë°”ë³´ë‹¤ í›¨ì”¬ ê°„ê²°í•˜ê²Œ ì§¤ ìˆ˜ ìˆë‹¤.</p></blockquote><h2 id="Kotlin"><a href="#Kotlin" class="headerlink" title="Kotlin"></a>Kotlin</h2><p>ì½”í‹€ë¦° ë²„ì „ì€ <strong>ë¶€ì¢…ë¯¼ ë‹˜</strong>ê»˜ì„œ ì§œì£¼ì‹  ê±¸ ì‚´ì§ ê°œì„ í•´ë´¤ë‹¤.</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> lines = MVPS.split(<span class="string">"\n"</span>)</span><br><span class="line">    <span class="keyword">val</span> totalCount = lines</span><br><span class="line">        .groupingBy &#123; it.substring(<span class="number">12</span>, it.indexOf(<span class="string">','</span>)) &#125;</span><br><span class="line">        .eachCount()</span><br><span class="line">        .toList()</span><br><span class="line">        .sortedByDescending &#123; it.second &#125;</span><br><span class="line">        .onEach &#123; println(it) &#125;</span><br><span class="line">        .map &#123; it.second &#125;</span><br><span class="line">        .sum()</span><br><span class="line"></span><br><span class="line">    println(lines.size == totalCount)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì½”í‹€ë¦°ì€ íë¦„ì´ ìŠ¤ì¹¼ë¼ì™€ ê±°ì˜ ë™ì¼í•˜ë‹¤.</p><p><code>substring()</code>ì€ ìë°”ì™€ ë™ì¼í•˜ê³  ì›í•œë‹¤ë©´ ìŠ¤ì¹¼ë¼ì²˜ëŸ¼ <code>drop()</code>, <code>takeWhile()</code>ì„ ì“¸ ìˆ˜ë„ ìˆë‹¤.</p><p><code>groupingBy {}</code> ì—ì„œëŠ” ìŠ¤ì¹¼ë¼ì™€ ë§ˆì°¬ê°€ì§€ë¡œ í‚¤ ê¸°ì¤€ ë¶„ë¥˜ë§Œ ê°€ëŠ¥í•˜ê³  ì§‘ê³„ëŠ” <code>eachCount()</code>ë¡œ ë”°ë¡œ í•´ì¤˜ì•¼ í•œë‹¤. ì •ë ¬í•˜ê¸° ì „ì— <code>toList()</code>ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒë„ ë™ì¼í•˜ë‹¤. </p><p>ìŠ¤ì¹¼ë¼ì— íŠœí”Œì´ ìˆë‹¤ë©´ <strong>ì½”í‹€ë¦°ì—ëŠ” <code>Pair</code>ê°€ ìˆë‹¤. ê·¸ë˜ì„œ ìë°”ì²˜ëŸ¼ <code>getKey()</code>, <code>getValue()</code> ê°™ì€ ë©”ì„œë“œë¥¼ ì“°ì§€ ì•Šê³  <code>it.first</code>, <code>it.second</code>ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì§§ê²Œ í‘œí˜„ ê°€ëŠ¥í•˜ë‹¤.</strong> ê·¸ë˜ë„ <code>first</code>ë‚˜ <code>second</code>ë³´ë‹¤ëŠ” <code>_1</code>, <code>_2</code>ì²˜ëŸ¼ ë” ì§§ê²Œ í‘œí˜„ ê°€ëŠ¥í•œ ìŠ¤ì¹¼ë¼ ìª½ì´ ë” ë‚˜ì•„ ë³´ì¸ë‹¤.</p><p>ëŒë‹¤ì‹ì„ <code>{ }</code>ë¥¼ ì¨ì„œ ì¸ìë¡œ ë°›ëŠ” ê²ƒì—ì„œ ì•½ê°„ì˜ ì´ì§ˆê°ì´ ëŠê»´ì§€ì§€ë§Œ, <strong><code>it</code>ë¼ëŠ” built-in í‚¤ì›Œë“œë¥¼ ì¨ì„œ <code>-&gt;</code> ì—†ì´ë„ ëŒë‹¤ì‹ì„ ì§§ê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì </strong>ë„ ìŠ¤ì¹¼ë¼ì™€ ë¹„ìŠ·í•˜ë‹¤.</p><p>ìë°”ì˜ <code>peek()</code>ê³¼ ë™ì¼í•œ ì—­í• ì„ í•˜ëŠ” <code>onEach()</code>ê°€ ìˆì–´ì„œ ì¶œë ¥ê³¼ ì „ì²´ í•©ê³„ë¥¼ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ì—ì„œ ëª¨ë‘ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì€ ìŠ¤ì¹¼ë¼ì™€ ë‹¤ë¥´ë‹¤.</p><blockquote><p>í•œ ì¤„ í‰: ìŠ¤ì¹¼ë¼ì™€ ê±°ì˜ ë¹„ìŠ·í•œ ì‘ì„± ë°©ì‹ê³¼ ê°„ê²°í•¨ì„ ë³´ì—¬ì£¼ë©´ì„œë„, ìŠ¤ì¹¼ë¼ì— ì—†ëŠ” <code>onEach()</code>ë¥¼ ê°€ì§€ê³  ìˆì–´ì„œ ìë°”ì˜ ì¥ì ë„ ê°€ì§€ê³  ìˆë‹¤.</p></blockquote><h2 id="ë½•-ë§ì€-ìë°”-feat-jooL"><a href="#ë½•-ë§ì€-ìë°”-feat-jooL" class="headerlink" title="ë½• ë§ì€ ìë°”(feat. jooL)"></a>ë½• ë§ì€ ìë°”(feat. jooL)</h2><p><strong>ë°•ì„±ì²  ë‹˜</strong>ê»˜ì„œ ë°”ë‹ë¼ ìë°”ëŠ” ì“°ëŠ” ê²Œ ì•„ë‹ˆë¼ê³  í•˜ì‹œë©´ì„œ <code>jooL ë¼ì´ë¸ŒëŸ¬ë¦¬</code>(<a href="https://github.com/jOOQ/jOOL" target="_blank" rel="noopener">https://github.com/jOOQ/jOOL</a>) ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì„±í•´ì£¼ì‹  ë²„ì „ì„ ë³´ë©´ â€˜ì˜¤~~ ì´ê²Œ ì •ë…• ìë°”ë€ ë§ì”€ì…ë‹ˆê¹Œ?â€™ë€ ì†Œë¦¬ê°€ ë‚˜ì˜¬ ì •ë„ë¡œ ê°ë™ì ì´ë‹¤. ìŠ¤ì¹¼ë¼ë‚˜ ì½”í‹€ë¦°ë³´ë‹¤ ë” ê°„ê²°í•˜ë‹¤!!</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    String[] lines = MVPS.split(<span class="string">"\\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> mvpCount = Seq.of(lines)</span><br><span class="line">            .grouped(line -&gt; line.substring(<span class="number">12</span>, line.indexOf(<span class="string">','</span>)), counting()))</span><br><span class="line">            .sorted(t -&gt; - t.v2)</span><br><span class="line">            .peek(t -&gt; out.println(t.v1 + <span class="string">": "</span> + t.v2))</span><br><span class="line">            .sumLong(t -&gt; t.v2);</span><br><span class="line"></span><br><span class="line">    out.println(lines.length == mvpCount);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ìŠ¤ì¹¼ë¼ë‚˜ ì½”í‹€ë¦°ì²˜ëŸ¼ <strong>íŠœí”Œì´ ìˆì–´ì„œ <code>t.v2</code>ê°™ì€ ê°„ëµí•œ í‘œí˜„ì´ ê°€ëŠ¥</strong>í•´ì¡Œê³ , íŠ¹íˆ <strong>ê°’ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ì„ <code>sorted(t -&gt; - t.v2)</code>ë¡œ ê°„ë‹¨ ëª…ë£Œí•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì ì´ ëˆˆì— ëˆë‹¤.</strong> ê·¸ë¦¬ê³  groupBy í›„ì— <code>entrySet().stream()</code>ì´ë‚˜ <code>toList</code> ì—†ì´ë„ í´ë¡œì €ì²˜ëŸ¼ ë°”ë¡œ ì •ë ¬í•  ìˆ˜ ìˆë‹¤.</p><blockquote><p>í•œ ì¤„ í‰: ë°”ë‹ë¼ ìë°”ëŠ” ì“°ëŠ” ê²Œ ì•„ë‹ˆë‹¤.</p></blockquote><h2 id="Clojure"><a href="#Clojure" class="headerlink" title="Clojure"></a>Clojure</h2><p>í´ë¡œì €ëŠ” ë²„ì „ì´ ë‘ ê°œì¸ë° <code>-&gt;&gt;</code> ë§¤í¬ë¡œë¥¼ ì‚¬ìš©í•œ ë²„ì „ì€ <strong>ë°•ìƒê·œ ë‹˜</strong>ê»˜ì„œ ë§Œë“¤ì–´ì£¼ì…¨ë‹¤.</p><p><strong>ì§§ì„ ì¤„ì€ ì•Œì•˜ì§€ë§Œ ìƒê°ë³´ë‹¤ ë” ì§§ë‹¤..</strong></p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">run!</span> prn </span><br><span class="line">    (<span class="name"><span class="builtin-name">sort-by</span></span> val &gt; </span><br><span class="line">        (<span class="name">frequencies</span> (<span class="name"><span class="builtin-name">map</span></span> #(<span class="name">subs</span> % <span class="number">12</span> (<span class="name">index-of</span> % <span class="string">","</span>)) lines))))</span><br></pre></td></tr></table></figure><p>í´ë¡œì €ëŠ” ì•ì—ì„œ ë‹¤ë£¬ ì–¸ì–´ì™€ëŠ” ì¢€ ë‹¤ë¥´ê²Œ Lisp ê³„ì—´ì˜ ì–¸ì–´ì´ë©°, í•¨ìˆ˜ì˜ chainingì´ ì•„ë‹ˆë¼ nestingì„ ì‚¬ìš©í•˜ë¯€ë¡œ <strong>ì½”ë“œì˜ íë¦„ì´ ì˜ì‹ì˜ íë¦„ì— ì—­í–‰í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì—¬ì„œ ì´ì§ˆê°ì´ ë§¤ìš° í¬ë‹¤.</strong> í•˜ì§€ë§Œ ì´ë¥¼ ë³´ì™„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆìœ¼ë‹ˆ ë°”ë¡œ <strong><code>-&gt;&gt;</code> ë§¤í¬ë¡œ</strong>ë‹¤.</p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">-&gt;&gt;</span></span> lines</span><br><span class="line">  (<span class="name"><span class="builtin-name">map</span></span> #(<span class="name">subs</span> % <span class="number">12</span> (<span class="name">index-of</span> % <span class="string">","</span>)))</span><br><span class="line">  frequencies </span><br><span class="line">  (<span class="name"><span class="builtin-name">sort-by</span></span> val &gt;)</span><br><span class="line">  (<span class="name">run!</span> prn))</span><br></pre></td></tr></table></figure><p>ì´ë ‡ê²Œ <strong><code>-&gt;&gt;</code> ë§¤í¬ë¡œë¥¼ ì‚¬ìš©í•˜ë©´ í´ë¡œì € íŠ¹ìœ ì˜ ê°„ê²°í•¨ì„ ìœ ì§€í•˜ë©´ì„œë„ ì˜ì‹ì˜ íë¦„ê³¼ ì½”ë“œ íë¦„ì˜ ë¶ˆì¼ì¹˜ë¥¼ ê·¹ë³µí•  ìˆ˜ë„ ìˆë‹¤.</strong></p><p><code>map</code>ì€ ë‹¤ë¥¸ ì–¸ì–´ì™€ ë‹¤ë¥¼ ê²Œ ì—†ë‹¤. <code>#()</code>ë¥¼ ì¨ì„œ ìµëª… í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê³ , <code>%</code>ë¡œ ìµëª… í•¨ìˆ˜ì˜ ì¸ìë¥¼ í‘œí˜„í•  ìˆ˜ ìˆëŠ”ë° <code>%1</code>, <code>%2</code>ì™€ ê°™ì´ ë‘ ê°œ ì´ìƒì˜ ì¸ìë„ í‘œí˜„ ê°€ëŠ¥í•˜ë‹¤.</p><p><code>frequencies</code><br><code>groupingBy(key, counting())</code><br><code>groupBy(key).mapValues(_.size)</code><br><code>groupingBy { key }.eachCount()</code></p><p>ìœ„ ë„¤ ê°€ì§€ëŠ” ëª¨ë‘ ë™ì¼í•œ ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ”ë°, ì½”ë“œì˜ ì–‘ìœ¼ë¡œ ë³´ë‚˜ ì˜ë¯¸ ì „ë‹¬ë ¥ìœ¼ë¡œ ë³´ë‚˜ í´ë¡œì €ì˜ <code>frequencies</code>ì— ê°€ì¥ ë†’ì€ ì ìˆ˜ë¥¼ ì¤„ ìˆ˜ ìˆê² ë‹¤.</p><p>ì½”ë“œì— ë‚˜íƒ€ë‚˜ì§€ ì•Šì€ ê°€ì¥ í° ì°¨ì´ì ì´ í•˜ë‚˜ ìˆë‹¤. ìë°”, ìŠ¤ì¹¼ë¼, ì½”í‹€ë¦°ì—ì„œëŠ” groupByë¥¼ í•œ í›„ ë‹¤ì‹œ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ì–´ì¤˜ì•¼ ì •ë ¬ì„ í•  ìˆ˜ê°€ ìˆëŠ”ë°, í´ë¡œì €ì—ì„œëŠ” <code>frequencies</code>ê°€ ë°˜í™˜í•˜ëŠ” <strong>ë§µ ìì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ê°’ ê¸°ì¤€ ì •ë ¬ì´ ê°€ëŠ¥í•˜ë‹¤.</strong></p><p><code>sort-by val &gt;</code><br><code>sorted(comparingByValue(reverseOrder()))</code><br><code>sortBy(_._2)(Ordering.Int.reverse)</code><br><code>sortedByDescending { it.second }</code></p><p>ìœ„ ë„¤ ê°€ì§€ë„ ëª¨ë‘ ë™ì¼í•œ ì—­í• ì„ í•˜ëŠ”ë°, ì´ë²ˆì—ë„ í´ë¡œì €ì˜ <code>sort-by val &gt;</code>ì— ê°€ì¥ ë†’ì€ ì ìˆ˜ë¥¼ ì¤„ ìˆ˜ ìˆê² ë‹¤. <strong>ê°’(val) ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ(&gt;)ìœ¼ë¡œ ì •ë ¬í•˜ë¼(sort-by)ëŠ” ì˜ë¯¸ë¥¼ <code>sort-by val &gt;</code>ë¡œ ì •ë§ ê°„ë‹¨ ëª…ë£Œí•˜ê²Œ í‘œí˜„</strong>í•˜ê³  ìˆë‹¤.</p><p>ë‹¤ë§Œ í´ë¡œì €ë„ ìŠ¤ì¹¼ë¼ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìë°”ì˜ <code>peek()</code>ì´ë‚˜ ì½”í‹€ë¦°ì˜ <code>onEach()</code> ê°™ì€ ê¸°ëŠ¥ì˜ í•¨ìˆ˜ê°€ ì—†ì–´ì„œ ì¶œë ¥ê³¼ í•©ê³„ë¥¼ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ì—ì„œ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ëŠ” ê²ƒì€ ë‹¨ì ì´ë‹¤. ìŠ¤ì¹¼ë¼ì²˜ëŸ¼ Lazy Sequenceë¥¼ ë³€ìˆ˜ì— ë‹´ì•„ë‘ê³  ì¶œë ¥ì— ì‚¬ìš©í•˜ê³ , í•©ê³„ ê³„ì‚°ì— ì‚¬ìš©í•˜ë©´ ë í…ë° ê·¸ ë¶€ë¶„ì€ ì•„ì˜ˆ ì‘ì„±ì„ ëª» í–ˆë‹¤. ã…‹ã…‹</p><blockquote><p>í•œ ì¤„ í‰: ê°„ê²°í•¨ìœ¼ë¡œëŠ” íƒ€ì˜ ì¶”ì¢…ì„ ë¶ˆí—ˆí•˜ì§€ë§Œ, Lispì— ìµìˆ™í•´ì§€ê¸°ëŠ” ì‰½ì§€ ì•Šë‹¤.</p></blockquote><h2 id="Rust"><a href="#Rust" class="headerlink" title="Rust"></a>Rust</h2><p>ìŠ¤íƒì˜¤ë²„í”Œë¡œìš° ê¸°ì¤€ ì˜¬í•´ê¹Œì§€ 4ë…„ ì—°ì† ê°€ì¥ ì‚¬ë‘ë°›ëŠ” ì–¸ì–´ ëŸ¬ìŠ¤íŠ¸ë„ í•œ ë²ˆ ì‹œë„í•´ë´¤ë‹¤.</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> mvps_count = MVPS.lines()</span><br><span class="line">        .map(|line| &amp;line[<span class="number">12</span>..line.find(<span class="string">','</span>).unwrap_or(line.len())])</span><br><span class="line">        .into_iter()</span><br><span class="line">        .sorted()</span><br><span class="line">        .group_by(|name| *name)</span><br><span class="line">        .into_iter()</span><br><span class="line">        .map(|(key, group)| (key, group.count()))</span><br><span class="line">        .sorted_by(|a, b| (b.<span class="number">1</span>).cmp(&amp;a.<span class="number">1</span>))</span><br><span class="line">        .inspect(|(key, count)| <span class="built_in">println!</span>(<span class="string">"&#123;&#125;: &#123;&#125;"</span>, key, count))</span><br><span class="line">        .map(|(_key, count)| count)</span><br><span class="line">        .fold(<span class="number">0</span> <span class="keyword">as</span> <span class="built_in">usize</span>, |a, b| a + b);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, MVPS.lines().count() == mvps_count);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ëŸ¬ìŠ¤íŠ¸ëŠ”.. ìì„¸í•œ ì„¤ëª…ì€ ìƒëµ.. í•˜ê³  ì‹¶ì§€ë§Œ..</p><p>ë‹¤ë¥¸ ì–¸ì–´ì™€ ê°€ì¥ í¬ê²Œ ë‹¤ë¥¸ ì ì€ <strong><code>group_by</code>ì „ì— ë°˜ë“œì‹œ <code>sorted()</code>ë¥¼ í•´ì¤˜ì•¼ ì œëŒ€ë¡œ í‚¤ ê¸°ì¤€ ë¶„ë¥˜ê°€ ì‘ë™</strong>í•œë‹¤ëŠ” ì ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ <code>[a, a, b, a, c, a]</code>ì— <code>group_by</code>ì™€ <code>map</code>ìœ¼ë¡œ í‚¤ ë³„ ë¶„ë¥˜ì™€ ì§‘ê³„ë¥¼ ì ìš©í•˜ë©´ <code>[(a, 4), (b, 1), (c, 1)]</code>ì´ ë‚˜ì˜¬ ê²ƒì´ ì˜ˆìƒë˜ê³  ë‹¤ë¥¸ ì–¸ì–´ëŠ” ëª¨ë‘ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ì§€ë§Œ, ëŸ¬ìŠ¤íŠ¸ëŠ” <code>[(a, 2), (b, 1), (a, 1), (c, 1), (a, 1)]</code>ë¼ëŠ” ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. ë”°ë¼ì„œ í‚¤ ê¸°ì¤€ìœ¼ë¡œ ë¨¼ì € ì •ë ¬ì„ í•´ì¤˜ì•¼ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ê²Œ ëœë‹¤.</p><p>ìë°”ì˜ <code>peek()</code>, ì½”í‹€ë¦°ì˜ <code>onEach()</code>ì²˜ëŸ¼ ëŸ¬ìŠ¤íŠ¸ì—ë„ <code>inspect()</code>ê°€ ìˆì–´ì„œ ì¶œë ¥ê³¼ ì „ì²´ í•©ê³„ë¥¼ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p><blockquote><p>í•œ ì¤„ í‰: ëŸ¬ìŠ¤íŠ¸ëŠ” ì‚¬ë‘ìŠ¤ëŸ¬ìš¸ì§€ì–¸ì • ì–´ë µê³  ì–´ì§€ëŸ½ë‹¤.</p></blockquote><h1 id="ë¬¸ì„œ-ë¹„êµ"><a href="#ë¬¸ì„œ-ë¹„êµ" class="headerlink" title="ë¬¸ì„œ ë¹„êµ"></a>ë¬¸ì„œ ë¹„êµ</h1><p>ì‚¬ì‹¤ ë‹¤ë¥¸ ì–¸ì–´ëŠ” ì˜ ëª¨ë¥´ëŠ” ì±„ë¡œ ì‹œë„í•´ë´¤ë˜ ê±°ë¼ ê²€ìƒ‰ê³¼ ë¬¸ì„œì— í¬ê²Œ ì˜ì¡´í•  ìˆ˜ ë°–ì— ì—†ì—ˆë‹¤. ê°œì¸ ì·¨í–¥ì— ë”°ë¼ ëª¨ë‘ ë‹¤ë¥¼í…Œì§€ë§Œ, ì´ì™• ë¹„êµí•œ ê±° êµ¬í˜„ ë§ê³  ë¬¸ì„œë„ êµ¬ê²½í•˜ê¸° ìˆ˜ì¤€ìœ¼ë¡œ ë¹„êµí•´ë³´ì. ê·¸ë˜ë„ ê³µì •í•œ ë¹„êµë¥¼ ìœ„í•´ <code>groupBy</code>ë¥¼ ì„¤ëª…í•˜ëŠ” ë¬¸ì„œë¡œ ë¹„êµí•œë‹¤.</p><h2 id="Java-1"><a href="#Java-1" class="headerlink" title="Java"></a>Java</h2><p><img src="https://i.imgur.com/NyfU0Gq.png" alt="Imgur"></p><p>ë¬´ì‹œë¬´ì‹œí•œ ì € ë©”ì„œë“œ ì‹œê·¸ë„ˆì²˜ë¡œ ì‹œì‘í•´ì„œ êµ¬êµ¬ì ˆì ˆ ì„¤ëª…ì„ ì´ì–´ê°„ë‹¤. ê·¸ë˜ë„ ì´ <code>groupingBy</code>ëŠ” ê³ ë§™ê²Œë„ ì‹¤ì œ ì‚¬ìš© ì˜ˆì œë¥¼ í•˜ë‚˜ ë˜ì ¸ì£¼ì…¨ëŠ”ë° ëª¨ë“  ë©”ì„œë“œì— ëŒ€í•´ ì´ëŸ° ì˜ˆì œê°€ ì œê³µë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ê·¸ë˜ì„œ ì˜ˆì œê°€ í’ë¶€í•˜ê²Œ ì œê³µë˜ëŠ” <a href="http://www.baeldung.com" target="_blank" rel="noopener">www.baeldung.com</a> ê°™ì€ ì‚¬ì´íŠ¸ë¥¼ ë§ì´ ì°¸ê³ í•˜ê²Œ ëœë‹¤.</p><h2 id="Scala-1"><a href="#Scala-1" class="headerlink" title="Scala"></a>Scala</h2><p><img src="https://i.imgur.com/iBoGbKT.png" alt="Imgur"></p><p>ìŠ¤ì¹¼ë¼ëŠ” ë¬¸ì„œë„ ê°„ê²°í•˜ë‹¤. ë„ˆë¬´ ê°„ê²°í•´ì„œ ì˜ˆì œë„ ì—†ë‹¤..</p><h2 id="Kotlin-1"><a href="#Kotlin-1" class="headerlink" title="Kotlin"></a>Kotlin</h2><p><img src="https://i.imgur.com/WVi56uS.png" alt="Imgur"></p><p>ì½”í‹€ë¦°ì€ <strong>ì˜ˆì œë¥¼ ë‹¨ìˆœí•œ í…ìŠ¤íŠ¸ê°€ ì•„ë‹ˆë¼ ì‹¤í–‰ ê°€ëŠ¥í•œ í™˜ê²½ê³¼ í•¨ê»˜ ì œê³µ</strong>í•œë‹¤!! ê·¸ë˜ì„œ ìš”ë¦¬ì¡°ë¦¬ ì§ì ‘ ë°”ê¿”ê°€ë©° ì‹¤í–‰ ê²°ê³¼ë¥¼ ë°”ë¡œ í™•ì¸í•´ ë³¼ ìˆ˜ ìˆë‹¤!! ì´ëŸ° ì°¸ì‹ í•¨ì—ëŠ” ë†’ì€ ì ìˆ˜ë¥¼ ì£¼ê³  ì‹¶ë‹¤. ê·¸ëŸ°ë° ì˜ˆì œê°€ í’ë¶€í•˜ì§€ëŠ” ì•Šë‹¤.</p><p>ìœ„ì— ì‘ì„±í•œ ì½”ë“œì—ëŠ” <code>groupBy</code>ê°€ í‚¤ ë¶„ë¥˜ë§Œ ê°€ëŠ¥í•˜ê²Œ ë˜ì–´ ìˆëŠ”ë° ë¬¸ì„œë¥¼ ë³´ë‹ˆ í‚¤ ë¶„ë¥˜ë¿ ì•„ë‹ˆë¼ í•­ëª© ì§‘ê³„ë„ ê°€ëŠ¥í•œ ê±¸ë¡œ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ ê´€ë ¨ ì˜ˆì œê°€ ì—†ì–´ì„œ ì–´ë–»ê²Œ í•˜ë©´ ì›í•˜ëŠ” ëŒ€ë¡œ ë°”ê¿€ ìˆ˜ ìˆì„ì§€ ë°”ë¡œ ì•Œ ìˆ˜ëŠ” ì—†ì—ˆë‹¤.</p><h2 id="Clojure-1"><a href="#Clojure-1" class="headerlink" title="Clojure"></a>Clojure</h2><p><img src="https://i.imgur.com/VWlC5NZ.png" alt="Imgur"></p><p>í´ë¡œì €ëŠ” ë¬¸ì„œë„ ê°€ì¥ ê°„ê²°í•˜ë‹¤. </p><p>ê·¸ëŸ°ë° ê·¸ë³´ë‹¤ ë” ì¤‘ìš”í•œ ê²ƒì€ <strong>ë‹¤ë¥¸ ì–¸ì–´ ë¬¸ì„œë“¤ê³¼ ë‹¬ë¦¬ ê³µì‹ ë¬¸ì„œê°€ ì˜¤í”ˆ ë°©ì‹</strong>ì´ë¼ëŠ” ê²ƒì´ë‹¤. ë¡œê·¸ì¸ë§Œ í•˜ë©´ ì‚¬ìš©ìê°€ ì§ì ‘ ë‹¤ì–‘í•œ ì˜ˆì œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ ë˜ì–´ ìˆì„ë¿ ì•„ë‹ˆë¼ í™”ë©´ì—ëŠ” ì•ˆ ë‚˜ì™”ì§€ë§Œ ì§ˆì˜ ì‘ë‹µë„ ê°€ëŠ¥í•˜ê²Œ ì™„ì „íˆ ì—´ë ¤ìˆë‹¤. </p><p>ë•ë¶„ì— í´ë¡œì €ë¥¼ ê±°ì˜ ëª¨ë¥´ëŠ” ë‚˜ê°™ì€ ë¬¸ì™¸í•œë„ MVP ìˆ˜ìƒíšŸìˆ˜ ì§‘ê³„ ì˜ˆì œ ì •ë„ëŠ” í´ë¡œì € ë¬¸ì„œ ì‚¬ì´íŠ¸ë§Œìœ¼ë¡œë„ ê·¸ëŸ­ì €ëŸ­ ì§¤ ìˆ˜ ìˆì—ˆë‹¤. ì‹¤ìš©ì„± ë©´ì—ì„œëŠ” ê°€ì¥ ë†’ì€ ì ìˆ˜ë¥¼ ì¤„ ë§Œí•˜ë‹¤.</p><h2 id="Rust-1"><a href="#Rust-1" class="headerlink" title="Rust"></a>Rust</h2><p><img src="https://i.imgur.com/W1rg6ZV.png" alt="Imgur"></p><p>ì¼ë‹¨ ìœ„ ì˜ˆì œì—ì„œ ì‚¬ìš©í•œ <code>group_by</code>ëŠ” ëŸ¬ìŠ¤íŠ¸ ìì²´ì— í¬í•¨ëœ ê²ƒì€ ì•„ë‹ˆê³ , <code>itertools</code>ë¼ëŠ” í¬ë ˆì´íŠ¸(crate, ê·¸ëƒ¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¼ê³  ì´í•´í•´ë„ í¬ê²Œ í‹€ë¦¬ì§€ ì•ŠìŒ)ì—ì„œ ì œê³µí•˜ëŠ” ê²ƒì¸ë°, ë¬¸ì„œì˜ í¬ë§·ì€ ëŸ¬ìŠ¤íŠ¸ì˜ ê³µì‹ ë¬¸ì„œ ì‚¬ì´íŠ¸ì™€ ë™ì¼í•˜ë‹¤.</p><p>ì ì ˆí•œ ì„¤ëª…ê³¼ í•¨ê»˜ ì˜ˆì œê°€ ì œê³µëœë‹¤. ì˜ˆì œì— ì£¼ì„ìœ¼ë¡œ ê³ ë§ˆìš´ ì„¤ëª…ì´ ë‹¬ë ¤ìˆê¸´ í•˜ì§€ë§Œ í´ë¡œì €ì²˜ëŸ¼ ì˜¤í”ˆ ë°©ì‹ì´ ì•„ë‹ˆë¼ì„œ ì˜ˆì œê°€ ë‹¤ì–‘í•˜ì§€ëŠ” ì•Šë‹¤.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ì¬ë¯¸ë¡œ-ë³´ëŠ”-ì–¸ì–´ë³„-ìŠ¤íŠ¸ë¦¼-ì²˜ë¦¬-ë¹„êµ&quot;&gt;&lt;a href=&quot;#ì¬ë¯¸ë¡œ-ë³´ëŠ”-ì–¸ì–´ë³„-ìŠ¤íŠ¸ë¦¼-ì²˜ë¦¬-ë¹„êµ&quot; class=&quot;headerlink&quot; title=&quot;ì¬ë¯¸ë¡œ ë³´ëŠ” ì–¸ì–´ë³„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ë¹„êµ&quot;&gt;&lt;/a&gt;ì¬ë¯¸ë¡œ ë³´ëŠ” ì–¸ì–´ë³„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ë¹„êµ&lt;/h1&gt;&lt;
      
    
    </summary>
    
      <category term="Language" scheme="http://homoefficio.github.io/categories/Language/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="ìë°”" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94/"/>
    
      <category term="Stream" scheme="http://homoefficio.github.io/tags/Stream/"/>
    
      <category term="ìŠ¤íŠ¸ë¦¼" scheme="http://homoefficio.github.io/tags/%EC%8A%A4%ED%8A%B8%EB%A6%BC/"/>
    
      <category term="Scala" scheme="http://homoefficio.github.io/tags/Scala/"/>
    
      <category term="Kotlin" scheme="http://homoefficio.github.io/tags/Kotlin/"/>
    
      <category term="Clojure" scheme="http://homoefficio.github.io/tags/Clojure/"/>
    
      <category term="Rust" scheme="http://homoefficio.github.io/tags/Rust/"/>
    
      <category term="groupBy" scheme="http://homoefficio.github.io/tags/groupBy/"/>
    
      <category term="groupingBy" scheme="http://homoefficio.github.io/tags/groupingBy/"/>
    
      <category term="sort by value" scheme="http://homoefficio.github.io/tags/sort-by-value/"/>
    
      <category term="map" scheme="http://homoefficio.github.io/tags/map/"/>
    
      <category term="reduce" scheme="http://homoefficio.github.io/tags/reduce/"/>
    
      <category term="fold" scheme="http://homoefficio.github.io/tags/fold/"/>
    
      <category term="peek" scheme="http://homoefficio.github.io/tags/peek/"/>
    
      <category term="onEach" scheme="http://homoefficio.github.io/tags/onEach/"/>
    
      <category term="inspect" scheme="http://homoefficio.github.io/tags/inspect/"/>
    
      <category term="Tuple" scheme="http://homoefficio.github.io/tags/Tuple/"/>
    
      <category term="Pair" scheme="http://homoefficio.github.io/tags/Pair/"/>
    
      <category term="it" scheme="http://homoefficio.github.io/tags/it/"/>
    
      <category term="_" scheme="http://homoefficio.github.io/tags//"/>
    
      <category term="jooL" scheme="http://homoefficio.github.io/tags/jooL/"/>
    
      <category term="reference doc" scheme="http://homoefficio.github.io/tags/reference-doc/"/>
    
      <category term="ìŠ¤ì¹¼ë¼" scheme="http://homoefficio.github.io/tags/%EC%8A%A4%EC%B9%BC%EB%9D%BC/"/>
    
      <category term="ì½”í‹€ë¦°" scheme="http://homoefficio.github.io/tags/%EC%BD%94%ED%8B%80%EB%A6%B0/"/>
    
      <category term="í´ë¡œì €" scheme="http://homoefficio.github.io/tags/%ED%81%B4%EB%A1%9C%EC%A0%80/"/>
    
      <category term="ëŸ¬ìŠ¤íŠ¸" scheme="http://homoefficio.github.io/tags/%EB%9F%AC%EC%8A%A4%ED%8A%B8/"/>
    
      <category term="ë³€í™˜" scheme="http://homoefficio.github.io/tags/%EB%B3%80%ED%99%98/"/>
    
      <category term="ì§‘ê³„" scheme="http://homoefficio.github.io/tags/%EC%A7%91%EA%B3%84/"/>
    
      <category term="íŠœí”Œ" scheme="http://homoefficio.github.io/tags/%ED%8A%9C%ED%94%8C/"/>
    
      <category term="í˜ì–´" scheme="http://homoefficio.github.io/tags/%ED%8E%98%EC%96%B4/"/>
    
      <category term="ê°’ìœ¼ë¡œ ì •ë ¬" scheme="http://homoefficio.github.io/tags/%EA%B0%92%EC%9C%BC%EB%A1%9C-%EC%A0%95%EB%A0%AC/"/>
    
      <category term="ê°’ ê¸°ì¤€ ì •ë ¬" scheme="http://homoefficio.github.io/tags/%EA%B0%92-%EA%B8%B0%EC%A4%80-%EC%A0%95%EB%A0%AC/"/>
    
  </entry>
  
  <entry>
    <title>JPA ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ ì˜ëª» ì‚¬ìš©í•˜ë©´ ë²Œì–´ì§€ëŠ” ì¼</title>
    <link href="http://homoefficio.github.io/2019/04/28/JPA-%EC%9D%BC%EB%8C%80%EB%8B%A4-%EB%8B%A8%EB%B0%A9%ED%96%A5-%EB%A7%A4%ED%95%91-%EC%9E%98%EB%AA%BB-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B4-%EB%B2%8C%EC%96%B4%EC%A7%80%EB%8A%94-%EC%9D%BC/"/>
    <id>http://homoefficio.github.io/2019/04/28/JPA-ì¼ëŒ€ë‹¤-ë‹¨ë°©í–¥-ë§¤í•‘-ì˜ëª»-ì‚¬ìš©í•˜ë©´-ë²Œì–´ì§€ëŠ”-ì¼/</id>
    <published>2019-04-28T01:30:35.000Z</published>
    <updated>2019-05-09T13:03:14.193Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JPA-ì¼ëŒ€ë‹¤-ë‹¨ë°©í–¥-ë§¤í•‘-ì˜ëª»-ì‚¬ìš©í•˜ë©´-ë²Œì–´ì§€ëŠ”-ì¼"><a href="#JPA-ì¼ëŒ€ë‹¤-ë‹¨ë°©í–¥-ë§¤í•‘-ì˜ëª»-ì‚¬ìš©í•˜ë©´-ë²Œì–´ì§€ëŠ”-ì¼" class="headerlink" title="JPA ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ ì˜ëª» ì‚¬ìš©í•˜ë©´ ë²Œì–´ì§€ëŠ” ì¼"></a>JPA ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ ì˜ëª» ì‚¬ìš©í•˜ë©´ ë²Œì–´ì§€ëŠ” ì¼</h1><p><code>Parent : Child = 1 : N</code> ì˜ ê´€ê³„ê°€ ìˆìœ¼ë©´ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ìœ¼ë¡œ ë§¤í•‘í•˜ëŠ” ê²ƒë³´ë‹¤ ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ìœ¼ë¡œ ë§¤í•‘í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì™œ ê·¸ëŸ°ì§€ êµ¬ì²´ì ìœ¼ë¡œ ì‚´í´ë³´ì.</p><h1 id="ì¡°ì¸í…Œì´ë¸”-ë°©ì‹ì˜-ì¼ëŒ€ë‹¤-ë‹¨ë°©í–¥-ë§¤í•‘"><a href="#ì¡°ì¸í…Œì´ë¸”-ë°©ì‹ì˜-ì¼ëŒ€ë‹¤-ë‹¨ë°©í–¥-ë§¤í•‘" class="headerlink" title="ì¡°ì¸í…Œì´ë¸” ë°©ì‹ì˜ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘"></a>ì¡°ì¸í…Œì´ë¸” ë°©ì‹ì˜ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘</h1><p>ê·¸ëŸ°ë° ì–´ë–¤ íŠ¹ë³„í•œ ì´ìœ ê°€ ìˆì„ ìˆ˜ë„ ìˆê³ , ê·¸ëƒ¥ ë³„ ìƒê°ì—†ì´ ì‘ì„±ëœ ë ˆê±°ì‹œ ì¼ ìˆ˜ë„ ìˆê³ , ì•„ë‹ˆë©´ JPAì— ì‚´ì§ ì„œíˆ´ëŸ¬ì„œë„ ìˆê³ , ì—¬íŠ¼ ë‹¤ìŒê³¼ ê°™ì´ ì§ê´€ì ìœ¼ë¡œ ë‹¨ìˆœí•˜ê²Œ <strong><code>@OneToMany</code>ë§Œ ë‹¬ë‘ ë¶™ì—¬ì„œ ë§¤í•‘í•˜ë©´ ì¡°ì¸í…Œì´ë¸” ë°©ì‹ì˜ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë°©ì‹ìœ¼ë¡œ ë§¤í•‘ëœë‹¤.</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OneToMany</span>(cascade = CascadeType.ALL, orphanRemoval = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">private</span> List&lt;Child&gt; children = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">Parent</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Parent</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Parent</span><span class="params">(String name, List&lt;Child&gt; children)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.children.addAll(children);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Child</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">Child</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Child</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ì¡°ì¸í…Œì´ë¸”ì¸ <code>parent_children</code>ë¼ëŠ” í…Œì´ë¸”ì´ ìƒˆë¡œ ìƒê¸´ë‹¤. ë­ í…Œì´ë¸” í•˜ë‚˜ ìƒê¸°ë©´ ì–´ë•Œ.. í°ì¼ ë‚˜ê² ì–´? ë¼ê³  ìƒê°í•  ìˆ˜ë„ ìˆì§€ë§Œ, <strong><code>children</code>ì´ ë§ì§€ ì•Šì„ ë•Œë§Œ í° ì¼ì´ ì•ˆ ë‚˜ê³ , ë§ìœ¼ë©´ ì œë²• í° ì¼ì´ ë‚œë‹¤.</strong></p><h1 id="ì‹œë‚˜ë¦¬ì˜¤"><a href="#ì‹œë‚˜ë¦¬ì˜¤" class="headerlink" title="ì‹œë‚˜ë¦¬ì˜¤"></a>ì‹œë‚˜ë¦¬ì˜¤</h1><p>ìœ„ì™€ ê°™ì´ ë§¤í•‘ëœ ìƒíƒœì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ê°„ë‹¨í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒê°í•´ë³´ì.</p><ol><li><code>parent</code>ê°€ 10ê°œì˜ Childë¥¼ í¬í•¨í•˜ëŠ” <code>children</code>ì„ ê°€ì§„ë‹¤.</li><li><code>parent.children</code>ì—ì„œ Childì˜ idê°€ 1, 2ì¸ ê²ƒ 2ê°œë§Œ ì‚­ì œí•œë‹¤.</li></ol><p>1ë²ˆì€ ë­ ì²˜ìŒ ìƒì„±ì´ë‹ˆ <code>parent</code> 1ê°œì— ëŒ€í•´ <code>parent</code> í…Œì´ë¸”ì— insert 1íšŒ, <code>children</code> 10ê°œì— ëŒ€í•´ <code>child</code> í…Œì´ë¸”ì— insert 10íšŒ ì‹¤í–‰ëœë‹¤. ê·¸ë¦¬ê³  ì¡°ì¸í…Œì´ë¸” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ë¯€ë¡œ <code>parent_children</code> í…Œì´ë¸”ì—ë„ insert 10íšŒ ì‹¤í–‰ëœë‹¤.</p><p>2ë²ˆì—ì„œ <code>children</code> ì¤‘ì—ì„œ 2ê°œë¥¼ ì§€ìš°ë¯€ë¡œ <code>parent_children</code> í…Œì´ë¸”ì—ì„œ delete 2íšŒ ì‹¤í–‰ë˜ê³ , <code>orphanRemoval = true</code>ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ <code>child</code> í…Œì´ë¸”ì—ì„œ delete 2íšŒ ì‹¤í–‰ë  ê²ƒì´ë‹¤.</p><p>í•˜ì§€ë§Œ ì§ì ‘ ì‹¤í–‰í•´ë³´ë©´ 2ë²ˆì€ ì˜ˆìƒê³¼ ì™„ì „íˆ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤!!</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span>(onConstructor = @__(<span class="meta">@Autowired</span>))</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OneToManyRunner</span> <span class="keyword">implements</span> <span class="title">CommandLineRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> ParentRepository parentRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Parent parent1 = <span class="keyword">new</span> Parent(<span class="string">"parent 1"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= <span class="number">10</span> ; i++) &#123;</span><br><span class="line">            parent1.getChildren().add(</span><br><span class="line">                    <span class="keyword">new</span> Child(<span class="string">"child "</span> + i)</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Parent dbParent = <span class="keyword">this</span>.parentRepository.saveAndFlush(parent1);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*****************************"</span>);</span><br><span class="line">        </span><br><span class="line">        List&lt;Child&gt; children = dbParent.getChildren();</span><br><span class="line">        children.removeIf(child -&gt; </span><br><span class="line">                child.getId() == <span class="number">1L</span> || child.getId() == <span class="number">2L</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ì‹¤í–‰-ê²°ê³¼"><a href="#ì‹¤í–‰-ê²°ê³¼" class="headerlink" title="ì‹¤í–‰ ê²°ê³¼"></a>ì‹¤í–‰ ê²°ê³¼</h1><p><code>parent_children</code> í…Œì´ë¸”ì—ì„œ delete 2íšŒ, <code>orphanRemoval = true</code>ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ <code>child</code> í…Œì´ë¸”ì—ì„œ delete 2íšŒ ì‹¤í–‰ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒí–ˆì§€ë§Œ ì‹¤ì œë¡œëŠ”,</p><ul><li><strong><code>parent.children</code> 10ê°œ ëª¨ë‘ delete ë˜ë©´ì„œ <code>parent_children</code> í…Œì´ë¸”ì—ì„œ <code>children_id</code>ê°€ 1, 2ì¸ ê²ƒì„ ì œì™¸í•œ 8ê°œì˜ ë ˆì½”ë“œì— ëŒ€í•´ ëª¨ë‘ 8íšŒì˜ insertê°€ ì‹¤í–‰</strong>ë˜ê³ , </li><li>ë§ˆì§€ë§‰ì— <code>child</code> í…Œì´ë¸”ì—ì„œ 2íšŒì˜ deleteê°€ ì‹¤í–‰ëœë‹¤.</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">parent</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">parent</span> <span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">2</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">3</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">4</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">5</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">6</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">7</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">8</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">9</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">10</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">2</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">3</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">4</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">5</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">6</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">7</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">8</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">9</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">10</span>]</span><br><span class="line">*****************************</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> parent_children <span class="keyword">where</span> parent_id=?  &lt;== í—‰!! í˜•ì´ ì™œ ì—¬ê¸°ì„œ ë‚˜ì™€!!</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">3</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">4</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">5</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">6</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">7</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">8</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">9</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> parent_children (parent_id, children_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">10</span>]</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">child</span> <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">child</span> <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">2</span>]</span><br></pre></td></tr></table></figure><p>ì•ì—ì„œ <code>children</code>ì˜ ê°¯ìˆ˜ê°€ ë§ì§€ ì•Šì„ ë•Œë§Œ í° ì¼ì´ ì•ˆ ìƒê¸´ë‹¤ê³  í•œ ì´ìœ ê°€ ì—¬ê¸°ì— ìˆë‹¤. ìœ„ì˜ ì‚¬ë¡€ì—ì„œëŠ” <code>children</code>ì´ 10ê°œ ë°–ì— ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ insertë¥¼ 10ê°œ ì¯¤ í•œë‹¤ê³  í•´ë„ ì‚¬ì‹¤ ê±°ì˜ í‹°ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ 10ê°œê°€ ì•„ë‹ˆë¼ 1000ê°œ, 10000ê°œ ê·¸ ì´ìƒì´ë¼ë©´? <strong>ê³ ì‘ ë ˆì½”ë“œ 2ê°œ ì‚­ì œí•˜ë ¤ëŠ” ê²ƒ ë¿ì¸ë° 1000íšŒ, 10000íšŒì˜ insertê°€ ì‹¤í–‰ëœë‹¤.</strong> ã„·ã„·ã„·</p><p>ê·¸ëŸ°ë° ì™œ ì´ë ‡ê²Œ ë™ì‘í•˜ëŠ” ê±¸ê¹Œ?</p><h1 id="ë‚˜ë¦„ì˜-ì‚¬ì—°"><a href="#ë‚˜ë¦„ì˜-ì‚¬ì—°" class="headerlink" title="ë‚˜ë¦„ì˜ ì‚¬ì—°"></a>ë‚˜ë¦„ì˜ ì‚¬ì—°</h1><p>ì‹¤í–‰í•œ í›„ <code>parent_children</code> í…Œì´ë¸”ì„ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th>parent_id</th><th>children_id</th></tr></thead><tbody><tr><td>1</td><td>3</td></tr><tr><td>1</td><td>4</td></tr><tr><td>1</td><td>5</td></tr><tr><td>1</td><td>6</td></tr><tr><td>1</td><td>7</td></tr><tr><td>1</td><td>8</td></tr><tr><td>1</td><td>9</td></tr><tr><td>1</td><td>10</td></tr></tbody></table><p>ë‚˜: ë­ì•¼, <code>1 | 1</code>ì¸ í–‰ì´ë‘ <code>1 | 2</code>ì¸ í–‰ 2ê°œë§Œ ì§€ìš¸ ìˆ˜ ìˆì—ˆì„ ê²ƒ ê°™ì€ë°, ì™œ <code>parent_id</code>ê°€ 1ì¸ ê±¸ ëª½ë•… ì§€ì›Œ?</p><p>Hibernate: í—ˆí—ˆ.. ê·¸ê²Œ ë§ì´ì•¼.. í—ˆí—ˆ.. í…Œì´ë¸”ë¡œ ë³´ê¸°ì—” ì €ëŸ°ë°.. í—ˆí—ˆ.. <strong>ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ì´ì–ì•„.. í—ˆí—ˆ.. ê·¸ë˜ì„œ.. í—ˆí—ˆ.. <code>parent_id</code>ê°€ 1ì´ë¼ëŠ” ê²ƒì„ ê°œë³„ í–‰ì— ëŒ€í•œ ì¡°ê±´ìœ¼ë¡œ ì¤„ ìˆ˜ê°€ ì—†ì–´..</strong> í—ˆí—ˆ.. ê·¸ë˜ì„œ <code>parent_id</code>ê°€ 1ì¸ ê±¸ ëª½ë•… ì§€ìš°ê³  ë‹¤ì‹œ ì±„ì› ì–´.. í—ˆí—ˆ..</p><p>ë‚˜: ë­ë˜ëƒ..</p><p>ì´ê²ƒë„ ë§ë³´ë‹¤ ì½”ë“œê°€ ë” ì‰½ê³  ëª…í™•í•œ ì¼€ì´ìŠ¤ë‹¤. idê°€ 1, 2ì¸ <code>child</code>ë¥¼ ì‚­ì œí•˜ëŠ” ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Child&gt; children = dbParent.getChildren();</span><br><span class="line">children.removeIf(child -&gt; </span><br><span class="line">        child.getId() == <span class="number">1L</span> || child.getId() == <span class="number">2L</span>);  <span class="comment">// &lt;-- ì—¬ê¸°!!</span></span><br></pre></td></tr></table></figure><p>ìœ„ì— <code>ì—¬ê¸°</code>ë¡œ í‘œì‹œí•œ ë¶€ë¶„ì—ì„œ <code>parent_id</code>ì— ëŒ€í•œ ì¡°ê±´ì„ ì¤„ ìˆ˜ê°€ ì—†ë‹¤. ì™œëƒê³ ? ìœ„ì— Hibernateê°€ ì–˜ê¸°í•´ ì¤€ëŒ€ë¡œ <strong>ì¼ëŒ€ì¼ ë‹¨ë°©í–¥ì´ë¼ì„œ <code>child</code>ëŠ” <code>parent</code>ë¥¼ ëª¨ë¥¸ë‹¤. ë”°ë¼ì„œ <code>parent_id</code>ë¥¼ <code>children</code>ì˜ ê°œë³„ í–‰ì— ëŒ€í•œ ì‚­ì œ ì¡°ê±´ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ê°€ ì—†ë‹¤.</strong></p><p>ëŒ€ì‹ ì— <code>dbParent.getChildren()</code>ì˜ <code>dbParent</code>ì—ëŠ” <code>parent_id</code>ê°€ 1ì´ë¼ëŠ” ì •ë³´ê°€ ìˆë‹¤. ê·¸ë˜ì„œ <strong><code>children</code>ë¥¼ ê°œë³„ í–‰ ë‹¨ìœ„ë¡œ ì‚­ì œí•  ìˆ˜ëŠ” ì—†ì§€ë§Œ <code>parent_children</code> í…Œì´ë¸”ì—ì„œëŠ” <code>parent_id</code>ê°€ 1ì¸ í–‰ì„ ëª¨ë‘ ì‚­ì œí•  ìˆ˜ëŠ” ìˆë‹¤.</strong> ê·¸ë˜ì„œ <code>parent_id</code>ê°€ 1ì¸ ë ˆì½”ë“œë¥¼ ëª¨ë‘ delete í•œ í›„ì— ë‹¤ì‹œ insertë¥¼ ë°˜ë³µí•˜ëŠ” ë…¸ê°€ë‹¤ë¥¼ í•œ ê²ƒì´ë‹¤.</p><p>ê²°êµ­ HibernateëŠ” ì£¼ì–´ì§„ í™˜ê²½ì—ì„œ ìµœì„ ì„ ë‹¤í•œ ì…ˆì´ê³  ì•„ë¬´ ì£„ê°€ ì—†ë‹¤. ëª¨ë‘ delete í›„ ë‹¤ì‹œ ëª¨ë‘ insert ë°˜ë³µìœ¼ë¡œë§Œ í•´ê²°í•  ìˆ˜ ìˆê²Œ ì½”ë“œë¥¼ ì§  ì‚¬ëŒì´ ì˜ëª»ì´ë‹¤.</p><h1 id="í•´ê²°"><a href="#í•´ê²°" class="headerlink" title="í•´ê²°"></a>í•´ê²°</h1><p>ì´ì œ ë¬¸ì œë¥¼ ë°”ë¡œì¡ì•„ë³´ì. ì¡°ì¸í…Œì´ë¸” ë°©ì‹ì˜ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ë•Œë¬¸ì— <code>children</code> ìª½ì—ì„œ í–‰ ë‹¨ìœ„ë¡œ <code>parent_id</code>ë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤ëŠ” ê²Œ ì›ì¸ì´ì—ˆìœ¼ë¯€ë¡œ, <strong>ì–´ë–»ê²Œë“  <code>children</code> ìª½ì—ì„œ í–‰ ë‹¨ìœ„ë¡œ <code>parent_id</code>ë¥¼ ì•Œ ìˆ˜ ìˆê²Œ í•´ì£¼ë©´ ëœë‹¤. ì¦‰ í…Œì´ë¸” ìƒì—ì„œ <code>children</code> ìª½ì— <code>parent_id</code> ì»¬ëŸ¼ì´ ì¶”ê°€ë˜ë„ë¡ ë§¤í•‘í•˜ë©´ ëœë‹¤.</strong></p><p>ë°©ë²•ì€ ë‘ ê°€ì§€ê°€ ìˆë‹¤. ì¡°ì¸í…Œì´ë¸”ì´ ì•„ë‹Œ ì¡°ì¸ì»¬ëŸ¼ ë°©ì‹ì˜ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ê³¼ ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘ì´ë‹¤.</p><p>ë¨¼ì € ì¡°ì¸ì»¬ëŸ¼ ë°©ì‹ì˜ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ë¶€í„° ì•Œì•„ë³´ì.</p><h2 id="ì¡°ì¸ì»¬ëŸ¼-ë°©ì‹ì˜-ì¼ëŒ€ë‹¤-ë‹¨ë°©í–¥-ë§¤í•‘"><a href="#ì¡°ì¸ì»¬ëŸ¼-ë°©ì‹ì˜-ì¼ëŒ€ë‹¤-ë‹¨ë°©í–¥-ë§¤í•‘" class="headerlink" title="ì¡°ì¸ì»¬ëŸ¼ ë°©ì‹ì˜ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘"></a>ì¡°ì¸ì»¬ëŸ¼ ë°©ì‹ì˜ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘</h2><p>ì´ ë°©ì‹ì€ Parentì— ë‹¨ í•œ ì¤„ì˜ ì½”ë“œë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤. ë¬¼ë¡  ì˜ˆì œ ì½”ë“œì—ì„œë§Œ..</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OneToMany</span>(cascade = CascadeType.ALL, orphanRemoval = <span class="keyword">true</span>)</span><br><span class="line"><span class="meta">@JoinColumn</span>(name = <span class="string">"parent_id"</span>)  <span class="comment">// &lt;-- ì—¬ê¸°!!</span></span><br><span class="line"><span class="keyword">private</span> List&lt;Child&gt; children = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure><p>ìœ„ì™€ ê°™ì´ Parent ì—”í‹°í‹°ì— <code>@JoinColumn(name = &quot;parent_id&quot;)</code>ë§Œ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.</p><p>ì´ì œ ì¡°ì¸í…Œì´ë¸” ë°©ì‹ì´ ì•„ë‹ˆë¯€ë¡œ <code>parent_children</code> í…Œì´ë¸”ì€ í•„ìš” ì—†ê³ , <code>child</code> í…Œì´ë¸”ì— <code>parent_id</code> ì»¬ëŸ¼ì´ ì¶”ê°€ë˜ê³ , <code>child</code> í…Œì´ë¸”ì˜ í–‰ ë‹¨ìœ„ë¡œ <code>parent_id</code>ë¥¼ ì•Œ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ëª½ì°½ delete í›„ ëª½ì°½ insert í•˜ëŠ” ë…¸ê°€ë‹¤ëŠ” ë°œìƒí•˜ì§€ ì•Šê³  idê°€ 1, 2ì¸ <code>child</code>ë§Œ ì‚­ì œí•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p><p>ì‹¤í–‰í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">parent</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">parent</span> <span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">2</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">3</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">4</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">5</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">6</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">7</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">8</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">9</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">10</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">2</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">3</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">4</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">5</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">6</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">7</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">8</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">9</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=? <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">10</span>]</span><br><span class="line">*****************************</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=<span class="literal">null</span> <span class="keyword">where</span> parent_id=? <span class="keyword">and</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> <span class="keyword">set</span> parent_id=<span class="literal">null</span> <span class="keyword">where</span> parent_id=? <span class="keyword">and</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">2</span>]</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">child</span> <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">child</span> <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">2</span>]</span><br></pre></td></tr></table></figure><p>ì˜¤ ì—­ì‹œë‚˜ <code>*****</code> ì•„ë˜ì— 10ë²ˆì˜ ë¶ˆí•„ìš”í•œ insert ê°€ ëª¨ë‘ ì‚¬ë¼ì§€ê³  ë§¨ ì•„ë˜ delete 2íšŒë§Œ ì‹¤í–‰ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p>ê·¸ëŸ°ë° <code>*****</code> ë°”ë¡œ ìœ„ì— 10ë²ˆì˜ updateëŠ” ë˜ ì™œ ì‹¤í–‰ëœê±°ì§€?</p><p>ì´ìœ ëŠ” ì´ë²ˆì—ë„ ë‹¨ë°©í–¥ì´ê¸° ë•Œë¬¸ì´ë‹¤. <strong>ì¡°ì¸ì»¬ëŸ¼ ë°©ì‹ìœ¼ë¡œ ë³€í™˜í•˜ë©´ì„œ <code>child</code> í…Œì´ë¸”ì— <code>parent_id</code> ì»¬ëŸ¼ì´ ì¶”ê°€ë˜ê¸°ëŠ” í–ˆì§€ë§Œ, ë‹¨ë°©í–¥ì´ë¼ì„œ <code>child</code>ëŠ” <code>parent</code>ì˜ ì¡´ì¬ë¥¼ ëª¨ë¥´ë¯€ë¡œ <code>parent_id</code>ì˜ ê°’ì„ ì•Œ ìˆ˜ëŠ” ì—†ë‹¤.</strong> ë­ë„ê¹Œ ëƒ‰ì¥ê³ ëŠ” ì‚¬ë†¨ëŠ”ë° ë­˜ë¡œ ì±„ì›Œì•¼í• ì§€ ëª¨ë¥´ëŠ”..</p><p>ê·¸ë˜ì„œ <strong>ê°œë³„ í–‰ ë‹¨ìœ„ë¡œëŠ” <code>parent_id</code> ì»¬ëŸ¼ì— ê°’ì´ ì—†ëŠ” ì±„ë¡œ insert ë˜ê³ , insert ëœ 10ê°œì˜ í–‰ì˜ <code>parent_id</code> ì»¬ëŸ¼ì—ëŠ” <code>dbParent.getChildren()</code>ì—ì„œ ì•Œì•„ë‚¼ ìˆ˜ ìˆëŠ” <code>parent_id</code> ê°’ì„ update ë¥¼ í†µí•´ ì„¤ì •</strong>í•œë‹¤. í•˜ì§€ë§Œ ì´ê±´ ìµœì´ˆì— ë°ì´í„°ê°€ ì„¸íŒ…ë  ë•Œ 1íšŒë§Œ ê·¸ëŸ°ê±°ê³ , ì´ë ‡ê²Œ <code>parent_id</code> ê°’ì´ ì €ì¥ëœ í›„ì—ëŠ” ì‚­ì œë¥¼ ì›í•˜ëŠ” ë ˆì½”ë“œë§Œ ì‚­ì œí•  ìˆ˜ ìˆê²Œ ë˜ë¯€ë¡œ ì¡°ì¸í…Œì´ë¸” ë°©ì‹ì˜ ë¬¸ì œëŠ” í•´ê²°í–ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p><p>ì´ì œ <code>*****</code> ì•„ë˜ì— ì‹¤í–‰ëœ ì¿¼ë¦¬ë¥¼ ì‚´í´ë³´ì. updateê°€ 2íšŒ, deleteê°€ 2íšŒ ì‹¤í–‰ëë‹¤. delete 2íšŒë§Œ ì‹¤í–‰ë˜ê¸°ë¥¼ ì˜ˆìƒí–ˆì§€ë§Œ update 2íšŒê°€ ë¨¼ì € ì‹¤í–‰ëë‹¤. ì´ ë¶€ë¶„ì€ ìì„¸íˆ ì‚´í´ë³¼ í•„ìš”ê°€ ìˆë‹¤.</p><p><strong>ì‹ ë™ë¯¼ ë‹˜ì˜ ë„ì›€</strong>ìœ¼ë¡œ ì •í™•íˆ ì•Œê²Œ ë˜ì—ˆëŠ”ë°, ì¼ëŒ€ë‹¤ ì¡°ì¸ì»¬ëŸ¼ ë°©ì‹ì—ì„œ <code>children.remove(child)</code>ë¥¼ ì‹¤í–‰í•´ì„œ <code>children</code> ìª½ì˜ ë ˆì½”ë“œ ì‚­ì œë¥¼ ì‹œë„í•˜ë©´ ì‹¤ì œ ì¿¼ë¦¬ëŠ” deleteê°€ ì•„ë‹ˆë¼ í•´ë‹¹ ë ˆì½”ë“œì˜ <code>parent_id</code>ì— nullì„ ì €ì¥í•˜ëŠ” updateê°€ ì‹¤í–‰ëœë‹¤. ì˜ë„ì™€ ë‹¤ë¥´ê²Œ ë™ì‘í•œ ê²ƒ ê°™ì•„ì„œ ì´ìƒí•´ë³´ì´ì§€ë§Œ, ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ì—ì„œ <strong><code>children.remove(child)</code>ëŠ” ì‚¬ì‹¤ <code>child</code> ìì²´ë¥¼ ì‚­ì œí•˜ë¼ëŠ” ê²Œ ì•„ë‹ˆë¼ <code>child</code>ê°€ <code>parent</code>ì˜ <code>children</code>ì˜ í•˜ë‚˜ë¡œ ì¡´ì¬í•˜ëŠ” ê´€ê³„ë¥¼ remove í•˜ë¼ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ <code>child</code> ìì²´ë¥¼ delete í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ <code>parent_id</code>ì— null ê°’ì„ ë„£ëŠ” updateë¥¼ ì‹¤í–‰í•˜ëŠ” ê²Œ ì •í™•íˆ ë§ë‹¤.</strong> ì´ ë¶€ë¶„ì˜ ì½”ë“œë„ ì‹ ë™ë¯¼ ë‹˜ì´ ì•Œë ¤ì£¼ì…¨ëŠ”ë° <a href="https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/persister/collection/OneToManyPersister.java" target="_blank" rel="noopener">ì—¬ê¸°</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. </p><p>ê²°êµ­ ì´ë²ˆì—ë„ HibernateëŠ” ì •í™•íˆ ë™ì‘í•œë‹¤. ê´€ê³„ì˜ removeë¥¼ ë ˆì½”ë“œì˜ deleteë¡œ ë„˜ê²¨ì§šì€ ì‚¬ëŒì´ ë¬¸ì œì§€..</p><p><strong>ê·¸ëŸ¼ ë§ˆì§€ë§‰ì— ì‹¤í–‰ëœ 2íšŒì˜ deleteëŠ” ë­˜ê¹Œ? ì´ê±´ <code>orphanRemoval = true</code>ë¡œ ì„¤ì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— 2ê°œì˜ <code>child</code> ìì²´ë¥¼ delete í•œ ê²ƒ</strong>ì´ë‹¤.</p><p>ê·¸ëŸ°ë° ì‚¬ì‹¤ Hibernateê°€ ì–´ì°Œ ë™ì‘í•˜ë“  ê°„ì—, ë°ì´í„° ì²˜ë¦¬ ê´€ì ì—ì„œ ë³´ìë©´ ì›í–ˆë˜ ê²ƒì€ 2ê°œì˜ ë ˆì½”ë“œë¥¼ delete í•˜ëŠ” ê²ƒì´ì—ˆëŠ”ë°, 2íšŒì˜ updateì™€ 2íšŒì˜ deleteê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì€ ì—¬ì „íˆ ë¶ˆí•„ìš”í•œ ì‘ì—…ì´ ì¶”ê°€ëœ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ <strong>ì´ë¥¼ ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œë¼ê³  ë¶€ë¥´ëŠ” ê²ƒì€ ì í•©í•˜ì§€ ì•Šì•„ ë³´ì¸ë‹¤.</strong> </p><p><strong>RDB ê´€ì ì—ì„œ ë³´ë©´ í…Œì´ë¸” ì‚¬ì´ì˜ ê´€ê³„ëŠ” ì–¸ì œë‚˜ ì–‘ë°©í–¥ì´ì§€ë§Œ JPAì˜ ì—”í‹°í‹° ì‚¬ì´ì˜ ê´€ê³„ëŠ” ë‹¨ë°©í–¥ê³¼ ì–‘ë°©í–¥ì´ ë¶„ëª…íˆ ë‹¤ë¥´ë‹¤.</strong> ë”°ë¼ì„œ RDB ê´€ì ì—ì„œì•¼ ì´ê±¸ ì˜¤ë²„í—¤ë“œë¼ê³  ë¶€ë¥¼ ìˆ˜ë„ ìˆê² ì§€ë§Œ, <strong>ë‹¨ë°©í–¥ìœ¼ë¡œ ë§¤í•‘ëœ JPAì—ì„œëŠ” ë ˆì½”ë“œì˜ deleteê°€ ì•„ë‹ˆë¼ ê´€ê³„ì˜ removeë¡œ ë™ì‘í•˜ëŠ” ê²ƒì´ ì •í™•í•˜ê³  ë”°ë¼ì„œ deleteê°€ ì•„ë‹ˆë¼ updateë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ë§ìœ¼ë¯€ë¡œ ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œë¼ê³  ë¶€ë¥´ëŠ” ê²ƒì€ ì í•©í•˜ì§€ ì•Šë‹¤.</strong></p><p>ê·¸ë˜ë„ ì—¬ì „íˆ 2íšŒì˜ deleteë§Œìœ¼ë¡œ ëë‚  ì¼ì„ 2íšŒì˜ updateì™€ <code>orphanRemoval</code>ì„ ë™ì›í•´ì„œ 2íšŒì˜ deleteë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ë§ˆìŒì— ì•ˆ ë“ ë‹¤ë©´, <strong>RDB ì²˜ëŸ¼ ì–‘ë°©í–¥ìœ¼ë¡œ ë§Œë“¤ì–´ ì£¼ë©´ JPAë„ RDB ì²˜ëŸ¼ 2íšŒì˜ deleteë§Œìœ¼ë¡œ ëë‚¸ë‹¤.</strong> ê·¸ëŸ¼ ì´ì œ ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘ì„ ì‚´í´ë³´ì.</p><p>ê·¸ ì „ì—, ì•ì—ì„œ ì¡°ì¸ì»¤ëŸ¼ ë°©ì‹ìœ¼ë¡œì˜ ì „í™˜ì„ ë‹¨ í•œ ì¤„ë¡œ ì ìš©ê°€ëŠ¥ í•œ ê²ƒì€ ì˜ˆì œ ì½”ë“œë¼ì„œ ê°€ëŠ¥í•˜ë‹¤ê³  í–ˆëŠ”ë°, êµ¬ì²´ì ìœ¼ë¡œ ë§í•˜ë©´ <code>*****</code> ìœ„ì—ì„œ updateë¡œ ê°’ì„ ìë™ ì„¸íŒ…í•´ì£¼ëŠ” ê²ƒë„ ì˜ˆì œ ì½”ë“œë¼ì„œ, <strong><code>spring.jpa.properties.hibernate.hbm2ddl.auto</code> ì˜µì…˜ì„ <code>create</code> ë“± ë§ˆìŒëŒ€ë¡œ ì¤„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•œ ê²ƒì´ê³ , ì‹¤ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ì €ë ‡ê²Œ ìˆ˜í–‰í•  ìˆ˜ ì—†ë‹¤.</strong></p><p>ìš´ì˜ í™˜ê²½ì—ì„œëŠ” <code>child</code> í…Œì´ë¸”ì— <code>parent_id</code> ì»¬ëŸ¼ë„ ì§ì ‘ ì¶”ê°€í•´ì¤˜ì•¼ í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ update ì¿¼ë¦¬ë¥¼ ë§Œë“¤ì–´ì„œ <strong>ê¸°ì¡´ì— <code>parent_children</code> í…Œì´ë¸”ì— ìˆë˜ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ <code>child</code> í…Œì´ë¸”ì˜ <code>parent_id</code> ì»¬ëŸ¼ì— ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•´ì¤˜ì•¼ í•œë‹¤.</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="keyword">child</span> a</span><br><span class="line"><span class="keyword">set</span> a.parent_id = (</span><br><span class="line">    <span class="keyword">select</span> b.parent_id </span><br><span class="line">    <span class="keyword">from</span> parent_children b</span><br><span class="line">    <span class="keyword">where</span> a.id = b.children_id</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="ì¼ëŒ€ë‹¤-ì–‘ë°©í–¥-ë§¤í•‘"><a href="#ì¼ëŒ€ë‹¤-ì–‘ë°©í–¥-ë§¤í•‘" class="headerlink" title="ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘"></a>ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘</h2><p>ì•ì—ì„œ ì‚´í´ë³¸ ê²ƒì²˜ëŸ¼ RDBì™€ ë˜‘ê°™ì´ ë™ì‘í•˜ê¸°ë¥¼ ì›í•œë‹¤ë©´ JPAì—ì„œë„ ì–‘ë°©í–¥ìœ¼ë¡œ ë§¤í•‘ì„ í•´ì¤˜ì•¼ í•œë‹¤. ì¡°ì¸ì»¬ëŸ¼ ë°©ì‹ìœ¼ë¡œ ì „í™˜í•  ë•Œë³´ë‹¤ëŠ” ì¡°ê¸ˆ ì†ì´ ë” ê°€ì§€ë§Œ ì‘ì—…ëŸ‰ì€ ê·¸ë¦¬ ë§ì§€ ì•Šë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// mappedBy ì¶”ê°€</span></span><br><span class="line">    <span class="meta">@OneToMany</span>(mappedBy = <span class="string">"parent"</span>, cascade = CascadeType.ALL, orphanRemoval = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">private</span> List&lt;Child&gt; children = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">Parent</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Parent</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Parent</span><span class="params">(String name, List&lt;Child&gt; children)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.children.addAll(children);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Child</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Parent í•„ë“œ ì¶”ê°€</span></span><br><span class="line">    <span class="meta">@ManyToOne</span></span><br><span class="line">    <span class="meta">@JoinColumn</span>(name = <span class="string">"parent_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> Parent parent;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">Child</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ìƒì„±ìì— Parent ì¶”ê°€</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Child</span><span class="params">(String name, Parent parent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.parent = parent;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span>(onConstructor = @__(<span class="meta">@Autowired</span>))</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OneToManyRunner</span> <span class="keyword">implements</span> <span class="title">CommandLineRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> ParentRepository parentRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Parent parent1 = <span class="keyword">new</span> Parent(<span class="string">"parent 1"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= <span class="number">10</span> ; i++) &#123;</span><br><span class="line">            parent1.getChildren().add(</span><br><span class="line">                    <span class="keyword">new</span> Child(<span class="string">"child "</span> + i, parent1)  <span class="comment">// ìƒì„± ì‹œ parent1 ì¶”ê°€</span></span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        Parent dbParent = <span class="keyword">this</span>.parentRepository.saveAndFlush(parent1);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"*****************************"</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;Child&gt; children = dbParent.getChildren();</span><br><span class="line">        children.removeIf(child -&gt; </span><br><span class="line">                child.getId() == <span class="number">1L</span> || child.getId() == <span class="number">2L</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì‹¤í–‰ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">parent</span> (<span class="keyword">name</span>) <span class="keyword">values</span> (?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">parent</span> <span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">1</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">2</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">3</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">4</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">5</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">6</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">7</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">8</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">9</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">child</span> (<span class="keyword">name</span>, parent_id) <span class="keyword">values</span> (?, ?)</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">VARCHAR</span>] - [<span class="keyword">child</span> <span class="number">10</span>]</span><br><span class="line">binding parameter [<span class="number">2</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line">*****************************</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">child</span> <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">child</span> <span class="keyword">where</span> <span class="keyword">id</span>=?</span><br><span class="line">binding parameter [<span class="number">1</span>] <span class="keyword">as</span> [<span class="built_in">BIGINT</span>] - [<span class="number">2</span>]</span><br></pre></td></tr></table></figure><p>ì˜¤! ì²˜ìŒì— ì›í–ˆë˜ ê·¸ëŒ€ë¡œ delete ë§Œ 2íšŒ ì‹¤í–‰ë  ë¿ ì•„ë¬´ëŸ° ì˜¤ë²„í—¤ë“œë„ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤!</p><p><strong>ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘ê³¼ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ì¡°ì¸ì»¬ëŸ¼ ë§¤í•‘ì˜ ê²°ê³¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” í…Œì´ë¸” êµ¬ì¡°ëŠ” ë‘ ë°©ì‹ì—ì„œ ëª¨ë‘ ë™ì¼</strong>í•˜ë‹¤. <strong>ë‘ ë°©ì‹ ëª¨ë‘ <code>child</code>ì— <code>parent_id</code> FK ì»¬ëŸ¼</strong>ì„ ë‘ê²Œ ëœë‹¤. </p><p>ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘ê³¼ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ì¡°ì¸ì»¬ëŸ¼ ë§¤í•‘ì˜ ì°¨ì´ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>ì¡°ì¸ì»¬ëŸ¼ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ì€ <code>child</code>ê°€ <code>parent</code>ë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì—, ì•ì—ì„œ ì„¤ëª…í•œ ê²ƒì²˜ëŸ¼ 1íšŒì„±ì´ê¸´ í•˜ì§€ë§Œ <code>parent_id</code> ê°’ì„ ì €ì¥í•˜ê¸° ìœ„í•´ update ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•œë‹¤.</li><li>ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘ì€ <code>child</code>ê°€ <code>parent</code>ë¥¼ ì•Œê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.</li></ul><p>ë‹¤ë§Œ <strong>ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘ì€ ë„ë©”ì¸ ë¡œì§ ìƒì—ì„œ <code>parent</code>ë¥¼ ëª°ë¼ë„ ë˜ëŠ” <code>child</code>ì—ê²Œ êµ³ì´ <code>parent</code>ë¥¼ ê°•ì œë¡œ ì•Œê²Œ ë§Œë“œëŠ” ê²ƒì´ ë‹¨ì </strong>ì¸ë°, ì´ ë‹¨ì ì€ <strong><code>parent</code>ì— ëŒ€í•œ public getter ë©”ì„œë“œë¥¼ ë§Œë“¤ì§€ ì•Šê±°ë‚˜ ë˜ëŠ” ê·¹ë‹¨ì ìœ¼ë¡œ ì•„ì˜ˆ <code>parent</code>ì— ëŒ€í•œ getter ë©”ì„œë“œë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ” ë°©ì‹ìœ¼ë¡œ ë³´ì™„í•  ìˆ˜ ìˆë‹¤.</strong></p><h1 id="ì •ë¦¬"><a href="#ì •ë¦¬" class="headerlink" title="ì •ë¦¬"></a>ì •ë¦¬</h1><blockquote><p>ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ì€ ì§ê´€ì ìœ¼ë¡œëŠ” ë‹¨ìˆœí•´ì„œ ì¢‹ì§€ë§Œ,<br>ì¡°ì¸í…Œì´ë¸” ë°©ì‹ì€ insertê°€, ì¡°ì¸ì»¬ëŸ¼ ë°©ì‹ì€ 1íšŒì„±ì´ê¸´ í•˜ì§€ë§Œ updateê°€ ì˜¤ë²„í—¤ë“œë¡œ ì‘ìš©í•œë‹¤.</p><p>ë”°ë¼ì„œ 1:Nì—ì„œ Nì´ í° ìƒí™©ì—ì„œëŠ”,</p><ul><li>ì˜¤ë²„í—¤ë“œê°€ ì—†ëŠ” ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ê³ ,  </li><li>ê·¸ ë‹¤ìŒì€ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ì¡°ì¸ì»¬ëŸ¼ ë°©ì‹,  </li><li>ê·¸ë¦¬ê³  parent ìª½ì— <code>@OneToMany</code>ë§Œ ë‹¬ë‘ ë¶™ì´ëŠ” ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ì¡°ì¸í…Œì´ë¸” ë°©ì‹ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.</li></ul><p>ë” ì¶•ì•½í•˜ìë©´, <strong>1:Nì—ì„œ Nì´ í´ ë•ŒëŠ” ì›¬ë§Œí•˜ë©´ ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘ì„ ì‚¬ìš©í•˜ì.</strong></p></blockquote><h1 id="ë¶€ë¡-ì‘ìš©í¸"><a href="#ë¶€ë¡-ì‘ìš©í¸" class="headerlink" title="ë¶€ë¡ - ì‘ìš©í¸"></a>ë¶€ë¡ - ì‘ìš©í¸</h1><p>ë‹¤ìŒê³¼ ê°™ì´ í•˜ë‚˜ì˜ Parentì—ì„œ 2ê°œì˜ Childì— ëŒ€í•´ 1:1, 1:N ì—°ê´€ê´€ê³„ ë§¤í•‘ì´ í•„ìš”í•˜ë©´ ì–´ë–»ê²Œ í• ê¹Œ?</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ì´ê²Œ ì¶”ê°€ëœë‹¤ë©´?</span></span><br><span class="line">    <span class="keyword">private</span> Child singleChild;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OneToMany</span>(cascade = CascadeType.ALL, orphanRemoval = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">private</span> List&lt;Child&gt; children = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">Parent</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Parent</span><span class="params">(String name, Child singleChild)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.singleChild = singleChild;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Parent</span><span class="params">(String name, Child singleChild, List&lt;Child&gt; children)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.singleChild = singleChild;</span><br><span class="line">        <span class="keyword">this</span>.children.addAll(children);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì´ ê²½ìš°ì—ëŠ” ì¼ëŒ€ì¼ ë‹¨ë°©í–¥ ë§¤í•‘ì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ Parent ì— <code>@JoinColumn</code>ì„ ì§€ì •í•´ì„œ Childë¥¼ ìœ„í•œ FK ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ë©´, ì¼ëŒ€ì¼ ë‹¨ë°©í–¥ + ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ì„ í•¨ê»˜ ì“¸ ìˆ˜ ìˆë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ì´ê²Œ ì¶”ê°€ëœë‹¤ë©´?</span></span><br><span class="line"><span class="comment">//// ì¼ëŒ€ì¼ ë‹¨ë°©í–¥ì„ ì“°ë˜ Childë¥¼ ê°€ë¦¬í‚¤ëŠ” FK ì»¬ëŸ¼ì„ Parentì— ë‘”ë‹¤</span></span><br><span class="line"><span class="meta">@OneToOne</span></span><br><span class="line"><span class="meta">@JoinColumn</span>(name = <span class="string">"single_child_id"</span>)</span><br><span class="line"><span class="keyword">private</span> Child singleChild;</span><br></pre></td></tr></table></figure><p>ê·¸ëŸ¼ <code>parent</code> í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ì´ ë˜ê³ ,</p><p><code>id | name | single_child_id</code></p><p><code>child</code> í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ì´ ë˜ê³ , <code>single_child</code>ì™€ <code>children</code>ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ê°€ ëª¨ë‘ <code>child</code> í…Œì´ë¸”ì— ì €ì¥ëœë‹¤.</p><p><code>id | name | parent_id</code></p><p>ê·¸ëŸ°ë° ì´ë ‡ê²Œ í•œ í…Œì´ë¸”ì— ì €ì¥ë˜ë©´ í˜¼ë™ì´ ë  ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ì•„ ê±±ì •ì´ ëœë‹¤.</p><p>í•˜ì§€ë§Œ, <strong>ì¼ëŒ€ì¼ ë‹¨ë°©í–¥ì— ì˜í•´ ì €ì¥ëœ ë ˆì½”ë“œì—ë§Œ <code>parent_id</code> ê°’ì´ <code>NULL</code>ì¸ ìƒíƒœê°€ ë˜ê³ ,</strong><br><strong>ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ì— ì˜í•´ ì €ì¥ëœ ë ˆì½”ë“œì—ëŠ” <code>parent_id</code>ì— ì •ìƒì ì¸ ê°’ì´ ë“¤ì–´ê°€ë¯€ë¡œ êµ¬ë¶„ ê°€ëŠ¥</strong>í•˜ë©° í˜¼ë™ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;JPA-ì¼ëŒ€ë‹¤-ë‹¨ë°©í–¥-ë§¤í•‘-ì˜ëª»-ì‚¬ìš©í•˜ë©´-ë²Œì–´ì§€ëŠ”-ì¼&quot;&gt;&lt;a href=&quot;#JPA-ì¼ëŒ€ë‹¤-ë‹¨ë°©í–¥-ë§¤í•‘-ì˜ëª»-ì‚¬ìš©í•˜ë©´-ë²Œì–´ì§€ëŠ”-ì¼&quot; class=&quot;headerlink&quot; title=&quot;JPA ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ ì˜ëª» ì‚¬ìš©í•˜ë©´ ë²Œì–´ì§€ëŠ” ì¼&quot;&gt;&lt;/a
      
    
    </summary>
    
      <category term="Technique" scheme="http://homoefficio.github.io/categories/Technique/"/>
    
    
      <category term="JPA" scheme="http://homoefficio.github.io/tags/JPA/"/>
    
      <category term="Spring Data JPA" scheme="http://homoefficio.github.io/tags/Spring-Data-JPA/"/>
    
      <category term="Hibernate" scheme="http://homoefficio.github.io/tags/Hibernate/"/>
    
      <category term="Java Persistence API" scheme="http://homoefficio.github.io/tags/Java-Persistence-API/"/>
    
      <category term="ORM" scheme="http://homoefficio.github.io/tags/ORM/"/>
    
      <category term="Object Relation Mapping" scheme="http://homoefficio.github.io/tags/Object-Relation-Mapping/"/>
    
      <category term="í•˜ì´ë²„ë„¤ì´íŠ¸" scheme="http://homoefficio.github.io/tags/%ED%95%98%EC%9D%B4%EB%B2%84%EB%84%A4%EC%9D%B4%ED%8A%B8/"/>
    
      <category term="1:N" scheme="http://homoefficio.github.io/tags/1-N/"/>
    
      <category term="OneToMany" scheme="http://homoefficio.github.io/tags/OneToMany/"/>
    
      <category term="ManyToOne" scheme="http://homoefficio.github.io/tags/ManyToOne/"/>
    
      <category term="ì¼ëŒ€ë‹¤" scheme="http://homoefficio.github.io/tags/%EC%9D%BC%EB%8C%80%EB%8B%A4/"/>
    
      <category term="unidirectional" scheme="http://homoefficio.github.io/tags/unidirectional/"/>
    
      <category term="ë‹¨ë°©í–¥" scheme="http://homoefficio.github.io/tags/%EB%8B%A8%EB%B0%A9%ED%96%A5/"/>
    
      <category term="bidirectional" scheme="http://homoefficio.github.io/tags/bidirectional/"/>
    
      <category term="ì–‘ë°©í–¥" scheme="http://homoefficio.github.io/tags/%EC%96%91%EB%B0%A9%ED%96%A5/"/>
    
      <category term="association" scheme="http://homoefficio.github.io/tags/association/"/>
    
      <category term="ì—°ê´€ê´€ê³„" scheme="http://homoefficio.github.io/tags/%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84/"/>
    
      <category term="ë§¤í•‘" scheme="http://homoefficio.github.io/tags/%EB%A7%A4%ED%95%91/"/>
    
      <category term="ì—”í‹°í‹°" scheme="http://homoefficio.github.io/tags/%EC%97%94%ED%8B%B0%ED%8B%B0/"/>
    
      <category term="Entity" scheme="http://homoefficio.github.io/tags/Entity/"/>
    
      <category term="JoinColumn" scheme="http://homoefficio.github.io/tags/JoinColumn/"/>
    
      <category term="JoinTable" scheme="http://homoefficio.github.io/tags/JoinTable/"/>
    
      <category term="mappedBy" scheme="http://homoefficio.github.io/tags/mappedBy/"/>
    
      <category term="cascade" scheme="http://homoefficio.github.io/tags/cascade/"/>
    
      <category term="orphanRemoval" scheme="http://homoefficio.github.io/tags/orphanRemoval/"/>
    
      <category term="ìŠ¤í”„ë§ ë°ì´í„° JPA" scheme="http://homoefficio.github.io/tags/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%8D%B0%EC%9D%B4%ED%84%B0-JPA/"/>
    
      <category term="Overhead" scheme="http://homoefficio.github.io/tags/Overhead/"/>
    
      <category term="ì˜¤ë²„í—¤ë“œ" scheme="http://homoefficio.github.io/tags/%EC%98%A4%EB%B2%84%ED%97%A4%EB%93%9C/"/>
    
  </entry>
  
  <entry>
    <title>Java NIO Direct Bufferë¥¼ ì´ìš©í•´ì„œ ëŒ€ìš©ëŸ‰ íŒŒì¼ í–‰ ê¸°ì¤€ìœ¼ë¡œ ìª¼ê°œê¸°</title>
    <link href="http://homoefficio.github.io/2019/02/27/Java-NIO-Direct-Buffer%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%B4%EC%84%9C-%EB%8C%80%EC%9A%A9%EB%9F%89-%ED%8C%8C%EC%9D%BC-%ED%96%89-%EA%B8%B0%EC%A4%80%EC%9C%BC%EB%A1%9C-%EC%AA%BC%EA%B0%9C%EA%B8%B0/"/>
    <id>http://homoefficio.github.io/2019/02/27/Java-NIO-Direct-Bufferë¥¼-ì´ìš©í•´ì„œ-ëŒ€ìš©ëŸ‰-íŒŒì¼-í–‰-ê¸°ì¤€ìœ¼ë¡œ-ìª¼ê°œê¸°/</id>
    <published>2019-02-26T15:23:43.000Z</published>
    <updated>2020-06-07T16:36:27.313Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java-NIO-Direct-Bufferë¥¼-ì´ìš©í•´ì„œ-ëŒ€ìš©ëŸ‰-íŒŒì¼-í–‰-ê¸°ì¤€ìœ¼ë¡œ-ìª¼ê°œê¸°"><a href="#Java-NIO-Direct-Bufferë¥¼-ì´ìš©í•´ì„œ-ëŒ€ìš©ëŸ‰-íŒŒì¼-í–‰-ê¸°ì¤€ìœ¼ë¡œ-ìª¼ê°œê¸°" class="headerlink" title="Java NIO Direct Bufferë¥¼ ì´ìš©í•´ì„œ ëŒ€ìš©ëŸ‰ íŒŒì¼ í–‰ ê¸°ì¤€ìœ¼ë¡œ ìª¼ê°œê¸°"></a>Java NIO Direct Bufferë¥¼ ì´ìš©í•´ì„œ ëŒ€ìš©ëŸ‰ íŒŒì¼ í–‰ ê¸°ì¤€ìœ¼ë¡œ ìª¼ê°œê¸°</h1><p>ê¸°ê°€ ë‹¨ìœ„ì˜ íŒŒì¼ì„ ì™¸ë¶€ì— ì „ì†¡í•  ì¼ì´ ìƒê²¼ë‹¤. </p><p>í•œ ë°©ì— ë³´ë‚´ê¸°ì—” ë„ˆë¬´ ì»¤ì„œ íŒŒì¼ì„ ìª¼ê°œì„œ(split) ë³´ë‚´ë ¤ê³  í•˜ëŠ”ë°, ê·¸ë§ˆì €ë„ ì‰½ì§€ ì•Šë‹¤. ìª¼ê°œê¸° ìœ„í•´ ëŒ€ìš©ëŸ‰ íŒŒì¼ì„ ì½ì„ ë•Œ ì´ë¯¸ ìˆ˜ì‹­ë¶„ ë™ì•ˆ CPUë¥¼ ë„ˆë¬´ ì¡ì•„ ë¨¹ì–´ì„œ ì´ ìª¼ê°œëŠ” ë°°ì¹˜ ì‘ì—…ì„ ìŠ¤ì¼€ì¤„ë§í•˜ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬(Quartz)ì— ë¬¸ì œë¥¼ ì¼ìœ¼í‚¨ë‹¤.</p><p>DMA(Direct Memory Access)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ê² ë‹¤.</p><h1 id="DMA"><a href="#DMA" class="headerlink" title="DMA"></a>DMA</h1><p><img src="https://i.imgur.com/LNHHp8h.png" alt="Imgur"></p><p>(ê·¸ë¦¼ ì¶œì²˜: <a href="https://howtodoinjava.com/java/io/how-java-io-works-internally-at-lower-level/" target="_blank" rel="noopener">https://howtodoinjava.com/java/io/how-java-io-works-internally-at-lower-level/</a>)</p><p>ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” DMAë¥¼ í†µí•´ CPUë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³  ì§ì ‘ ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ì ‘ê·¼í•  ìˆ˜ ìˆê³ , ì‘ìš© í”„ë¡œê·¸ë¨ì€ Direct Bufferë¥¼ í™œìš©í•´ì„œ JVM ë©”ëª¨ë¦¬ê°€ ì•„ë‹Œ ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</p><p>ì¥ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ol><li>ë””ìŠ¤í¬ì— ìˆëŠ” íŒŒì¼ì„ ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ë¡œ ì½ì–´ë“¤ì¼ ë•Œ CPUë¥¼ ê±´ë“œë¦¬ì§€ ì•ŠëŠ”ë‹¤.</li><li>ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ìˆëŠ” íŒŒì¼ ë‚´ìš©ì„ JVM ë‚´ ë©”ëª¨ë¦¬ë¡œ ë‹¤ì‹œ ë³µì‚¬í•  í•„ìš”ê°€ ì—†ë‹¤.</li><li>JVM ë‚´ í™ ë©”ëª¨ë¦¬ë¥¼ ì“°ì§€ ì•Šìœ¼ë¯€ë¡œ GCë¥¼ ìœ ë°œí•˜ì§€ ì•ŠëŠ”ë‹¤.(ë¬¼ë¡  ì¼ì • í¬ê¸°ë¥¼ ê°€ì§„ ë²„í¼ê°€ ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ìƒì„±ë˜ëŠ” ê²ƒì´ê³ , ì´ ë²„í¼ì— ëŒ€í•œ ì°¸ì¡° ìì²´ëŠ” JVM ë©”ëª¨ë¦¬ ë‚´ì— ìƒì„±ëœë‹¤)</li></ol><p>ë‹¨ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ol><li>DMAì— ì‚¬ìš©í•  ë²„í¼ ìƒì„± ì‹œ ì‹œê°„ì´ ë” ì†Œìš”ë  ìˆ˜ ìˆë‹¤.</li><li>ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì·¨ê¸‰í•˜ë¯€ë¡œ, <strong>ë°ì´í„°ë¥¼ í–‰ ë‹¨ìœ„ë¡œ ì·¨ê¸‰í•˜ê¸° ë¶ˆí¸í•˜ë‹¤.</strong></li></ol><p>Aã….. íŒŒì¼ ìª¼ê°œê¸° í•  ë•Œ í–‰ ê¸°ì¤€ìœ¼ë¡œ ìª¼ê°œì•¼ í•˜ëŠ”ë°.. ì¼ë‹¨ ë¶ˆí¸í•œ ê²ƒì¼ ë¿ ì•„ì˜ˆ ì•ˆ ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ ì‹œë„í•´ë³´ì.</p><p>ì¢…í•©í•´ë³´ë©´ <strong>íŒŒì¼ì˜ í¬ê¸°ê°€ ëŒ€ë‹¨íˆ í´ ë•Œ DMAì˜ ì¥ì ì„ ëˆ„ë¦´ ìˆ˜ ìˆê³  ë‹¨ì ì„ í”¼í•  ìˆ˜ ìˆë‹¤.</strong></p><h1 id="FileChannel"><a href="#FileChannel" class="headerlink" title="FileChannel"></a>FileChannel</h1><p>Java 1.4 ë¶€í„° ë„ì…ëœ NIOì— <code>FileChannel</code>ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ë°, <code>ByteBuffer</code>ë¥¼ í†µí•´ File I/Oë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</p><p>ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><h2 id="íŒŒì¼-ì½ê¸°-ìš©-FileChannel"><a href="#íŒŒì¼-ì½ê¸°-ìš©-FileChannel" class="headerlink" title="íŒŒì¼ ì½ê¸° ìš© FileChannel"></a>íŒŒì¼ ì½ê¸° ìš© FileChannel</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileChannel srcFileChannel = Files.open(Paths.get(<span class="string">"/home/homo-efficio/tmp/LargeFile"</span>), StandardOpenOption.READ);</span><br></pre></td></tr></table></figure><h2 id="íŒŒì¼-ì“°ê¸°-ìš©-FileChannel"><a href="#íŒŒì¼-ì“°ê¸°-ìš©-FileChannel" class="headerlink" title="íŒŒì¼ ì“°ê¸° ìš© FileChannel"></a>íŒŒì¼ ì“°ê¸° ìš© FileChannel</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileChannel destFileChannel = Files.open(Paths.get(<span class="string">"/home/homo-efficio/tmp/LargeFile"</span>), StandardOpenOption.WRITE);</span><br></pre></td></tr></table></figure><p><code>Path</code> ë§ê³  <code>RandomAccessFile</code>ì„ í™œìš©í•˜ëŠ” ë°©ë²•ë„ ìˆê³ , íŒŒì¼ ì—´ê¸° ëª¨ë“œì—ë„ <code>TRUNCATE_EXIST</code>, <code>CREATE</code>, <code>CREATE_NEW</code> ë“± ì—¬ëŸ¬ê°€ì§€ê°€ ìˆê³  í˜¼í•©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><h1 id="ByteBuffer"><a href="#ByteBuffer" class="headerlink" title="ByteBuffer"></a>ByteBuffer</h1><p>ì‹¤ì œ ë°ì´í„°ë¥¼ ë‹´ëŠ” ë°”ì´íŠ¸ ë²„í¼ í´ë˜ìŠ¤ë¡œì„œ JVM í™ì„ ì‚¬ìš©í•˜ëŠ” ì¼ë°˜(Non-Direct) ë²„í¼ì™€ ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” Direct Bufferë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. Direct BufferëŠ” ë‹¤ìŒê³¼ ê°™ì´ ê°„ë‹¨í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ByteBuffer buffer = ByteBuffer.allocateDirect(<span class="number">100</span> * <span class="number">1024</span> * <span class="number">1024</span>);</span><br></pre></td></tr></table></figure><p>ë²„í¼ê°€ Direct ì¸ì§€ ì•„ë‹Œì§€ <code>buffer.isDirect()</code>ë¥¼ í†µí•´ íŒë³„í•  ìˆ˜ë„ ìˆë‹¤.</p><h2 id="ìœ„ì¹˜-ê´€ë ¨-ì†ì„±"><a href="#ìœ„ì¹˜-ê´€ë ¨-ì†ì„±" class="headerlink" title="ìœ„ì¹˜ ê´€ë ¨ ì†ì„±"></a>ìœ„ì¹˜ ê´€ë ¨ ì†ì„±</h2><h3 id="position"><a href="#position" class="headerlink" title="position"></a>position</h3><p>ë²„í¼ ë‚´ì—ì„œ ê°’ì„ ì½ê±°ë‚˜ ì“¸ ìˆ˜ ìˆëŠ” <strong>ì‹œì‘ ìœ„ì¹˜</strong>ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ë²„í¼ ë‚´ë¡œ 1 ë°”ì´íŠ¸ì˜ ë°ì´í„°ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ <code>position</code> ê°’ë„ 1 ì¦ê°€í•œë‹¤.</p><p><code>buffer.position()</code>, <code>buffer.position(int)</code></p><h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><p>ë²„í¼ ë‚´ì—ì„œ ê°’ì„ ì½ê±°ë‚˜ ì“¸ ìˆ˜ ìˆëŠ” <strong>ë ìœ„ì¹˜</strong>ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. <code>limit - 1</code> ìœ„ì¹˜ê¹Œì§€ì˜ ë°ì´í„°ê°€ ì½ê±°ë‚˜ ì¨ì§„ë‹¤.</p><p><code>buffer.limit()</code>, <code>buffer.limit(int)</code></p><h3 id="mark"><a href="#mark" class="headerlink" title="mark"></a>mark</h3><p>í˜„ì¬ <code>position</code> ìœ„ì¹˜ì— <strong>í‘œì‹œ</strong>ë¥¼ í•´ë‘ê³ , ë‚˜ì¤‘ì— <code>reset()</code>ì„ í˜¸ì¶œí•˜ë©´ í‘œì‹œí•´ë‘” ìœ„ì¹˜ë¡œ <code>position</code>ì´ ì´ë™í•œë‹¤.</p><p><code>buffer.mark()</code></p><h3 id="capacity"><a href="#capacity" class="headerlink" title="capacity"></a>capacity</h3><p>ë²„í¼ì˜ ìš©ëŸ‰(ë‹´ì„ ìˆ˜ ìˆëŠ” ë°ì´í„°ì˜ í¬ê¸°)ë¥¼ ë‚˜íƒ€ë‚´ë©°, ë²„í¼ ìƒì„± ì‹œ <code>ByteBuffer.allocate(capacity)</code> ë‚˜ <code>ByteBuffer.allocateDirect(capacity)</code> ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</p><p><code>buffer.capacity()</code></p><h2 id="ìœ„ì¹˜-ê´€ë ¨-ë©”ì„œë“œ"><a href="#ìœ„ì¹˜-ê´€ë ¨-ë©”ì„œë“œ" class="headerlink" title="ìœ„ì¹˜ ê´€ë ¨ ë©”ì„œë“œ"></a>ìœ„ì¹˜ ê´€ë ¨ ë©”ì„œë“œ</h2><h3 id="flip"><a href="#flip" class="headerlink" title="flip()"></a>flip()</h3><p><code>position</code>ì„ 0ìœ¼ë¡œ, <code>limit</code>ì„ ì½ì–´ë“¤ì¸ ë°ì´í„°ì˜ ë§ˆì§€ë§‰ ë°”ì´íŠ¸+1 ìœ„ì¹˜ë¡œ ì„¸íŒ…í•œë‹¤. </p><p>ë²„í¼ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì²˜ìŒë¶€í„° ëª¨ë‘ ì½ì„ ë•Œ ì‚¬ìš©í•œë‹¤.</p><h3 id="rewind"><a href="#rewind" class="headerlink" title="rewind()"></a>rewind()</h3><p><code>position</code>ì„ 0ìœ¼ë¡œ, <code>limit</code>ì€ í˜„ì¬ ê·¸ëŒ€ë¡œ ìœ ì§€í•œë‹¤.</p><p>ë²„í¼ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì²˜ìŒë¶€í„° í˜„ì¬ <code>limit</code> ìœ„ì¹˜ ë°”ë¡œ ì•ê¹Œì§€ ì½ì„ ë•Œ ì‚¬ìš©í•œë‹¤.</p><h3 id="reset"><a href="#reset" class="headerlink" title="reset()"></a>reset()</h3><p><code>position</code>ì„ <code>mark</code> ìœ„ì¹˜ë¡œ ì„¸íŒ…í•œë‹¤.</p><h3 id="compact"><a href="#compact" class="headerlink" title="compact()"></a>compact()</h3><p>í˜„ì¬ <code>position</code>ë¶€í„° <code>limit - 1</code> ê¹Œì§€ì˜ ë°ì´í„°ë¥¼ ë²„í¼ì˜ ë§¨ ì•ìœ¼ë¡œ ë³µì‚¬í•œ í›„ì—, <code>position</code>ì„ ë³µì‚¬í•œ ë°ì´í„° ë°”ë¡œ ë‹¤ìŒ ìœ„ì¹˜ë¡œ ì´ë™ì‹œí‚¤ê³ , <code>limit</code>ëŠ” <code>capacity</code>ë¡œ ì´ë™í•œë‹¤. í–‰ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë‹¤ë£° ë•Œ í•µì‹¬ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤. </p><h2 id="ì½ê³ -ì“°ëŠ”-ê°’-ê´€ë ¨-ë©”ì„œë“œ"><a href="#ì½ê³ -ì“°ëŠ”-ê°’-ê´€ë ¨-ë©”ì„œë“œ" class="headerlink" title="ì½ê³  ì“°ëŠ” ê°’ ê´€ë ¨ ë©”ì„œë“œ"></a>ì½ê³  ì“°ëŠ” ê°’ ê´€ë ¨ ë©”ì„œë“œ</h2><h3 id="get"><a href="#get" class="headerlink" title="get()"></a>get()</h3><p><code>position</code> ì— ìˆëŠ” ê°’ì„ ì½ì–´ì„œ ë°˜í™˜í•œë‹¤.</p><h3 id="put-byte"><a href="#put-byte" class="headerlink" title="put(byte)"></a>put(byte)</h3><p><code>byte</code>ë¥¼ <code>position</code> ìœ„ì¹˜ì— ì“´ë‹¤.</p><h1 id="ì½”ë“œ"><a href="#ì½”ë“œ" class="headerlink" title="ì½”ë“œ"></a>ì½”ë“œ</h1><p>Direct Bufferë¥¼ ìƒì„±í•˜ëŠ” ê²ƒ ìì²´ëŠ” ê·¸ì € ì „ìš© ë©”ì„œë“œ í•˜ë‚˜ í˜¸ì¶œí•˜ëŠ” ê²ƒë°–ì— ì—†ì–´ ë‹¨ìˆœí•˜ë‹¤. ë‹¤ë§Œ, ì¤„ ë°”ê¿ˆ ì²˜ë¦¬ì— ì¢€ ì‹ ê²½ì„ ì¨ì•¼ í•œë‹¤.</p><p>ëŒ€ìš©ëŸ‰ íŒŒì¼ ëŒ€ìƒì´ë¯€ë¡œ í–‰ì˜ í¬ê¸° ë³´ë‹¤ ë²„í¼ í¬ê¸°ê°€ í¬ë‹¤ê³  ê°€ì •í–ˆë‹¤. ë²„í¼ê°€ ì‘ì„ ë•Œë„ ì ìš©ë˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ëŠ” ìˆê² ì§€ë§Œ ë¶ˆí•„ìš”í•˜ê²Œ ë¡œì§ë§Œ ë³µì¡í•´ì§€ë¯€ë¡œ ì´ ë•ŒëŠ” ê·¸ëƒ¥ ì˜ˆì™¸ë¥¼ ë˜ì§€ê²Œ í–ˆë‹¤.</p><p>ì‰½ê²Œ ìš”ì•½í•˜ë©´,</p><ol><li>íŒŒì¼ì—ì„œ ë²„í¼ë§Œí¼ ì½ì–´ë“¤ì¸ í›„,</li><li>ë²„í¼ì—ì„œ LFê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ 1 ë°”ì´íŠ¸ì”© ë’¤ë¡œ ì´ë™,</li><li>LFê°€ ë‚˜ì˜¤ë©´(0 ~ position ë‚´ì˜ ë§ˆì§€ë§‰ LF) ë²„í¼ì˜ ì‹œì‘ë¶€í„° position ìœ„ì¹˜ ë‚´ì˜ ë§ˆì§€ë§‰ LFê¹Œì§€ë¥¼ target íŒŒì¼ì— ì“°ê³ ,</li><li>ë§ˆì§€ë§‰ LF ë’¤ì—ì„œ ë²„í¼ ëê¹Œì§€ì˜ ë‚´ìš©ì„ <code>compact()</code> ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ ë²„í¼ì˜ ì‹œì‘ ìœ„ì¹˜ë¡œ ë³µì‚¬í•˜ê³ ,</li><li>ê·¸ ì´í›„ì˜ ë‚´ìš©ì€ ë‹¤ì‹œ 1ë²ˆìœ¼ë¡œ ëŒì•„ê°€ì„œ ë²„í¼ì— ì½ì–´ë“¤ì´ë©´ì„œ ë°˜ë³µ</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">splitFileIntoDir</span><span class="params">(String srcFilePath,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    String destDirPath,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    String splittedFileNameFormat,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    String header,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    ByteBuffer buffer)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">byte</span> LINE_FEED = <span class="number">0x0A</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">byte</span> CARRIAGE_RETURN = <span class="number">0x0D</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> fileCounter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> totalReadBytes = <span class="number">0L</span>;</span><br><span class="line">    <span class="keyword">long</span> totalWriteBytes = <span class="number">0L</span>;</span><br><span class="line">    <span class="keyword">long</span> readBytes;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> Path path = Paths.get(srcFilePath);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> (<span class="keyword">final</span> FileChannel srcFileChannel = FileChannel.open(path, StandardOpenOption.READ)) &#123;</span><br><span class="line">        <span class="keyword">while</span> ((readBytes = srcFileChannel.read(buffer)) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            totalReadBytes += readBytes;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">int</span> contentLength = buffer.position();</span><br><span class="line">            <span class="keyword">int</span> newLinePosition = buffer.position();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> (<span class="keyword">final</span> FileChannel splittedFileChannel =</span><br><span class="line">                         FileChannel.open(Paths.get(destDirPath, String.format(splittedFileNameFormat, ++fileCounter)),</span><br><span class="line">                                 StandardOpenOption.TRUNCATE_EXISTING,</span><br><span class="line">                                 StandardOpenOption.CREATE,</span><br><span class="line">                                 StandardOpenOption.WRITE)) &#123;</span><br><span class="line">                writeHeader(header, readBytes, splittedFileChannel);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">boolean</span> hasLineFeed = <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">boolean</span> needCompact = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">while</span> (newLinePosition &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (buffer.get(--newLinePosition) == LINE_FEED) &#123;  <span class="comment">// 1 byte ì”© ë’¤ë¡œ ê°€ë©´ì„œ ì¤„ë°”ê¿ˆ íƒìƒ‰</span></span><br><span class="line">                        <span class="keyword">if</span> (newLinePosition + <span class="number">1</span> == buffer.capacity()) &#123;  <span class="comment">// ë²„í¼ ëì— ì¤„ë°”ê¿ˆì´ ìˆìœ¼ë©´ compact ë¶ˆí•„ìš”</span></span><br><span class="line">                            needCompact = <span class="keyword">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        buffer.position(<span class="number">0</span>);  <span class="comment">// bufferì˜ ì²˜ìŒë¶€í„°</span></span><br><span class="line">                        buffer.limit(++newLinePosition);  <span class="comment">// LINE_FEED ê¹Œì§€ í¬í•¨í•´ì„œ write ë˜ë„ë¡ limit ì¡°ì •</span></span><br><span class="line">                        <span class="comment">// ë²„í¼ì˜ [0, limit)ì˜ ë‚´ìš©ì„ splittedFileChannelì´ ë°”ì¸ë”©ëœ íŒŒì¼ì— write</span></span><br><span class="line">                        totalWriteBytes += splittedFileChannel.write(buffer);</span><br><span class="line">                        splittedFileChannel.close();</span><br><span class="line">                        hasLineFeed = <span class="keyword">true</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (!hasLineFeed) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"ë²„í¼ ì•ˆì— ì¤„ë°”ê¿ˆì´ ì—†ìŠµë‹ˆë‹¤. ë²„í¼ í¬ê¸°ëŠ” í•œ í–‰ì˜ ê¸¸ì´ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤."</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (needCompact) &#123;</span><br><span class="line">                    <span class="comment">// compact()ë¥¼ ìœ„í•´ ì›ë˜ ì½ì—ˆë˜ ë‚´ìš©ì˜ ë§ˆì§€ë§‰ ë°”ì´íŠ¸ ìœ„ì¹˜+1(==contentLength) ë¡œ limit ì„¤ì •</span></span><br><span class="line">                    buffer.limit(contentLength);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// ë²„í¼ì˜ [position, limit) ì˜ ë‚´ìš©ì„ [0, limit - position) ìœ¼ë¡œ ë³µì‚¬</span></span><br><span class="line">                    buffer.compact();</span><br><span class="line">                    <span class="comment">// ë³µì‚¬ í›„ positionì€ limitì— ìœ„ì¹˜í•˜ë©° ë‹¤ìŒì— íŒŒì¼ì—ì„œ ì½ì–´ì˜¤ëŠ” ë‚´ìš©ì´ position ë¶€í„° ì´ì–´ì§</span></span><br><span class="line">                    <span class="comment">// limitëŠ” capacityë¡œ ì´ë™</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// compact()ê°€ í•„ìš”ì—†ë‹¤ë©´ íŒŒì¼ì„ ì½ì–´ì„œ ë²„í¼ì˜ ì²˜ìŒ ìœ„ì¹˜ë¶€í„° ì €ì¥í•˜ë„ë¡ ì´ˆê¸°í™”</span></span><br><span class="line">                    buffer.clear();</span><br><span class="line">                &#125;                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"File Split ë„ì¤‘ ì˜ˆì™¸ ë°œìƒ"</span>, e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"Total Read  Bytes: "</span> + totalReadBytes);</span><br><span class="line">    System.out.println(<span class="string">"Total Write Bytes: "</span> + totalWriteBytes);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeHeader</span><span class="params">(String header, <span class="keyword">long</span> readBytes, FileChannel splittedFileChannel)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (readBytes &gt; <span class="number">0</span> &amp;&amp; !StringUtils.isEmpty(header)) &#123;</span><br><span class="line">        <span class="keyword">byte</span>[] headerBytes = (header + System.lineSeparator()).getBytes(StandardCharsets.UTF_8);</span><br><span class="line">        splittedFileChannel.write(ByteBuffer.wrap(headerBytes));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ì¹œì ˆí•œ-ê·¸ë¦¼"><a href="#ì¹œì ˆí•œ-ê·¸ë¦¼" class="headerlink" title="ì¹œì ˆí•œ ê·¸ë¦¼"></a>ì¹œì ˆí•œ ê·¸ë¦¼</h2><p>ì•„ë¬´ë˜ë„ ê·¸ë¦¼ìœ¼ë¡œ ì•ˆ ë‚¨ê²¨ë†“ìœ¼ë©´ ê¹Œë¨¹ì€ í›„ì— ë‹¤ì‹œ ë´ë„ ì´í•´ê°€ ì•ˆ ë ê¹Œë´..</p><p><img src="https://i.imgur.com/cYyw6I8.png" alt="Imgur"></p><p><img src="https://i.imgur.com/HNfdlTe.png" alt="Imgur"></p><p><img src="https://i.imgur.com/Nvllq5N.png" alt="Imgur"></p><p><img src="https://i.imgur.com/o8NvA8H.png" alt="Imgur"></p><p><img src="https://i.imgur.com/wSxPPi9.png" alt="Imgur"></p><p><img src="https://i.imgur.com/4VSL4vQ.png" alt="Imgur"></p><p><img src="https://i.imgur.com/nU1371g.png" alt="Imgur"></p><p><img src="https://i.imgur.com/8RSW7Me.png" alt="Imgur"></p><p><img src="https://i.imgur.com/QspJzSw.png" alt="Imgur"></p><p><img src="https://i.imgur.com/o8eFQ94.png" alt="Imgur"></p><p><img src="https://i.imgur.com/1oydbLu.png" alt="Imgur"></p><p><img src="https://i.imgur.com/i5LSNpn.png" alt="Imgur"></p><h1 id="Benchmark"><a href="#Benchmark" class="headerlink" title="Benchmark"></a>Benchmark</h1><p>í•œ í–‰ ë‹¹ 70ë°”ì´íŠ¸ ì´ë‚´, 4,096,000í–‰, 263MB ì§œë¦¬ csv íŒŒì¼ì„ 1M, 10M, 50M, 100M ë²„í¼ í¬ê¸° ë‹¨ìœ„ë¡œ ìª¼ê°œì„œ ë¹„êµí•´ ë³¸ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><h2 id="ìˆ˜í–‰-ì‹œê°„-ë¹„êµ"><a href="#ìˆ˜í–‰-ì‹œê°„-ë¹„êµ" class="headerlink" title="ìˆ˜í–‰ ì‹œê°„ ë¹„êµ"></a>ìˆ˜í–‰ ì‹œê°„ ë¹„êµ</h2><p>ë²„í¼ í¬ê¸°ë¥¼ 1M, 10M, 50M, 100M ë¥¼ í•œ ì‚¬ì´í´ë¡œ í•´ì„œ 2 ì‚¬ì´í´ì„ ì‹¤í–‰í•´ì„œ ìˆ˜í–‰ ì‹œê°„(ì´ˆ)ì„ ë¹„êµí•´ ë³¸ ê²°ê³¼,<br>ì „ë°˜ì ìœ¼ë¡œ Direct BufferëŠ” ì¼ë°˜ Bufferë³´ë‹¤ ì•½ 10% ì •ë„ ë¹ ë¥´ê³ ,<br>Direct BufferëŠ” readLine() ë°©ì‹ë³´ë‹¤ ì ê²ŒëŠ” ì•½ 2ë°°, ë§ê²ŒëŠ” ì•½ 5ë°° ì •ë„ ë¹ ë¥´ë‹¤.</p><table><thead><tr><th>ë²„í¼ í¬ê¸°</th><th>íšŒì°¨</th><th>Direct Buffer</th><th>Buffer</th><th>readLine</th></tr></thead><tbody><tr><td>1M</td><td>1</td><td>1.62</td><td>1.87</td><td>3.85</td></tr><tr><td>1M</td><td>2</td><td>1.39</td><td>1.52</td><td>3.47</td></tr><tr><td>10M</td><td>1</td><td>0.46</td><td>0.52</td><td>2.41</td></tr><tr><td>10M</td><td>2</td><td>0.33</td><td>0.47</td><td>2.37</td></tr><tr><td>50M</td><td>1</td><td>1.23</td><td>2.65</td><td>2.33</td></tr><tr><td>50M</td><td>2</td><td>1.12</td><td>1.34</td><td>2.32</td></tr><tr><td>100M</td><td>1</td><td>1.37</td><td>1.51</td><td>2.42</td></tr><tr><td>100M</td><td>2</td><td>1.40</td><td>1.46</td><td>2.32</td></tr></tbody></table><p>FileChannelê³¼ ë²„í¼ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì€ ë²„í¼ í¬ê¸°ê°€ 10M ì¼ ë•Œ ë‹¤ë¥¸ í¬ê¸°ì¼ ë•Œì— ë¹„í•´ ì•½ 3 ~ 4ë°° ì •ë„ ë¹¨ë¼ì§€ëŠ” ê²ƒì´ íŠ¹ì´í•˜ë‹¤.</p><h2 id="CPU-ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰-ë¹„êµ"><a href="#CPU-ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰-ë¹„êµ" class="headerlink" title="CPU, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë¹„êµ"></a>CPU, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë¹„êµ</h2><p>Direct Buffer, Buffer, readLine() ë°©ì‹ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•´ì„œ VisualVMìœ¼ë¡œ ì¸¡ì •í–ˆë‹¤. ê·¸ë˜í”„ì— í‘œì‹œëœ ê²ƒë„ ë§¨ ì™¼ìª½ë¶€í„° Direct Buffer, Buffer, readLine() ë°©ì‹ì´ë‹¤.</p><p>ì˜ˆìƒëŒ€ë¡œ Direct BufferëŠ” JVM ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ì§ì ‘ ì ‘ê·¼í•˜ë¯€ë¡œ JVMì˜ í™ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ ê±°ì˜ ì—†ë‹¤. ë¬¼ë¡  JVM ê´€ì ì—ì„œë‚˜ í™ì„ ì“°ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‚¬ìš©ëŸ‰ì´ ì ì–´ ë³´ì´ëŠ” ê²ƒì´ê³ , ìš´ì˜ì²´ì œ ê´€ì ì—ì„œëŠ” ì—¬ì „íˆ ë²„í¼ í¬ê¸° ë§Œí¼ì˜ ë©”ëª¨ë¦¬ë¥¼ ë” ì‚¬ìš©í•œë‹¤.<br>ì¼ë°˜ BufferëŠ” ë²„í¼ í¬ê¸°ì— ë”°ë¼ JVM í™ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ë„ ë¹„ë¡€í•´ì„œ ì»¤ì§€ë©°,<br>readLine()ì€ 1M, 10M, 50M ë‹¨ìœ„ë¡œ íŒŒì¼ì„ ìª¼ê°œë”ë¼ë„ JVM í™ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ 100Më¥¼ ë„˜ë‚˜ë“ ë‹¤.</p><p>CPUëŠ” Direct Bufferì™€ BufferëŠ” ì•„ì£¼ í° ì°¨ì´ëŠ” ì—†ì´ ëª¨ë‘ 10% ì´ë‚´ë‹¤. readLine()ì— ë¹„í•´ ì•½ 1/3 ì •ë„ì— ë¶ˆê³¼í•  ì •ë„ë¡œ ì ˆê° íš¨ê³¼ê°€ í¬ì§€ë§Œ, readLine() ë°©ì‹ë„ 30%ì— ë¯¸ì¹˜ì§€ ì•Šì€ ê±¸ ë³´ë©´ ì—­ì‹œ 263MB ì§œë¦¬ íŒŒì¼ì€ Direct Buffer íš¨ê³¼ê°€ ë‘ë“œëŸ¬ì§ˆ ì •ë„ë¡œ í° íŒŒì¼ì€ ì•„ë‹ˆë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p><h3 id="1M-ë²„í¼-1M-ë‹¨ìœ„ë¡œ-ìë¥´ê¸°"><a href="#1M-ë²„í¼-1M-ë‹¨ìœ„ë¡œ-ìë¥´ê¸°" class="headerlink" title="1M ë²„í¼, 1M ë‹¨ìœ„ë¡œ ìë¥´ê¸°"></a>1M ë²„í¼, 1M ë‹¨ìœ„ë¡œ ìë¥´ê¸°</h3><p><img src="https://i.imgur.com/6BET1z3.png" alt="Imgur"></p><p><img src="https://i.imgur.com/7dkgJCg.png" alt="Imgur"></p><h3 id="10M-ë²„í¼-10M-ë‹¨ìœ„ë¡œ-ìë¥´ê¸°"><a href="#10M-ë²„í¼-10M-ë‹¨ìœ„ë¡œ-ìë¥´ê¸°" class="headerlink" title="10M ë²„í¼, 10M ë‹¨ìœ„ë¡œ ìë¥´ê¸°"></a>10M ë²„í¼, 10M ë‹¨ìœ„ë¡œ ìë¥´ê¸°</h3><p><img src="https://i.imgur.com/wdWRADA.png" alt="Imgur"></p><p><img src="https://i.imgur.com/sdaNr3t.png" alt="Imgur"></p><h3 id="50M-ë²„í¼-50M-ë‹¨ìœ„ë¡œ-ìë¥´ê¸°"><a href="#50M-ë²„í¼-50M-ë‹¨ìœ„ë¡œ-ìë¥´ê¸°" class="headerlink" title="50M ë²„í¼, 50M ë‹¨ìœ„ë¡œ ìë¥´ê¸°"></a>50M ë²„í¼, 50M ë‹¨ìœ„ë¡œ ìë¥´ê¸°</h3><p><img src="https://i.imgur.com/G14IWFv.png" alt="Imgur"></p><p><img src="https://i.imgur.com/kEmfUja.png" alt="Imgur"></p><h3 id="100M-ë²„í¼-100M-ë‹¨ìœ„ë¡œ-ìë¥´ê¸°"><a href="#100M-ë²„í¼-100M-ë‹¨ìœ„ë¡œ-ìë¥´ê¸°" class="headerlink" title="100M ë²„í¼, 100M ë‹¨ìœ„ë¡œ ìë¥´ê¸°"></a>100M ë²„í¼, 100M ë‹¨ìœ„ë¡œ ìë¥´ê¸°</h3><p><img src="https://i.imgur.com/axhhB1Z.png" alt="Imgur"></p><p><img src="https://i.imgur.com/gJAbo3g.png" alt="Imgur"></p><h1 id="ê·¸ëŸ°ë°-ë©”ëª¨ë¦¬-í•´ì œëŠ”"><a href="#ê·¸ëŸ°ë°-ë©”ëª¨ë¦¬-í•´ì œëŠ”" class="headerlink" title="ê·¸ëŸ°ë° ë©”ëª¨ë¦¬ í•´ì œëŠ”?"></a>ê·¸ëŸ°ë° ë©”ëª¨ë¦¬ í•´ì œëŠ”?</h1><p>Direct BufferëŠ” JVM í™ì´ ì•„ë‹ˆë¼ ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ GCë¥¼ ìœ ë°œí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í–ˆëŠ”ë°, GCë¥¼ ìœ ë°œí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë§ˆëƒ¥ ì¢‹ì•„í•  ê²ƒì´ ì•„ë‹ˆë‹¤. GCê°€ ì•ˆ ë˜ë©´ ë©”ëª¨ë¦¬ í•´ì œëŠ” ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ê±±ì •í•´ë³´ëŠ” ì„¼ìŠ¤ê°€ í•„ìš”í•˜ë‹¤.</p><p>ì•„ì‰½ê²Œë„ Java API ë¬¸ì„œì—ëŠ” Direct Buffer ë¡œ ì‚¬ìš©í•œ ë©”ëª¨ë¦¬ í•´ì œ ê´€ë ¨í•œ ë‚´ìš©ì´ ê¸°ìˆ ë˜ì–´ ìˆì§€ ì•Šë‹¤. ê²€ìƒ‰ì„ í•´ë³´ë‹ˆ ê·¸ë‚˜ë§ˆ ê°€ì¥ ìˆì–´ë³´ì´ëŠ” ì§ˆì˜ì‘ë‹µì€ <a href="https://stackoverflow.com/questions/36077641/java-when-does-direct-buffer-released" target="_blank" rel="noopener">https://stackoverflow.com/questions/36077641/java-when-does-direct-buffer-released</a> ì—¬ê¸°ì— ìˆë‹¤. ê³µì‹ ë¬¸ì„œ ë‚´ìš©ì€ ì•„ë‹ˆë¯€ë¡œ ì´ê²Œ ì •ë§ ë‹µì¸ì§€ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤.</p><p>ìš”ëŠ” ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ìƒì„±ëœ Direct Buffer ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡°ëŠ” JVM ë©”ëª¨ë¦¬ ë‚´ì— ìƒì„±ë˜ëŠ”ë°, ì´ ì°¸ì¡°ê°€ GCê°€ ë˜ë©´ ì¼ë°˜ì ì¸ GC ìŠ¤ë ˆë“œê°€ ì•„ë‹Œ ë‹¤ë¥¸ íŠ¹ì • ìŠ¤ë ˆë“œì— ì˜í•´ ë²„í¼ ë©”ëª¨ë¦¬ê°€ í•´ì œëœë‹¤ê³  í•œë‹¤.</p><p><code>DirectByteBuffer.Deallocator</code>ì— ëŒ€í•œ ì–˜ê¸°ê°€ ë‚˜ì˜¤ëŠ”ë° Java API ë¬¸ì„œì—ëŠ” ì—†ëŠ” í´ë˜ìŠ¤ì§€ë§Œ, IntelliJì—ì„œ í´ë˜ìŠ¤ ê²€ìƒ‰ì„ í•´ë³´ë©´ ë‚˜ì˜¤ê¸´ í•œë‹¤.</p><h1 id="ì •ë¦¬"><a href="#ì •ë¦¬" class="headerlink" title="ì •ë¦¬"></a>ì •ë¦¬</h1><blockquote><p>ì½ì„ ì†ŒìŠ¤ íŒŒì¼ì´ ê¸°ê°€ ë‹¨ìœ„ë¡œ ë§¤ìš° í¬ë©´ BufferedReader.readLine()ì€ CPUì™€ ë©”ëª¨ë¦¬ë¥¼ ì—„ì²­ ì¡ì•„ë¨¹ëŠ”ë‹¤.</p><p>ì´ ë•Œ Java NIOì˜ FileChannelê³¼ Direct Bufferë¥¼ í™œìš©í•˜ë©´ ìì› ì‚¬ìš©ëŸ‰ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.</p><p>Bufferë¥¼ ì‚¬ìš©í•˜ë©´ ìì› ì‚¬ìš©ëŸ‰ê³¼ ì†ë„ ê´€ì ì—ì„œëŠ” ì¢‹ì§€ë§Œ í–‰ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ”ë° ë¶ˆí¸í•¨ì´ ìˆë‹¤.</p><p>Bufferê°€ ì œê³µí•˜ëŠ” ë©”ì„œë“œ(position, mark, limit, flip, reset, rewind, compact)ë¥¼ ì˜ í™œìš©í•˜ë©´ í–‰ ê¸°ì¤€ ì²˜ë¦¬ë„ ê°€ëŠ¥í•˜ë‹¤.</p><p>Direct Buffer ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡°ê°€ GCë˜ë©´ ìš´ì˜ì²´ì œ ë©”ëª¨ë¦¬ì— ìƒì„±ëœ Direct Bufferë„ í•´ì œëœë‹¤ê³  í•œë‹¤.(ê³µì‹ APIì— ìˆëŠ” ë‚´ìš©ì€ ì•„ë‹˜)</p></blockquote><h2 id="ì½ì„ê±°ë¦¬"><a href="#ì½ì„ê±°ë¦¬" class="headerlink" title="ì½ì„ê±°ë¦¬"></a>ì½ì„ê±°ë¦¬</h2><ul><li><p>Java I/Oë¥¼ Low Levelì—ì„œ ì•„ì£¼ ì˜ ì„¤ëª…í•œ ê¸€: <a href="https://howtodoinjava.com/java/io/how-java-io-works-internally-at-lower-level/" target="_blank" rel="noopener">https://howtodoinjava.com/java/io/how-java-io-works-internally-at-lower-level/</a></p></li><li><p>Bufferì˜ ì‚¬ìš©ë²•ì„ ê·¸ë¦¼ê³¼ í•¨ê»˜ ì•„ì£¼ ì˜ ì„¤ëª…í•œ ê¸€: <a href="https://palpit.tistory.com/641" target="_blank" rel="noopener">https://palpit.tistory.com/641</a></p></li><li><p>NIO2ì— ë„ì…ëœ AsynchronousFileChannel ê´€ë ¨ ê¸€: <a href="https://homoefficio.github.io/2016/08/13/ëŒ€ìš©ëŸ‰-íŒŒì¼ì„-AsynchronousFileChannelë¡œ-ë‹¤ë¤„ë³´ê¸°/">https://homoefficio.github.io/2016/08/13/ëŒ€ìš©ëŸ‰-íŒŒì¼ì„-AsynchronousFileChannelë¡œ-ë‹¤ë¤„ë³´ê¸°/</a></p></li></ul><h2 id="ê¸°íƒ€"><a href="#ê¸°íƒ€" class="headerlink" title="ê¸°íƒ€"></a>ê¸°íƒ€</h2><p>Direct Bufferë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ channelì˜ read/write ë©”ì„œë“œê°€ ì•„ë‹ˆë¼ bufferì˜ get/putì„ ì“°ë©´ DMAê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê¸€ì„ ë´¤ëŠ”ë° í™•ì¸í•´ë³´ì§„ ì•Šì•˜ë‹¤.</p><h2 id="ì¶”ê°€"><a href="#ì¶”ê°€" class="headerlink" title="ì¶”ê°€"></a>ì¶”ê°€</h2><p><a href="https://homoefficio.github.io/2020/04/09/Java-Native-Memory-Tracking/">Native Memory ì‚¬ìš© í˜„í™©ì„ ëª¨ë‹ˆí„°ë§ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œì•„ë‚´ì„œ ë³„ë„ì˜ ê¸€ë¡œ ì •ë¦¬í–ˆë‹¤.</a> ì–´ë–¤ ê³¼ì •ì„ í†µí•´ ë©”ëª¨ë¦¬ê°€ íšŒìˆ˜ ë˜ëŠ”ì§€ëŠ” ì—¬ì „íˆ ë¯¸ì§€ìˆ˜ì§€ë§Œ Direct Bufferë¡œ ì‚¬ìš©ëë˜ Native MemoryëŠ” ë¹„êµì  ë¹ ë¥¸ ì‹œê°„ ì•ˆì— íšŒìˆ˜ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Java-NIO-Direct-Bufferë¥¼-ì´ìš©í•´ì„œ-ëŒ€ìš©ëŸ‰-íŒŒì¼-í–‰-ê¸°ì¤€ìœ¼ë¡œ-ìª¼ê°œê¸°&quot;&gt;&lt;a href=&quot;#Java-NIO-Direct-Bufferë¥¼-ì´ìš©í•´ì„œ-ëŒ€ìš©ëŸ‰-íŒŒì¼-í–‰-ê¸°ì¤€ìœ¼ë¡œ-ìª¼ê°œê¸°&quot; class=&quot;headerlink&quot; title=&quot;
      
    
    </summary>
    
      <category term="Technique" scheme="http://homoefficio.github.io/categories/Technique/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="Direct Memory Access" scheme="http://homoefficio.github.io/tags/Direct-Memory-Access/"/>
    
      <category term="DMA" scheme="http://homoefficio.github.io/tags/DMA/"/>
    
      <category term="ìë°”" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94/"/>
    
      <category term="NIO" scheme="http://homoefficio.github.io/tags/NIO/"/>
    
      <category term="Direct Buffer" scheme="http://homoefficio.github.io/tags/Direct-Buffer/"/>
    
      <category term="ByteBuffer" scheme="http://homoefficio.github.io/tags/ByteBuffer/"/>
    
      <category term="Buffer" scheme="http://homoefficio.github.io/tags/Buffer/"/>
    
      <category term="FileChannel" scheme="http://homoefficio.github.io/tags/FileChannel/"/>
    
      <category term="Large File" scheme="http://homoefficio.github.io/tags/Large-File/"/>
    
      <category term="Split" scheme="http://homoefficio.github.io/tags/Split/"/>
    
      <category term="New Line" scheme="http://homoefficio.github.io/tags/New-Line/"/>
    
      <category term="Carriage Return" scheme="http://homoefficio.github.io/tags/Carriage-Return/"/>
    
      <category term="CR" scheme="http://homoefficio.github.io/tags/CR/"/>
    
      <category term="Line Feed" scheme="http://homoefficio.github.io/tags/Line-Feed/"/>
    
      <category term="LF" scheme="http://homoefficio.github.io/tags/LF/"/>
    
      <category term="readLine" scheme="http://homoefficio.github.io/tags/readLine/"/>
    
      <category term="ì§ì ‘ ë©”ëª¨ë¦¬ ì ‘ê·¼" scheme="http://homoefficio.github.io/tags/%EC%A7%81%EC%A0%91-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%A0%91%EA%B7%BC/"/>
    
      <category term="ë‹¤ì´ë ‰íŠ¸ ë²„í¼" scheme="http://homoefficio.github.io/tags/%EB%8B%A4%EC%9D%B4%EB%A0%89%ED%8A%B8-%EB%B2%84%ED%8D%BC/"/>
    
      <category term="ë°”ì´íŠ¸ë²„í¼" scheme="http://homoefficio.github.io/tags/%EB%B0%94%EC%9D%B4%ED%8A%B8%EB%B2%84%ED%8D%BC/"/>
    
      <category term="ë²„í¼" scheme="http://homoefficio.github.io/tags/%EB%B2%84%ED%8D%BC/"/>
    
      <category term="íŒŒì¼ ì±„ë„" scheme="http://homoefficio.github.io/tags/%ED%8C%8C%EC%9D%BC-%EC%B1%84%EB%84%90/"/>
    
      <category term="ìŠ¤í”Œë¦¿" scheme="http://homoefficio.github.io/tags/%EC%8A%A4%ED%94%8C%EB%A6%BF/"/>
    
      <category term="ëŒ€ìš©ëŸ‰" scheme="http://homoefficio.github.io/tags/%EB%8C%80%EC%9A%A9%EB%9F%89/"/>
    
      <category term="ëŒ€ìš©ëŸ‰ íŒŒì¼" scheme="http://homoefficio.github.io/tags/%EB%8C%80%EC%9A%A9%EB%9F%89-%ED%8C%8C%EC%9D%BC/"/>
    
      <category term="ì¤„ ë°”ê¿ˆ" scheme="http://homoefficio.github.io/tags/%EC%A4%84-%EB%B0%94%EA%BF%88/"/>
    
  </entry>
  
  <entry>
    <title>Back to the Essence - Concurrency vs Parallelism</title>
    <link href="http://homoefficio.github.io/2019/02/02/Back-to-the-Essence-Concurrency-vs-Parallelism/"/>
    <id>http://homoefficio.github.io/2019/02/02/Back-to-the-Essence-Concurrency-vs-Parallelism/</id>
    <published>2019-02-02T14:29:47.000Z</published>
    <updated>2019-07-10T13:21:10.115Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Back-to-the-Essence-Concurrency-vs-Parallelism"><a href="#Back-to-the-Essence-Concurrency-vs-Parallelism" class="headerlink" title="Back to the Essence - Concurrency vs Parallelism"></a>Back to the Essence - Concurrency vs Parallelism</h1><blockquote><p>ë™ì‹œì„±ì´ ë­ëƒ?<br>ë³µìˆ˜ì˜ íƒœìŠ¤í¬ë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ê±° ì•„ë‹ˆëƒ?</p><p>ë³‘ë ¬ì„±ì´ ë­ëƒ?<br>ë³µìˆ˜ì˜ íƒœìŠ¤í¬ë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ê±° ì•„ë‹ˆëƒ?</p><p>ê·¸ëŸ¼ ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì´ ë­ê°€ ë‹¤ë¥¸ ê±°ëƒ?<br>â€¦</p></blockquote><p>ë¹„ìŠ·í•˜ì§€ë§Œ ë‹¤ë¥¸ ê°œë…ì´ë¼ëŠ” ê±´ ì•Œê² ëŠ”ë°, ì„¤ëª…í•˜ë¼ë©´ ë˜ ëª…í™•í•˜ê²Œ ë‹µí•˜ê¸°ê°€ ì‰½ì§€ ì•Šë‹¤.</p><p>ëª…í™•í•˜ê²Œ ë‹µí•˜ê¸° ì‰½ì§€ ì•Šì€ ì´ìœ ëŠ” ëª‡ ê°€ì§€ ê´€ì ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì„¤ëª…ë˜ì–´ì•¼ í•  í•„ìš”ê°€ ìˆëŠ” ê²ƒì„ ê·¸ëƒ¥ ë­‰ëš±ê·¸ë ¤ì„œ ì–˜ê¸°í•´ì™”ê¸° ë•Œë¬¸ì´ë‹¤. ì´ì œ ê´€ì ì— ë”°ë¼ ë‚˜ëˆ ì„œ ì‚´í´ë³´ì.</p><h2 id="ì‹œê°„-ê´€ì "><a href="#ì‹œê°„-ê´€ì " class="headerlink" title="ì‹œê°„ ê´€ì "></a>ì‹œê°„ ê´€ì </h2><h3 id="Concurrency"><a href="#Concurrency" class="headerlink" title="Concurrency"></a>Concurrency</h3><p>ì¼ë‹¨ <strong>ë™ì‹œì„±ì—ì„œ ë§í•˜ëŠ” ë™ì‹œëŠ” ë¬¼ë¦¬ì ìœ¼ë¡œ ì™„ì „íˆ ë™ì¼í•œ í•œ ì‹œì ë§Œì„ ë§í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì‚¬ì‹¤ ìƒ ë™ì‹œë¼ê³  ê°„ì£¼í•  ìˆ˜ ìˆëŠ” ì‹œì (virtually at the same time)ë„ í¬í•¨</strong>í•œë‹¤. ë¬¼ë¦¬ì ìœ¼ë¡œ ë¯¸ì„¸í•˜ê²Œ ë‹¤ë¥¸ ì‹œì ì¼ì§€ë¼ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ ê´€ì ì—ì„œ ë™ì‹œë¼ê³  ê°„ì£¼í•  ìˆ˜ ìˆëŠ” ì‹œê°„ ê°„ê²©ì—ì„œ ë³µìˆ˜ì˜ íƒœìŠ¤í¬ê°€ ìˆ˜í–‰ëœë‹¤ë©´ ë™ì‹œì„±ì´ ìˆë‹¤.</p><p>ê·¸ë˜ì„œ <strong>ë™ì‹œì„±ì€ CPU(ë˜ëŠ” ì½”ì–´)ê°€ 1ê°œì¸ ìƒí™©ì—ì„œë„ ê°€ëŠ¥</strong>í•˜ë‹¤. ì‹œë¶„í•  ì‹œìŠ¤í…œì„ í†µí•´ ì‚¬ì‹¤ ìƒ ë™ì‹œë¼ê³  ê°„ì£¼í•´ë„ ë¬´ë°©í•œ ì‹œê°„ì— ì—¬ëŸ¬ ê°œì˜ íƒœìŠ¤í¬ë¥¼ ì§„í–‰ì‹œí‚¤ê³  ìˆë‹¤ë©´ ë™ì‹œì„±ì´ ìˆë‹¤.</p><h3 id="Parallelism"><a href="#Parallelism" class="headerlink" title="Parallelism"></a>Parallelism</h3><p><strong>ë³‘ë ¬ì„±ì—ì„œ ë§í•˜ëŠ” ë™ì‹œëŠ” ë¬¼ë¦¬ì ìœ¼ë¡œ ì™„ì „íˆ ë™ì¼í•œ ì‹œì (physically and literally at the same time)</strong> ì´ë‹¤.</p><p>ê·¸ë˜ì„œ <strong>CPU(ë˜ëŠ” ì½”ì–´)ê°€ 1ê°œì¸ ìƒí™©ì—ì„œëŠ” ë³‘ë ¬ì„±ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.</strong></p><h2 id="ì‘ì—…-ë…ë¦½ì„±-ê´€ì "><a href="#ì‘ì—…-ë…ë¦½ì„±-ê´€ì " class="headerlink" title="ì‘ì—… ë…ë¦½ì„± ê´€ì "></a>ì‘ì—… ë…ë¦½ì„± ê´€ì </h2><p>ë…ë¦½ì„±ì€ ê´€ì ì— ë”°ë¼ ë‹¤ë¥´ê²Œ í•´ì„ë  ìˆ˜ ìˆì§€ë§Œ, ê·¸ëŸ° ìƒëŒ€ì„±ì„ ìš©ì¸í•˜ê³  ë°”ë¼ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë¹„êµí•  ìˆ˜ë„ ìˆë‹¤.</p><h3 id="Concurrency-1"><a href="#Concurrency-1" class="headerlink" title="Concurrency"></a>Concurrency</h3><p><strong>ë™ì‹œì„±ì—ì„œëŠ” ë…ë¦½ì ì¸ ë³µìˆ˜ ê°œì˜ íƒœìŠ¤í¬ë¥¼ ìˆœì„œë¥¼ ê³ ë ¤í•˜ì§€ ì•Šê³  ë™ì‹œì— ì‹¤í–‰</strong>í•œë‹¤.</p><p>1ì—ì„œ 100ê¹Œì§€ ë”í•˜ëŠ” íƒœìŠ¤í¬ì™€ 1ì—ì„œ 100ê¹Œì§€ ê³±í•˜ëŠ” íƒœìŠ¤í¬ë¥¼ ë™ì‹œ(ì™„ì „í•œ ë™ì‹œê°€ ì•„ë‹ˆë¼ ë™ì‹œì„±ì—ì„œ ë§í•˜ëŠ” ë™ì‹œ)ì— ì‹¤í–‰í•œë‹¤ë©´ ì´ ë‘ íƒœìŠ¤í¬ëŠ” ë…ë¦½ì ì´ë©°, ì´ëŸ° íƒœìŠ¤í¬ë¥¼ ë™ì‹œ(ì™„ì „í•œ ë™ì‹œê°€ ì•„ë‹ˆë¼ ë™ì‹œì„±ì—ì„œ ë§í•˜ëŠ” ë™ì‹œ)ì— ì²˜ë¦¬í•œë‹¤ë©´ ë™ì‹œì„±ì´ ìˆë‹¤.</p><p>ìˆœì„œë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì€ ìˆœì„œë¥¼ ì§€í‚¤ëŠ” ê²½ìš°ì™€ ì§€í‚¤ì§€ ì•ŠëŠ” ê²½ìš° ëª¨ë‘ë¥¼ í¬ê´„í•œë‹¤.</p><h3 id="Parallelism-1"><a href="#Parallelism-1" class="headerlink" title="Parallelism"></a>Parallelism</h3><p><strong>ë³‘ë ¬ì„±ì—ì„œëŠ” í•˜ë‚˜ì˜ íƒœìŠ¤í¬ë¥¼ ì—¬ëŸ¬ ë¶€ë¶„ìœ¼ë¡œ ìª¼ê°œì„œ ë™ì‹œì— ì‹¤í–‰</strong>í•œë‹¤.</p><p>1ì—ì„œ 100ê¹Œì§€ ë”í•˜ëŠ” í•˜ë‚˜ì˜ íƒœìŠ¤í¬ë¥¼ 1-30, 31-50, 51-70, 71-100 ì´ë ‡ê²Œ 4ê°œì˜ êµ¬ê°„í•©ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ì´ë¥¼ 4ê°œì˜ CPU(ë˜ëŠ” ì½”ì–´)ì—ì„œ ê°ê° ë™ì‹œì— ì‹¤í–‰í•˜ë©´ ë³‘ë ¬ì„±ì´ ìˆë‹¤.</p><h2 id="ë™ì‹œì„±ê³¼-ë³‘ë ¬ì„±ì˜-ì¡°í•©"><a href="#ë™ì‹œì„±ê³¼-ë³‘ë ¬ì„±ì˜-ì¡°í•©" class="headerlink" title="ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì˜ ì¡°í•©"></a>ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì˜ ì¡°í•©</h2><h3 id="ë™ì‹œì„±ì´-ìˆìœ¼ë©´ì„œ-ë³‘ë ¬ì„±ì€-ì—†ì„-ìˆ˜-ìˆë‹¤"><a href="#ë™ì‹œì„±ì´-ìˆìœ¼ë©´ì„œ-ë³‘ë ¬ì„±ì€-ì—†ì„-ìˆ˜-ìˆë‹¤" class="headerlink" title="ë™ì‹œì„±ì´ ìˆìœ¼ë©´ì„œ ë³‘ë ¬ì„±ì€ ì—†ì„ ìˆ˜ ìˆë‹¤?"></a>ë™ì‹œì„±ì´ ìˆìœ¼ë©´ì„œ ë³‘ë ¬ì„±ì€ ì—†ì„ ìˆ˜ ìˆë‹¤?</h3><p>ì–´ë–¤ ê´€ì ì—ì„œë“  CPU(ë˜ëŠ” ì½”ì–´)ê°€ 1ê°œì¸ ìƒí™©ì—ì„œëŠ” ë³‘ë ¬ì„±ì´ ìˆì„ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ì´ê±´ ìëª…í•˜ë‹¤.</p><h3 id="ë™ì‹œì„±ì€-ì—†ìœ¼ë©´ì„œ-ë³‘ë ¬ì„±ì€-ìˆì„-ìˆ˜-ìˆë‹¤"><a href="#ë™ì‹œì„±ì€-ì—†ìœ¼ë©´ì„œ-ë³‘ë ¬ì„±ì€-ìˆì„-ìˆ˜-ìˆë‹¤" class="headerlink" title="ë™ì‹œì„±ì€ ì—†ìœ¼ë©´ì„œ ë³‘ë ¬ì„±ì€ ìˆì„ ìˆ˜ ìˆë‹¤?"></a>ë™ì‹œì„±ì€ ì—†ìœ¼ë©´ì„œ ë³‘ë ¬ì„±ì€ ìˆì„ ìˆ˜ ìˆë‹¤?</h3><p>ìœ„ì—ì„œ ë‹¤ë£¬ ë”í•˜ê¸° êµ¬ê°„í•©ì€ ë³‘ë ¬ì„±ì´ ë¶„ëª…íˆ ìˆì§€ë§Œ, ë™ì‹œì„±ì´ ìˆë‹¤ê³  ë³´ëŠ” ê²ƒì€ ê´€ì ì— ë”°ë¼ ë‹¤ë¥´ë‹¤. </p><p>êµ¬ê°„í•© ìì²´ë¥¼ ë³„ê°œì˜ íƒœìŠ¤í¬ë¡œ ë³¸ë‹¤ë©´ ë™ì‹œì„±ì´ ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆê³ ,<br>êµ¬ê°„í•©ì„ ë³„ê°œì˜ íƒœìŠ¤í¬ê°€ ì•„ë‹ˆë¼ ì „ì²´í•©ì´ë¼ëŠ” í•˜ë‚˜ì˜ íƒœìŠ¤í¬ë¥¼ ë‚˜ëˆˆ ê²ƒìœ¼ë¡œë§Œ ë³¸ë‹¤ë©´ ë™ì‹œì„±ì´ ì—†ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p><h3 id="ë™ì‹œì„±ê³¼-ë³‘ë ¬ì„±-ëª¨ë‘-ìˆì„-ìˆ˜-ìˆë‹¤"><a href="#ë™ì‹œì„±ê³¼-ë³‘ë ¬ì„±-ëª¨ë‘-ìˆì„-ìˆ˜-ìˆë‹¤" class="headerlink" title="ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„± ëª¨ë‘ ìˆì„ ìˆ˜ ìˆë‹¤?"></a>ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„± ëª¨ë‘ ìˆì„ ìˆ˜ ìˆë‹¤?</h3><p>1ì—ì„œ 100ê¹Œì§€ ë”í•˜ëŠ” í•˜ë‚˜ì˜ íƒœìŠ¤í¬ë¥¼ 1-50, 51-100 ì´ë ‡ê²Œ 2ê°œì˜ êµ¬ê°„í•©ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ì´ë¥¼ 1, 2ë²ˆ CPU(ë˜ëŠ” ì½”ì–´)ì—ì„œ ê°ê° ë™ì‹œì— ì‹¤í–‰í•˜ê³ , ë™ì‹œì— 1ì—ì„œ 100ê¹Œì§€ ê³±í•˜ëŠ” í•˜ë‚˜ì˜ íƒœìŠ¤í¬ë¥¼ 1-50, 51-100 ì´ë ‡ê²Œ 2ê°œì˜ êµ¬ê°„ê³±ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ì´ë¥¼ 3, 4ë²ˆ CPU(ë˜ëŠ” ì½”ì–´)ì—ì„œ ê°ê° ë™ì‹œì— ì‹¤í–‰í•œë‹¤ë©´ ì–´ë–¨ê¹Œ?</p><p>ì´ëŸ´ ë•ŒëŠ” ë”í•˜ê¸°ì™€ ê³±í•˜ê¸°ë¼ëŠ” ë…ë¦½ì ì¸ ë³µìˆ˜ì˜ íƒœìŠ¤í¬ë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ë¯€ë¡œ ë™ì‹œì„±ì´ ìˆê³ ,<br>ë”í•˜ê¸°ë¼ëŠ” í•˜ë‚˜ì˜ íƒœìŠ¤í¬ë¥¼ êµ¬ê°„í•©ìœ¼ë¡œ ë‚˜ëˆ ì„œ ë™ì‹œì— ì‹¤í–‰í•˜ê³ , ê³±í•˜ê¸°ë¼ëŠ” í•˜ë‚˜ì˜ íƒœìŠ¤í¬ë¥¼ êµ¬ê°„ê³±ìœ¼ë¡œ ë‚˜ëˆ ì„œ ë™ì‹œì— ì‹¤í–‰í•˜ë¯€ë¡œ ë³‘ë ¬ì„±ë„ ìˆë‹¤.</p><h2 id="concurrent-vs-simultaneous"><a href="#concurrent-vs-simultaneous" class="headerlink" title="concurrent vs simultaneous"></a>concurrent vs simultaneous</h2><p>ì°¸ê³ ë¡œ ì „ì‚° ìš©ì–´ë¥¼ ì ì‹œ ë– ë‚˜ì„œ concurrentì™€ simultaneousë¥¼ ë¹„êµí•´ë³´ëŠ” ê²ƒë„ concurrentì˜ ì˜ë¯¸ë¥¼ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë  ê²ƒ ê°™ë‹¤.</p><p>ë‘˜ì˜ ì°¨ì´ë¥¼ ì•„ë˜ì™€ ê°™ì´ í•´ì„í•˜ëŠ” ê²Œ 100% ë§ëŠ”ì§€ëŠ” ì›ì–´ë¯¼ì´ ì•„ë‹Œ ë‚˜ëŠ” ì•Œ ìˆ˜ ì—†ì§€ë§Œ, ìµœì†Œí•œ concurrency vs parallelismì„ ì´í•´í•˜ëŠ” ë°ëŠ” í™•ì‹¤íˆ ë„ì›€ì´ ëœë‹¤. ì–´ì„¤í”ˆ ë²ˆì—­ ë§ê³  ê·¸ëƒ¥ ì›ì–´ ê·¸ëŒ€ë¡œ ê°€ì ¸ì™€ë³¸ë‹¤. ì¶œì²˜ëŠ” <a href="https://www.quora.com/Is-there-any-major-difference-between-simultaneous-and-concurrent" target="_blank" rel="noopener">Quora</a>ë‹¤.</p><p><img src="https://i.imgur.com/2KAJ16s.png" alt="Imgur"></p><h2 id="Go-ì–¸ì–´ë¥¼-ë§Œë“ -Rob-Pikeì˜-ê°•ì—°"><a href="#Go-ì–¸ì–´ë¥¼-ë§Œë“ -Rob-Pikeì˜-ê°•ì—°" class="headerlink" title="Go ì–¸ì–´ë¥¼ ë§Œë“  Rob Pikeì˜ ê°•ì—°"></a>Go ì–¸ì–´ë¥¼ ë§Œë“  Rob Pikeì˜ ê°•ì—°</h2><p>Rob PikeëŠ” <a href="https://www.youtube.com/watch?v=cN_DpYBzKso" target="_blank" rel="noopener">ê°•ì—°</a>ì—ì„œ Concurrencyì™€ ParallelismëŠ” ë‹¤ë¥´ë‹¤ë©° ì—¬ëŸ¬ ì£¼ì˜¥ ê°™ì€ í‘œí˜„ì„ ë‚¨ê²¼ë‹¤.</p><blockquote><p>ë™ì‹œì„±ì€ ë…ë¦½ì ì¸ ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤ì˜ ì¡°í•©ì„ ì˜ë¯¸í•˜ê³ ,<br>ë³‘ë ¬ì„±ì€ ì—¬ëŸ¬ ê°€ì§€ ì¼ì„ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.</p><p><code>Concurrency is the composition of independently executing processes.</code><br><code>Parallelism is the simultaneous execution of multiple things.</code></p></blockquote><p>ì°¸ê³ ë¡œ ì´ ë§ì— ë‚˜ì˜¨ í”„ë¡œì„¸ìŠ¤ëŠ” ë¦¬ëˆ…ìŠ¤ í”„ë¡œì„¸ìŠ¤ê°€ ì•„ë‹Œ ìŠ¤ë ˆë“œ, ì½”ë£¨í‹´ì„ í¬ê´„í•˜ëŠ” ì¼ë°˜ì ì¸ ì˜ë¯¸ì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤.</p><blockquote><p>ë™ì‹œì„±ì€ ì—¬ëŸ¬ ê°€ì§€ ì¼ì„ í•œ ë²ˆì— <strong>ì²˜ë¦¬</strong>í•˜ëŠ” ê²ƒì„ ë§í•˜ê³ ,<br>ë³‘ë ¬ì„±ì€ ì—¬ëŸ¬ ê°€ì§€ ì¼ì„ í•œ ë²ˆì— <strong>ìˆ˜í–‰</strong>í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.</p><p><code>Concurrency is about **dealing with** lots of things at once.</code><br><code>Parallelism is about **doing** lots of things at once.</code></p></blockquote><p><code>dealing with</code>ì™€ <code>doing</code>ì´ ì˜ì–´ë¡œëŠ” í™•ì—°í•˜ê²Œ ëŒ€ì¡°ë˜ì§€ë§Œ, ê°„ê²°í•¨ê³¼ ê¸€ììˆ˜ ë§ì¶¤ì„ ìœ„í•´ <code>ì²˜ë¦¬</code>ì™€ <code>ìˆ˜í–‰</code>ìœ¼ë¡œ ì˜®ê²¨ë³´ë©´ ê·¸ ì°¨ì´ê°€ ì¢€ í¬ì„ë˜ëŠ” ê²ƒ ê°™ë‹¤.<br><code>dealing with</code>ì—ëŠ” ì„¤ê³„ê°€ í¬í•¨ë˜ê³ , <code>doing</code>ì€ ì„¤ê³„ëœ ëŒ€ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤ê³  ì´í•´í•˜ë©´ í¬ê²Œ í‹€ë¦¬ì§€ ì•Šì„ ê²ƒ ê°™ë‹¤.</p><blockquote><p>ë™ì‹œì„±ì€ <strong>êµ¬ì¡°</strong>ì— ê´€í•œ ê²ƒì´ê³ ,<br>ë³‘ë ¬ì„±ì€ <strong>ì‹¤í–‰</strong>ì— ê´€í•œ ê²ƒì´ë‹¤.</p><p><code>Concurrency is about the **structure**.</code><br><code>Parallelism is about the **execution**.</code></p></blockquote><p>ì˜¤í˜¸ ì´ê²Œ ì¢‹ë‹¤. ì˜ì–´ë“  êµ­ì–´ë“  ê¸€ììˆ˜ê¹Œì§€ ë˜‘ê°™ì•„ì„œ ì•„ë¦„ë‹µê¸°ê¹Œì§€ í•˜ë‹¤..<br>ì´ë ‡ê²Œ ë³´ë©´ Parallelismì„ ë³‘ë ¬ì„±ë³´ë‹¤ëŠ” ë³‘í–‰ì„±ìœ¼ë¡œ ì˜®ê¸°ëŠ” ê²Œ ë” ë‚˜ì€ ê²ƒ ê°™ë‹¤.  </p><p>ì •ë¦¬í•˜ë©´ Rob PikeëŠ” ConcurrencyëŠ” ì„¤ê³„ ìª½ì— ë¬´ê²Œë¥¼ ë‘ê³ , Parallelismì€ ì‹¤í–‰ ìª½ì— ë¬´ê²Œë¥¼ ë‘ëŠ” ê²ƒ ê°™ë‹¤.</p><h2 id="ê·¸ë¦¼-ë¹„êµ"><a href="#ê·¸ë¦¼-ë¹„êµ" class="headerlink" title="ê·¸ë¦¼ ë¹„êµ"></a>ê·¸ë¦¼ ë¹„êµ</h2><p>ê°„ë‹¨í•˜ê²ŒëŠ” ì¸ë„¤ì¼ë¡œ ì‚¬ìš©í•œ ì´ ê·¸ë¦¼ë„ ê´œì°®ê³ ,</p><p><img src="https://i.imgur.com/cDdWLKL.jpg" alt="Imgur"></p><p>(ì¶œì²˜: <a href="https://www.codeproject.com/Articles/1267757/Concurrency-vs-Parallelism" target="_blank" rel="noopener">https://www.codeproject.com/Articles/1267757/Concurrency-vs-Parallelism</a>)</p><p>ë‹¤ìŒ ê·¸ë¦¼ë„ ê´œì°®ì€ ê²ƒ ê°™ë‹¤.</p><p><img src="https://i.imgur.com/uIMnkj1.jpg" alt="Imgur"></p><p>(ì¶œì²˜: <a href="https://twitter.com/ohidxy/status/946110898539659264" target="_blank" rel="noopener">https://twitter.com/ohidxy/status/946110898539659264</a>)</p><h2 id="ë§ˆë¬´ë¦¬"><a href="#ë§ˆë¬´ë¦¬" class="headerlink" title="ë§ˆë¬´ë¦¬"></a>ë§ˆë¬´ë¦¬</h2><p>Concurrencyì™€ Parallelismì„ êµ¬ë³„í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ í•´ì„ì´ ë„ì›€ì´ ëœë‹¤.</p><ul><li><p>â€˜ë™ì‹œâ€™ì˜ ì°¨ì´</p><ul><li>Concurrencyì—ì„œ ë§í•˜ëŠ” ë™ì‹œì„±ì€ ì‚¬ì‹¤ ìƒ ë™ì‹œë¼ê³  ê°„ì£¼í•´ë„ ë˜ëŠ” ì‹œê°„ ê°„ê²©ì„ ì˜ë¯¸</li><li>Parallelismì—ì„œ ë§í•˜ëŠ” ë™ì‹œì„±ì€ ì™„ì „íˆ ë™ì¼í•œ ì‹œì ì„ ì˜ë¯¸</li></ul></li><li><p>ì‘ì—… ë…ë¦½ì„±ì˜ ì°¨ì´</p><ul><li>Concurrentí•˜ê²Œ ì‹¤í–‰ë˜ëŠ” ì‘ì—…ì€ ì¼ë°˜ì ìœ¼ë¡œ ì„œë¡œ ë…ë¦½ì </li><li>Parallelí•˜ê²Œ ì‹¤í–‰ë˜ëŠ” ì‘ì—…ì€ ì¼ë°˜ì ìœ¼ë¡œ ì›ë˜ í•˜ë‚˜ì¸ ì‘ì—…ì„ ë™ì‹œì— ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ë¶„í• í•œ ì‘ì—…ì„ ì˜ë¯¸</li></ul></li></ul><p>Go ì–¸ì–´ë¥¼ ë§Œë“  Rob Pikeì— ì˜í•˜ë©´,</p><ul><li>ConcurrencyëŠ” ë…ë¦½ì ì¸ ì—¬ëŸ¬ ì‘ì—…ì„ í•œ ë²ˆì— ìˆ˜í–‰í•˜ë„ë¡ ì„¤ê³„í•˜ëŠ” ìª½ì— ë¬´ê²Œë¥¼ ë‘” ê°œë…</li><li>Parallelismì€ í•˜ë‚˜ì˜ ì‘ì—…ì„ ì„¤ê³„ëœ ëŒ€ë¡œ ë¶„í• í•´ì„œ ë™ì‹œì— ìˆ˜í–‰í•˜ëŠ” ìª½ì— ë¬´ê²Œë¥¼ ë‘” ê°œë…</li></ul><h3 id="ì°¸ê³ -ìë£Œ"><a href="#ì°¸ê³ -ìë£Œ" class="headerlink" title="ì°¸ê³  ìë£Œ"></a>ì°¸ê³  ìë£Œ</h3><ul><li><a href="https://howtodoinjava.com/java/multi-threading/concurrency-vs-parallelism/" target="_blank" rel="noopener">https://howtodoinjava.com/java/multi-threading/concurrency-vs-parallelism/</a></li><li><a href="https://www.slideshare.net/PramestiHattaK/golang-101-concurrency-vs-parallelism" target="_blank" rel="noopener">https://www.slideshare.net/PramestiHattaK/golang-101-concurrency-vs-parallelism</a></li><li><a href="http://tutorials.jenkov.com/java-concurrency/concurrency-vs-parallelism.html" target="_blank" rel="noopener">http://tutorials.jenkov.com/java-concurrency/concurrency-vs-parallelism.html</a></li><li><a href="https://www.amazon.com/Reactive-Programming-RxJava-Asynchronous-Applications/dp/1491931655/" target="_blank" rel="noopener">https://www.amazon.com/Reactive-Programming-RxJava-Asynchronous-Applications/dp/1491931655/</a></li></ul><h2 id="ì¶”ê°€"><a href="#ì¶”ê°€" class="headerlink" title="ì¶”ê°€"></a>ì¶”ê°€</h2><p>í˜ë¶ì— ê³µìœ í•˜ê³  ë³´ë‹ˆ ì´ê·œì› ë‹˜ìœ¼ë¡œë¶€í„° ë‹¤ìŒê³¼ ê°™ì€ ì•„ì£¼ ìŒˆë°•í•œ ì˜ê²¬ì„ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤.</p><blockquote><p>ConcurrencyëŠ” ë‹¤ìˆ˜ì˜ ë¬¸ì œê°€ ë™ì‹œì— ì¼ì–´ë‚œ ìƒí™©ì— ëŒ€í•œ ê²ƒì´ê³ ,<br>Parallelismì€ ë‹¤ìˆ˜ì˜ ë¬¸ì œë¥¼ ë™ì‹œì— í•´ê²°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ê²ƒì…ë‹ˆë‹¤.</p></blockquote><p>ê°œì¸ì ìœ¼ë¡œëŠ”</p><blockquote><p>ConcurrencyëŠ” í•´ê²°í•´ì•¼ í•  ë¬¸ì œê³ ,<br>Parallelismaì€ í•´ê²°í•˜ëŠ” ë°©ë²•ì´ë‹¤.</p></blockquote><p>ë¼ê³  ìƒê°í•´ì™”ëŠ”ë°, ëª‡ êµ°ë° ì¡°ì‚¬í•´ë³´ë‹ˆ ì´ëŸ° ì‹ìœ¼ë¡œ ì„œìˆ ëœ ê²Œ ì—†ì–´ì„œ ì•„ë‹Œê°€ë³´ë‹¤.. í•˜ê³  Rob Pikeì˜ ì„¤ëª…ëŒ€ë¡œ êµ¬ì¡° vs ì‹¤í–‰ì— í˜ì„ ì‹¤ì–´ì£¼ê³  ëë§ºì—ˆëŠ”ë°, ìš°êµ°ì„ ì–»ì—ˆìœ¼ë‹ˆ Rob Pikeì™€ëŠ” ì¡°ê¸ˆ ë‹¤ë¥¼ì§€ë¼ë„ ë‹¤ìŒê³¼ ê°™ì´ ê²°ë¡ ë‚¸ë‹¤.</p><blockquote><p><strong>ConcurrencyëŠ” ë™ì‹œì— ë°œìƒí•œ ë‹¤ìˆ˜ì˜ ì¼ì„ ì²˜ë¦¬í•´ì•¼í•˜ëŠ” ìƒí™©ì„ ì˜ë¯¸</strong>í•˜ê³ ,<br><strong>Parallelismì€ ë‹¤ìˆ˜ì˜ ì¼ì„ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ë°©ì‹ì„ ì˜ë¯¸</strong>í•œë‹¤.</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Back-to-the-Essence-Concurrency-vs-Parallelism&quot;&gt;&lt;a href=&quot;#Back-to-the-Essence-Concurrency-vs-Parallelism&quot; class=&quot;headerlink&quot; title=&quot;
      
    
    </summary>
    
      <category term="Concepts" scheme="http://homoefficio.github.io/categories/Concepts/"/>
    
    
      <category term="Concurrency" scheme="http://homoefficio.github.io/tags/Concurrency/"/>
    
      <category term="Parallelism" scheme="http://homoefficio.github.io/tags/Parallelism/"/>
    
      <category term="ë™ì‹œì„±" scheme="http://homoefficio.github.io/tags/%EB%8F%99%EC%8B%9C%EC%84%B1/"/>
    
      <category term="ë³‘ë ¬ì„±" scheme="http://homoefficio.github.io/tags/%EB%B3%91%EB%A0%AC%EC%84%B1/"/>
    
      <category term="ë³‘í–‰ì„±" scheme="http://homoefficio.github.io/tags/%EB%B3%91%ED%96%89%EC%84%B1/"/>
    
  </entry>
  
  <entry>
    <title>Back to the Essence - Java ì»´íŒŒì¼ì—ì„œ ì‹¤í–‰ê¹Œì§€ - (2)</title>
    <link href="http://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80-2/"/>
    <id>http://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-2/</id>
    <published>2019-01-30T15:20:05.000Z</published>
    <updated>2019-11-23T05:32:21.416Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-2"><a href="#Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-2" class="headerlink" title="Back to the Essence - Java ì»´íŒŒì¼ì—ì„œ ì‹¤í–‰ê¹Œì§€ - (2)"></a>Back to the Essence - Java ì»´íŒŒì¼ì—ì„œ ì‹¤í–‰ê¹Œì§€ - (2)</h1><p>Java 11 JVM ìŠ¤í™ì„ ê¸°ì¤€ìœ¼ë¡œ Java ì†ŒìŠ¤ ì½”ë“œê°€ ì–´ë–»ê²Œ ì»´íŒŒì¼ë˜ê³  ì‹¤í–‰ë˜ëŠ”ì§€ ì‚´ì§ ê¹Šê²Œ ì•Œì•„ë³´ì.</p><p>ì´ë²ˆì—” 2íƒ„ ì‹¤í–‰ í¸ì´ë‹¤. 1íƒ„ ì»´íŒŒì¼ í¸ì€ <a href="https://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-1/">ì—¬ê¸°</a>ì—..</p><h1 id="ì‹¤í–‰"><a href="#ì‹¤í–‰" class="headerlink" title="ì‹¤í–‰"></a>ì‹¤í–‰</h1><p>ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì€ <code>java</code> ëª…ë ¹ì–´ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. <a href="https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE" target="_blank" rel="noopener">ì˜¤ë¼í´ì˜ Tools Reference ë¬¸ì„œ</a>ì— ë‚˜ì˜¤ëŠ” <code>java</code>ì— ëŒ€í•œ ì„¤ëª…ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><blockquote><p><code>java</code> ëª…ë ¹ì–´ëŠ” ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹œì‘í•œë‹¤.<br><code>java</code> ëª…ë ¹ì–´ëŠ” ë¨¼ì € JRE(Java Runtime Environment)ë¥¼ ì‹œì‘í•˜ê³ ,<br>ì¸ìë¡œ ì§€ì •ëœ í´ë˜ìŠ¤(<code>public static void main(String[] args)</code>ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” í´ë˜ìŠ¤)ë¥¼ ë¡œë”©í•˜ê³ ,<br><code>main()</code> ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.</p></blockquote><h2 id="JDK-JRE-JVM"><a href="#JDK-JRE-JVM" class="headerlink" title="JDK, JRE, JVM"></a>JDK, JRE, JVM</h2><p><code>java</code>ëŠ” JREë¥¼ ì‹œì‘í•œë‹¤ê³  í•˜ë‹ˆ, JDK, JRE, JVMì˜ ê´€ê³„ë¥¼ ê·¸ë¦¼ í•œ ì¥ìœ¼ë¡œ ê°€ë³ê²Œ í›‘ê³  ì§€ë‚˜ê°€ì.</p><p><img src="https://i.imgur.com/wChPQEV.png" alt="Imgur"></p><ul><li>JDK: ìë°” ê°œë°œ í™˜ê²½ - ì»´íŒŒì¼ëŸ¬, ì—­ì–´ì…ˆë¸”ëŸ¬, ë””ë²„ê±°, ì˜ì¡´ê´€ê³„ë¶„ì„ ë“± ê°œë°œì— í•„ìš”í•œ ë„êµ¬ ì œê³µ</li><li>JRE: ìë°” ì‹¤í–‰ í™˜ê²½ - ìë°” ì‹¤í–‰ ëª…ë ¹, í´ë˜ìŠ¤ë¡œë”ì™€ ë°”ì´íŠ¸ì½”ë“œì˜ ì‹¤í–‰ì— í•„ìš”í•œ ê¸°ë³¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê³µ</li><li>JVM: ìë°” ê°€ìƒ ë¨¸ì‹  - ë°”ì´íŠ¸ì½”ë“œ ì¸í„°í”„ë¦¬í„°, JIT ì»´íŒŒì¼ëŸ¬, ë§ì»¤, ëª…ë ¹ì–´ ì„¸íŠ¸, ê°€ë¹„ì§€ ì»¬ë ‰í„°, ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­(ë©”ëª¨ë¦¬) ë“± OSì— ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ì¶”ìƒì¸µ ì œê³µ</li></ul><p>ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì´ ì •ë¦¬í•  ìˆ˜ ìˆë‹¤.</p><blockquote><p>JDKë¥¼ ì‚¬ìš©í•´ì„œ ë°”ì´íŠ¸ì½”ë“œ(class íŒŒì¼)ë¥¼ ë§Œë“¤ê³ , </p><p>JREë¥¼ ì‚¬ìš©í•´ì„œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´,</p><p>JVMì´ ê¸°ë™ë˜ë©´ì„œ ë°”ì´íŠ¸ì½”ë“œì˜ ì‹¤ì§ˆì ì¸ ì‹¤í–‰(ì‹¤ì œ OSì— ë©”ëª¨ë¦¬ í• ë‹¹/íšŒìˆ˜, ì‹œìŠ¤í…œ ëª…ë ¹ í˜¸ì¶œ ë“± ìš”ì²­)ì„ ë‹´ë‹¹í•œë‹¤.</p></blockquote><h2 id="JRE-ì‹œì‘"><a href="#JRE-ì‹œì‘" class="headerlink" title="JRE ì‹œì‘"></a>JRE ì‹œì‘</h2><p><code>java</code> ëª…ë ¹ ì‹¤í–‰ì— ì˜í•´ JREê°€ ì‹œì‘ëœë‹¤ëŠ” ê²ƒì€ ê²°êµ­ <code>java</code> ëª…ë ¹ì–´ì˜ ì¸ìë¡œ ì§€ì •ëœ í´ë˜ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ìë°” ì‹¤í–‰ í™˜ê²½ì´ ì¡°ì„±ë¨ì„ ì˜ë¯¸í•œë‹¤. </p><p><code>java</code> ëª…ë ¹ì–´ì˜ ì¸ìë¡œ ì§€ì •í•œ ì„¤ì • ì˜µì…˜ì— ë§ê²Œ JVMì´ ì‹¤í–‰ë˜ê³ , JVMì´ í´ë˜ìŠ¤ë¡œë”ë¥¼ ì´ìš©í•´ì„œ <code>initial class</code>ë¥¼ <code>create</code>í•˜ê³ , <code>initial class</code>ë¥¼ <code>link</code>í•˜ê³ , <code>initialize</code>í•˜ê³ , main ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.(<a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.2" target="_blank" rel="noopener">JVM ìŠ¤í™</a> ì°¸ê³ )</p><h3 id="ìš©ì–´-ì •ë¦¬"><a href="#ìš©ì–´-ì •ë¦¬" class="headerlink" title="ìš©ì–´ ì •ë¦¬"></a>ìš©ì–´ ì •ë¦¬</h3><p>ëª‡ ê°€ì§€ ìš©ì–´ë¥¼ ì¼ë¶€ëŸ¬ ìŠ¤í™ì— ë‚˜ì˜¨ ì›ì–´ ê·¸ëŒ€ë¡œ ì¼ëŠ”ë° ìŠ¤í™ìƒì˜ ì˜ë¯¸ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>initial class: JVM êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ main ë©”ì„œë“œë¥¼ í¬í•¨í•˜ëŠ” í´ë˜ìŠ¤ë¡œì„œ java ëª…ë ¹ì–´ì˜ ì¸ìë¡œ ì§€ì •ë˜ëŠ” í´ë˜ìŠ¤ (<a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.2" target="_blank" rel="noopener">JVM ìŠ¤í™</a> ì°¸ê³ )</li><li>create (a class or interface): í•´ë‹¹ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ ë°”ì´íŠ¸ì½”ë“œë¥¼ ë¡œë”©í•´ì„œ JVMì´ í• ë‹¹í•œ ë©”ëª¨ë¦¬(Method Area, ë©”ì„œë“œ ì˜ì—­)ì— constructioní•˜ëŠ” ê²ƒ (<a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.3" target="_blank" rel="noopener">JVM ìŠ¤í™</a> ì°¸ê³ )</li><li>link (a class or interface): í•´ë‹¹ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ ë°”ë¡œ ìœ„ ìˆ˜í¼í´ë˜ìŠ¤ë‚˜ ìˆ˜í¼ì¸í„°í˜ì´ìŠ¤, ë˜ëŠ” ë°°ì—´ì¼ ê²½ìš° ë°°ì—´ì˜ ì›ì†Œì¸ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¸(verify)/ì¤€ë¹„(prepare)í•˜ê³ , ì‹¬ë³¼ë¦­ ì°¸ì¡°ë¥¼ í•´ì„(resolve)í•´ì„œ JVMì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ìƒíƒœë¡œ ë§Œë“œëŠ” ê²ƒ (<a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4" target="_blank" rel="noopener">JVM ìŠ¤í™</a> ì°¸ê³ )</li><li>initialize (a class or interface): í•´ë‹¹ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ class or interface initialization methodë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒ (<a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.5" target="_blank" rel="noopener">JVM ìŠ¤í™</a> ì°¸ê³ )</li></ul><p>ìœ„ ì„¤ëª…ì—ëŠ” ì—†ì§€ë§Œ ì¤‘ìš”í•œ ìš©ì–´ì¸ ë¡œë”©ì˜ ìŠ¤í™ìƒì˜ ì˜ë¯¸ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>load (a class or interface): í•´ë‹¹ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ ë°”ì´ë„ˆë¦¬ í‘œí˜„ì„ ì°¾ì•„ì„œ ê·¸ ë°”ì´ë„ˆë¦¬ í‘œí˜„ìœ¼ë¡œë¶€í„° í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±(create)í•˜ëŠ” ê²ƒ (<a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html" target="_blank" rel="noopener">JVM ìŠ¤í™</a> ì°¸ê³ )</li></ul><p>ì•ìœ¼ë¡œ <strong>initial classëŠ” ì‹œì‘ í´ë˜ìŠ¤</strong>, <strong>createì€ ìƒì„±</strong>, <strong>linkëŠ” ë§í¬</strong>, <strong>initializeëŠ” ì´ˆê¸°í™”</strong>, <strong>loadëŠ” ë¡œë”©</strong>ì´ë¼ê³  ì“´ë‹¤. í•œ ê°€ì§€ ìœ ì˜í•  ê²ƒì€ ì—¬ê¸°ì„œ ë§í•˜ëŠ” <strong>ìƒì„±(create)ì€ JVMì˜ í™(heap)ì— ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë§Œì„ ì§€ì¹­í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ JVMì˜ ë©”ëª¨ë¦¬ ì–´ë”˜ê°€ì— ìë£Œêµ¬ì¡°ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì„ ëª¨ë‘ ì§€ì¹­</strong>í•œë‹¤.</p><h2 id="ëŸ°íƒ€ì„-ë°ì´í„°-ì˜ì—­"><a href="#ëŸ°íƒ€ì„-ë°ì´í„°-ì˜ì—­" class="headerlink" title="ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­"></a>ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­</h2><p><code>java</code> ëª…ë ¹ì–´ë¡œ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ JVMì´ ì‹¤í–‰ë˜ë©´ì„œ ì‹œì‘ í´ë˜ìŠ¤ë¥¼ ìƒì„±, ë§í¬, ì´ˆê¸°í™”í•˜ê³  main ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤ê³  í–ˆë‹¤. ì‹œì‘ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•œë‹¤ëŠ” ê²ƒì€ ì‹œì‘ í´ë˜ìŠ¤ì˜ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì½ì–´ì„œ JVMì˜ ë©”ëª¨ë¦¬ ì–´ë”˜ê°€ì— ì“°ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. JVMì˜ ë©”ëª¨ë¦¬ëŠ” ì–´ë–»ê²Œ ìƒê²¼ì„ê¹Œ?</p><p>JVMì€ í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ì— ì‚¬ìš©ë˜ëŠ” ë©”ëª¨ë¦¬ë¥¼ ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­(Runtime Data Area)ì´ë¼ê³  ë¶€ë¥´ëŠ” ëª‡ ê°€ì§€ ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ ì„œ ê´€ë¦¬í•œë‹¤. ìŠ¤í™ì˜ ëª©ì°¨ë¡œ ë³´ë©´ ë°‹ë°‹í•˜ê²Œ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ì—´ë˜ì–´ ìˆë‹¤.</p><ol><li>PC ë ˆì§€ìŠ¤í„°</li><li>JVM ìŠ¤íƒ</li><li>í™(Heap)</li><li>ë©”ì„œë“œ ì˜ì—­(Method Area)</li><li>ëŸ°íƒ€ì„ ìƒìˆ˜ í’€(Run-Time Constnat Pool)</li><li>ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒ</li></ol><p>ì´ë ‡ê²Œ ë³´ë©´ ìœ„ 6ê°€ì§€ê°€ ë™ë“±í•œ ìµœìƒìœ„ ìˆ˜ì¤€ì—ì„œ ë¶„ë¥˜ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ, ì‹¤ì œ ìŠ¤í™ì˜ ì„¤ëª…ì„ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì•½ê°„ ì…ì²´ì ìœ¼ë¡œ êµ¬ë¶„í•˜ëŠ” ê²ƒì´ ë” ì í•©í•˜ë‹¤.</p><p><img src="https://i.imgur.com/Mh4DuRB.png" alt="Imgur"></p><p>ì—¬ê¸°ì„œ â€˜ë‹¨ìœ„â€™ë¼ëŠ” êµ¬ë¶„ ë‹¨ê³„ë¥¼ ì¶”ê°€í•œ ì´ìœ ëŠ” ìŠ¤í™ì—ë„ <code>per-class</code>, <code>per-thread</code> ë¼ëŠ” í‘œí˜„ì´ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì¸ë°, ì—¬ê¸°ì—ì„œì˜ â€˜ë‹¨ìœ„â€™ëŠ” ìƒëª… ì£¼ê¸°ì™€ ìƒì„± ë‹¨ìœ„ë¥¼ ì˜ë¯¸í•œë‹¤.</p><p>JVM ë‹¨ìœ„ì— ì†í•˜ëŠ” <strong>í™ê³¼ ë©”ì„œë“œ ì˜ì—­ì€ JVMì´ ì‹œì‘ë  ë•Œ ìƒì„±ë˜ê³ , JVMì´ ì¢…ë£Œë  ë•Œ ì†Œë©¸ë˜ë©°, JVM í•˜ë‚˜ì— í™ í•˜ë‚˜, ë©”ì„œë“œ ì˜ì—­ë„ í•˜ë‚˜ê°€ ìƒì„±</strong> ëœë‹¤.</p><p>ë§ˆì°¬ê°€ì§€ë¡œ í´ë˜ìŠ¤ ë‹¨ìœ„ì— ì†í•˜ëŠ” <strong>ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì€ í´ë˜ìŠ¤ê°€ ìƒì„±/ì†Œë©¸ë  ë•Œ í•¨ê»˜ ìƒì„±/ì†Œë©¸ë˜ë©°, í´ë˜ìŠ¤ í•˜ë‚˜ì— ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ë„ í•˜ë‚˜ê°€ ìƒì„±</strong> ëœë‹¤.</p><p>ìŠ¤ë ˆë“œ ë‹¨ìœ„ì— ì†í•˜ëŠ” <strong>PC ë ˆì§€ìŠ¤í„°, JVM ìŠ¤íƒ, ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒë„ ìŠ¤ë ˆë“œê°€ ìƒì„±/ì†Œë©¸ë  ë•Œ í•¨ê»˜ ìƒì„±/ì†Œë©¸ë˜ë©°, ìŠ¤ë ˆë“œ í•˜ë‚˜ì— PC ë ˆì§€ìŠ¤í„°, JVM ìŠ¤íƒ, ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒë„ ê° í•˜ë‚˜ì”© ìƒì„±</strong> ëœë‹¤.</p><p>ì. ì´ì œ 6ê°€ì§€ ì˜ì—­ì„ ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³´ì.</p><p>ë¼ê³  ì§„í–‰í•˜ë©´ ë„ˆë¬´ ë»”í•œ ë‚˜ì—´ì‹ì´ë¼ ë¨¸ë¦¬ì— ì˜ ì•ˆ ë‚¨ëŠ”ë‹¤. ê·¸ëŸ¬ë‹ˆ ë‹¤ìŒê³¼ ê°™ì´ ê°„ë‹¨í•œ ì˜ˆì œ ì½”ë“œ ì‹¤í–‰ ê³¼ì •ê³¼ í•¨ê»˜ ì‚´í´ë³´ì.</p><h2 id="ì˜ˆì œ-ì½”ë“œ"><a href="#ì˜ˆì œ-ì½”ë“œ" class="headerlink" title="ì˜ˆì œ ì½”ë“œ"></a>ì˜ˆì œ ì½”ë“œ</h2><h3 id="ìë°”-ì†ŒìŠ¤-ì½”ë“œ"><a href="#ìë°”-ì†ŒìŠ¤-ì½”ë“œ" class="headerlink" title="ìë°” ì†ŒìŠ¤ ì½”ë“œ"></a>ìë°” ì†ŒìŠ¤ ì½”ë“œ</h3><p>í—¬ë¡œ ì›”ë“œ ìˆ˜ì¤€ì˜ ë‹¨ìˆœí•œ ì†ŒìŠ¤ ì½”ë“œë‹¤. í™ì—ì„œ ê°ì²´ê°€ ìƒì„±ë˜ëŠ” ê²ƒì„ í™•ì¸í•˜ê¸° ìœ„í•´ Hello ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³  ë¬´í•œë£¨í”„ë¡œ í”„ë¡œê·¸ë¨ì˜ ì¢…ë£Œë¥¼ ì¼ë¶€ëŸ¬ ë§‰ì•„ë‘” ì½”ë“œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> homo.efficio.jvm.sample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Hello hello = <span class="keyword">new</span> Hello();</span><br><span class="line">        System.out.println(hello.helloMessage());</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">helloMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello, JVM"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ì»´íŒŒì¼ëœ-ë°”ì´íŠ¸ì½”ë“œ"><a href="#ì»´íŒŒì¼ëœ-ë°”ì´íŠ¸ì½”ë“œ" class="headerlink" title="ì»´íŒŒì¼ëœ ë°”ì´íŠ¸ì½”ë“œ"></a>ì»´íŒŒì¼ëœ ë°”ì´íŠ¸ì½”ë“œ</h3><p>ì»´íŒŒì¼ëœ ë°”ì´íŠ¸ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><blockquote><p>javap -v -p -s homo/efficio/jvm/sample/Hello.class</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">$ /c/Program\ Files/Java/jdk-<span class="number">11.0</span>.2/bin/javap -v -p -s homo/efficio/jvm/sample/Hello</span><br><span class="line">Classfile /C:/gitrepo/scratchpad/java-jvm-scratchpad/out/production/java-jvm-scratchpad/homo/efficio/jvm/sample/Hello.class</span><br><span class="line">  Last modified <span class="number">2019</span>. <span class="number">1</span>. <span class="number">30</span>.; size <span class="number">741</span> bytes</span><br><span class="line">  MD5 checksum <span class="number">675e63</span>b96993dc5e661d6566467d92d3</span><br><span class="line">  Compiled from <span class="string">"Hello.java"</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">homo</span>.<span class="title">efficio</span>.<span class="title">jvm</span>.<span class="title">sample</span>.<span class="title">Hello</span></span></span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: <span class="number">55</span></span><br><span class="line">  flags: (<span class="number">0x0021</span>) ACC_PUBLIC, ACC_SUPER</span><br><span class="line">  this_class: #2                          // homo/efficio/jvm/sample/Hello</span><br><span class="line">  super_class: #8                         // java/lang/Object</span><br><span class="line">  interfaces: <span class="number">0</span>, fields: <span class="number">0</span>, methods: <span class="number">3</span>, attributes: <span class="number">1</span></span><br><span class="line">Constant pool:</span><br><span class="line">   #1 = Methodref          #8.#26         // java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">   #2 = Class              #27            // homo/efficio/jvm/sample/Hello</span><br><span class="line">   #3 = Methodref          #2.#26         // homo/efficio/jvm/sample/Hello."&lt;init&gt;":()V</span><br><span class="line">   #4 = Fieldref           #28.#29        // java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">   #5 = Methodref          #2.#30         // homo/efficio/jvm/sample/Hello.helloMessage:()Ljava/lang/String;</span><br><span class="line">   #6 = Methodref          #31.#32        // java/io/PrintStream.println:(Ljava/lang/String;)V</span><br><span class="line">   #7 = String             #33            // Hello, JVM</span><br><span class="line">   #8 = Class              #34            // java/lang/Object</span><br><span class="line">   #9 = Utf8               &lt;init&gt;</span><br><span class="line">  #10 = Utf8               ()V</span><br><span class="line">  #11 = Utf8               Code</span><br><span class="line">  #12 = Utf8               LineNumberTable</span><br><span class="line">  #13 = Utf8               LocalVariableTable</span><br><span class="line">  #14 = Utf8               this</span><br><span class="line">  #15 = Utf8               Lhomo/efficio/jvm/sample/Hello;</span><br><span class="line">  #16 = Utf8               main</span><br><span class="line">  #17 = Utf8               ([Ljava/lang/String;)V</span><br><span class="line">  #18 = Utf8               args</span><br><span class="line">  #19 = Utf8               [Ljava/lang/String;</span><br><span class="line">  #20 = Utf8               hello</span><br><span class="line">  #21 = Utf8               StackMapTable</span><br><span class="line">  #22 = Utf8               helloMessage</span><br><span class="line">  #23 = Utf8               ()Ljava/lang/String;</span><br><span class="line">  #24 = Utf8               SourceFile</span><br><span class="line">  #25 = Utf8               Hello.java</span><br><span class="line">  #26 = NameAndType        #9:#10         // "&lt;init&gt;":()V</span><br><span class="line">  #27 = Utf8               homo/efficio/jvm/sample/Hello</span><br><span class="line">  #28 = Class              #35            // java/lang/System</span><br><span class="line">  #29 = NameAndType        #36:#37        // out:Ljava/io/PrintStream;</span><br><span class="line">  #30 = NameAndType        #22:#23        // helloMessage:()Ljava/lang/String;</span><br><span class="line">  #31 = Class              #38            // java/io/PrintStream</span><br><span class="line">  #32 = NameAndType        #39:#40        // println:(Ljava/lang/String;)V</span><br><span class="line">  #33 = Utf8               Hello, JVM</span><br><span class="line">  #34 = Utf8               java/lang/Object</span><br><span class="line">  #35 = Utf8               java/lang/System</span><br><span class="line">  #36 = Utf8               out</span><br><span class="line">  #37 = Utf8               Ljava/io/PrintStream;</span><br><span class="line">  #38 = Utf8               java/io/PrintStream</span><br><span class="line">  #39 = Utf8               println</span><br><span class="line">  #40 = Utf8               (Ljava/lang/String;)V</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span> homo.efficio.jvm.sample.Hello();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: (<span class="number">0x0001</span>) ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=<span class="number">1</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">         <span class="number">0</span>: aload_0</span><br><span class="line">         1: invokespecial #1                  // Method java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">         <span class="number">4</span>: <span class="keyword">return</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line <span class="number">3</span>: <span class="number">0</span></span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            <span class="number">0</span>       <span class="number">5</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lhomo/efficio/jvm/sample/Hello;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(java.lang.String[])</span></span>;</span><br><span class="line">    descriptor: ([Ljava/lang/String;)V</span><br><span class="line">    flags: (<span class="number">0x0009</span>) ACC_PUBLIC, ACC_STATIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=<span class="number">2</span>, locals=<span class="number">2</span>, args_size=<span class="number">1</span></span><br><span class="line">         0: new           #2                  // class homo/efficio/jvm/sample/Hello</span><br><span class="line">         <span class="number">3</span>: dup</span><br><span class="line">         4: invokespecial #3                  // Method "&lt;init&gt;":()V</span><br><span class="line">         <span class="number">7</span>: astore_1</span><br><span class="line">         8: getstatic     #4                  // Field java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">        <span class="number">11</span>: aload_1</span><br><span class="line">        12: invokevirtual #5                  // Method helloMessage:()Ljava/lang/String;</span><br><span class="line">        15: invokevirtual #6                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V</span><br><span class="line">        <span class="number">18</span>: goto          <span class="number">18</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line <span class="number">6</span>: <span class="number">0</span></span><br><span class="line">        line <span class="number">7</span>: <span class="number">8</span></span><br><span class="line">        line <span class="number">8</span>: <span class="number">18</span></span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            <span class="number">0</span>      <span class="number">21</span>     <span class="number">0</span>  args   [Ljava/lang/String;</span><br><span class="line">            <span class="number">8</span>      <span class="number">13</span>     <span class="number">1</span> hello   Lhomo/efficio/jvm/sample/Hello;</span><br><span class="line">      StackMapTable: number_of_entries = <span class="number">1</span></span><br><span class="line">        frame_type = <span class="number">252</span> <span class="comment">/* append */</span></span><br><span class="line">          offset_delta = <span class="number">18</span></span><br><span class="line">          locals = [ class homo/efficio/jvm/sample/Hello ]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> java.lang.<span class="function">String <span class="title">helloMessage</span><span class="params">()</span></span>;</span><br><span class="line">    descriptor: ()Ljava/lang/String;</span><br><span class="line">    flags: (<span class="number">0x0001</span>) ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=<span class="number">1</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">         0: ldc           #7                  // String Hello, JVM</span><br><span class="line">         <span class="number">2</span>: areturn</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line <span class="number">12</span>: <span class="number">0</span></span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            <span class="number">0</span>       <span class="number">3</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lhomo/efficio/jvm/sample/Hello;</span><br><span class="line">&#125;</span><br><span class="line">SourceFile: <span class="string">"Hello.java"</span></span><br></pre></td></tr></table></figure><p>ì•ì—ì„œ JDK, JRE, JVM ê´€ê³„ë¡œ ì„¤ëª…í–ˆì§€ë§Œ ìœ„ì™€ ê°™ì€ ë°”ì´íŠ¸ì½”ë“œë¥¼ ë§Œë“œëŠ” ê³¼ì •ê¹Œì§€ëŠ” JDKì—ì„œ ë‹´ë‹¹í•œë‹¤.</p><p>ì•ì—ì„œ ìë°” í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì „ê°œëœë‹¤ê³  ì„¤ëª…í–ˆë‹¤. </p><blockquote><p><strong>JVMì´ ì‹¤í–‰</strong>ë˜ê³ , JVMì´ í´ë˜ìŠ¤ë¡œë”ë¥¼ ì´ìš©í•´ì„œ <strong>ì‹œì‘ í´ë˜ìŠ¤ë¥¼ ìƒì„±</strong>í•˜ê³ , <strong>ë§í¬</strong>í•˜ê³ , <strong>ì´ˆê¸°í™”</strong>í•˜ê³ , <strong>main ë©”ì„œë“œë¥¼ í˜¸ì¶œ</strong>í•œë‹¤.</p></blockquote><p>ì´ì œ <code>java homo.efficio.jvm.sample.Hello</code> ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì–´ë–»ê²Œ ì§„í–‰ë˜ëŠ”ì§€ ì°¨ê·¼ì°¨ê·¼ ì‚´í´ë³´ì.</p><h2 id="JVM-ì‹¤í–‰"><a href="#JVM-ì‹¤í–‰" class="headerlink" title="JVM ì‹¤í–‰"></a>JVM ì‹¤í–‰</h2><p><code>java</code> ëª…ë ¹ì´ ì‹¤í–‰ë˜ë©´ JREê°€ ì¡°ì„±ë˜ë©´ì„œ JVMì´ ì‹¤í–‰ëœë‹¤. JVMì´ ì‹¤í–‰ë˜ë©´ JVM ë‹¨ìœ„ë¡œ ìƒì„±ë˜ëŠ” í™ê³¼ ë©”ì„œë“œ ì˜ì—­ì´ í•¨ê»˜ ìƒì„±ëœë‹¤.</p><h3 id="í™"><a href="#í™" class="headerlink" title="í™"></a>í™</h3><p><strong><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.5.3" target="_blank" rel="noopener">í™(Heap)</a>ì€ ì¸ìŠ¤í„´ìŠ¤í™” ëœ ëª¨ë“  í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì™€ ë°°ì—´ì„ ì €ì¥í•˜ëŠ” ê³µê°„</strong>ì´ë©°, <strong>ëª¨ë“  JVM ìŠ¤ë ˆë“œì— ê³µìœ </strong>ëœë‹¤.</p><p>í™ì— ì €ì¥ëœ ê°ì²´ì— í• ë‹¹ëœ ë©”ëª¨ë¦¬ëŠ” ëª…ì‹œì ì¸ ë°©ë²•ìœ¼ë¡œëŠ” ì ˆëŒ€ íšŒìˆ˜ë˜ì§€ ëª»í•˜ë©°, ì˜¤ì§ ê°€ë¹„ì§€ ì»¬ë ‰í„°(garbage collector)ì— ì˜í•´ì„œë§Œ íšŒìˆ˜ë  ìˆ˜ ìˆë‹¤.</p><p>HelloëŠ” ì´ ì‹œì ì—ì„œëŠ” ì•„ì§ ì¸ìŠ¤í„´ìŠ¤í™” ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ í™ì€ ë¹„ì–´ìˆë‹¤.</p><h3 id="ë©”ì„œë“œ-ì˜ì—­"><a href="#ë©”ì„œë“œ-ì˜ì—­" class="headerlink" title="ë©”ì„œë“œ ì˜ì—­"></a>ë©”ì„œë“œ ì˜ì—­</h3><p><strong><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.5.4" target="_blank" rel="noopener">ë©”ì„œë“œ ì˜ì—­(Method Area)</a>ì€ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€, í•„ë“œì™€ ë©”ì„œë“œ ë°ì´í„°, ìƒì„±ì ë° ë©”ì„œë“œì˜ ì½”ë“œ ë‚´ìš©ì„ ì €ì¥</strong>í•œë‹¤. ì €ì¥ë˜ëŠ” ë‚´ìš©ì€ ìœ„ì—ì„œ ì‚´í´ë´¤ë˜ ë°”ì´íŠ¸ì½”ë“œì˜ ë‚´ìš©ê³¼ ê±°ì˜ ì¼ì¹˜í•œë‹¤. ê±°ì˜ë¼ê³  ì–˜ê¸°í•˜ëŠ” ì´ìœ ëŠ” ë°”ì´íŠ¸ì½”ë“œì—ëŠ” ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì´ ì•„ë‹ˆë¼ ê·¸ëƒ¥ ìƒìˆ˜ í’€(constanta pool)ì´ í¬í•¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì€ ì´ ìƒìˆ˜ í’€ì„ ë°”íƒ•ìœ¼ë¡œ ëŸ°íƒ€ì„ì—, ë” êµ¬ì²´ì ìœ¼ë¡œëŠ” ë©”ì„œë“œ ì˜ì—­ì— ì €ì¥ë  ë•Œ ë§Œë“¤ì–´ì§„ë‹¤.</p><p>ê·¸ë˜ì„œ ì—„ë°€íˆ ë§í•˜ë©´ ì •í™•í•˜ì§€ ì•Šì§€ë§Œ, <strong>ë°”ì´íŠ¸ì½”ë“œ ë‚´ìš©ì´ ë©”ì„œë“œ ì˜ì—­ì— ì €ì¥ëœë‹¤</strong>ë¼ê³  ì´í•´í•´ë„ í¬ê²Œ í‹€ë¦¬ì§€ëŠ” ì•Šë‹¤.</p><p>HelloëŠ” ì´ ì‹œì ì—ì„œëŠ” ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ë©”ì„œë“œ ì˜ì—­ë„ ë¹„ì–´ìˆë‹¤.</p><p><img src="https://i.imgur.com/KXJsPgs.png" alt="Imgur"></p><p>JVM ìŠ¤í™ì€ ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­ì„ 6ê°€ì§€ë¡œ ë‚˜ëˆ ì„œ ì„¤ëª…í•˜ê³  ìˆê³ , ê·¸ì—ë”°ë¼ ê·¸ë¦¼ì—ë„ í™ê³¼ ë©”ì„œë“œ ì˜ì—­ì„ ë¶„ë¦¬í•´ì„œ í‘œí˜„í–ˆì§€ë§Œ, ìŠ¤í™ì—ëŠ” ë©”ì„œë“œ ì˜ì—­ì´ ë…¼ë¦¬ì ìœ¼ë¡œ í™ì˜ ì¼ë¶€ì§€ë§Œ(ê·¸ë˜ì„œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ëŒ€ìƒì´ ë˜ì§€ë§Œ), ë‹¨ìˆœí•˜ê²ŒëŠ” ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì´ë‚˜ ì••ì¶•ì„ í•˜ì§€ ì•Šê²Œ êµ¬í˜„í•  ìˆ˜ë„ ìˆìœ¼ë©°, ìŠ¤í™ì€ ë©”ì„œë“œì˜ ì˜ì—­ì˜ ìœ„ì¹˜ì— ëŒ€í•´ ê°•ì œí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë‚˜ì™€ ìˆê¸°ë„ í•˜ë‹¤. ê²°êµ­ ë©”ì„œë“œ ì˜ì—­ì˜ ìœ„ì¹˜ëŠ” JVM êµ¬í˜„ì²´ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ë§ì´ë‹¤.</p><p>ì°¸ê³ ë¡œ Java 8 ë¶€í„° Metaspaceê°€ ê¸°ì¡´ì˜ PermGen ì˜ì—­ì„ ëŒ€ì²´í•œë‹¤ëŠ” ìë£Œë“¤ì´ ë§ì´ ìˆëŠ”ë°, JVM ìŠ¤í™ì—ëŠ” Megaspaceë¼ëŠ” ìš©ì–´ëŠ” ì „í˜€ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤. MetaspaceëŠ” JVM êµ¬í˜„ì²´ì¸ HotSpot JVMì—ì„œ ë‚˜ì˜¤ëŠ” ìš©ì–´ì´ë©°, Metaspaceì— ì €ì¥ë˜ëŠ” ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë³´ë©´ HotSpot JVMì€ JVM ìŠ¤í™ì˜ ë©”ì„œë“œ ì˜ì—­ì„ Metaspaceë¡œ êµ¬í˜„í•œ ê±°ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p><h2 id="ì‹œì‘-í´ë˜ìŠ¤-ìƒì„±"><a href="#ì‹œì‘-í´ë˜ìŠ¤-ìƒì„±" class="headerlink" title="ì‹œì‘ í´ë˜ìŠ¤ ìƒì„±"></a>ì‹œì‘ í´ë˜ìŠ¤ ìƒì„±</h2><p>ì‹œì‘ í´ë˜ìŠ¤ëŠ” Helloë¥¼ ì§€ì¹­í•˜ë©° ì‹œì‘ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì€ íŒŒì¼ì‹œìŠ¤í…œì— ìˆëŠ” Hello.class íŒŒì¼ì„ JVMì˜ ë©”ì„œë“œ ì˜ì—­ìœ¼ë¡œ ì½ì–´ë“¤ì´ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤ê³  í–ˆë‹¤. ë”°ë¼ì„œ <strong>ì´ ì‹œì ì—ì„œ Helloì˜ ë°”ì´íŠ¸ì½”ë“œ ë‚´ìš©ì´ ë©”ì„œë“œ ì˜ì—­ì— ì €ì¥</strong>ëœë‹¤.</p><p><img src="https://i.imgur.com/QBQyTab.png" alt="Imgur"></p><p>ê·¸ëŸ°ë° Hello í´ë˜ìŠ¤ëŠ” ëˆ„ê°€ ë¡œë”©í•˜ëŠ” ê±¸ê¹Œ? ë‹¹ì—°í•˜ì§€ë§Œ í´ë˜ìŠ¤ë¡œë”ê°€ ë¡œë”©í•œë‹¤. ê·¸ëŸ¼ í´ë˜ìŠ¤ë¡œë”ëŠ” ëˆ„ê°€ ë¡œë”©í• ê¹Œ?</p><h3 id="í´ë˜ìŠ¤ë¡œë”"><a href="#í´ë˜ìŠ¤ë¡œë”" class="headerlink" title="í´ë˜ìŠ¤ë¡œë”"></a>í´ë˜ìŠ¤ë¡œë”</h3><p>ìë°” ëŸ°íƒ€ì„ì€ ë„¤ì´í‹°ë¸Œ ì½”ë“œë¡œ ì‘ì„±ëœ ë¶€íŠ¸ìŠ¤íŠ¸ë© í´ë˜ìŠ¤ë¡œë”, í”Œë«í¼ í´ë˜ìŠ¤ë¡œë”, ì‹œìŠ¤í…œ í´ë˜ìŠ¤ë¡œë”, ì´ë ‡ê²Œ <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ClassLoader.html" target="_blank" rel="noopener">3ê°€ì§€ ë¹ŒíŠ¸ì¸(built-in) í´ë˜ìŠ¤ë¡œë”ë¥¼ ì œê³µ</a>í•œë‹¤.</p><p>ê²°ë¡ ì ìœ¼ë¡œ <strong>Hello í´ë˜ìŠ¤ëŠ” ì‹œìŠ¤í…œ í´ë˜ìŠ¤ë¡œë”ê°€ ë¡œë”©</strong>í•˜ëŠ”ë°, <strong>ì‹œìŠ¤í…œ í´ë˜ìŠ¤ë¡œë”ëŠ” í”Œë«í¼ í´ë˜ìŠ¤ë¡œë”ê°€ ë¡œë”©í•˜ê³ , í”Œë«í¼ í´ë˜ìŠ¤ë¡œë”ëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë© í´ë˜ìŠ¤ë¡œë”ê°€ ë¡œë”©í•˜ê³ , ë¶€íŠ¸ìŠ¤íŠ¸ë© í´ë˜ìŠ¤ë¡œë”ëŠ” <code>java</code> ëª…ë ¹ì— ì˜í•´ JREê°€ ì¡°ì„±ë  ë•Œ ì‹¤í–‰</strong>ëœë‹¤.</p><p>í´ë˜ìŠ¤ë¡œë”©ì€ <a href="https://homoefficio.github.io/2018/10/13/Java-í´ë˜ìŠ¤ë¡œë”-í›‘ì–´ë³´ê¸°/">Java í´ë˜ìŠ¤ë¡œë” í›‘ì–´ë³´ê¸°</a>ì™€ <a href="ttps://homoefficio.github.io/2018/10/14/Java-URLClassLoaderë¡œ-ì•Œì•„ë³´ëŠ”-í´ë˜ìŠ¤ë¡œë”©/">Java URLClassLoaderë¡œ ì•Œì•„ë³´ëŠ” í´ë˜ìŠ¤ë¡œë”©</a>ì„ ì°¸ê³ í•˜ì.</p><h3 id="ëŸ°íƒ€ì„-ìƒìˆ˜-í’€"><a href="#ëŸ°íƒ€ì„-ìƒìˆ˜-í’€" class="headerlink" title="ëŸ°íƒ€ì„ ìƒìˆ˜ í’€"></a>ëŸ°íƒ€ì„ ìƒìˆ˜ í’€</h3><p>í´ë˜ìŠ¤ê°€ ìƒì„±ë˜ë©´ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.5.5" target="_blank" rel="noopener">ëŸ°íƒ€ì„ ìƒìˆ˜ í’€(Run-Time Constant Pool)</a>ë„ í•¨ê»˜ ìƒì„±ëœë‹¤ê³  í–ˆë‹¤. <strong>ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì—ëŠ” ì»´íŒŒì¼ íƒ€ì„ì— ì´ë¯¸ ì•Œ ìˆ˜ ìˆëŠ” ìˆ«ì ë¦¬í„°ëŸ´ ê°’ë¶€í„° ëŸ°íƒ€ì„ì— í•´ì„ë˜ëŠ” ë©”ì„œë“œì™€ í•„ë“œì˜ ì°¸ì¡°ê¹Œì§€ë¥¼ í¬ê´„í•˜ëŠ” ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ìƒìˆ˜ê°€ í¬í•¨</strong>ëœë‹¤. ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì€ ë‹¤ë¥¸ ì „í†µì ì¸ ì–¸ì–´ì—ì„œ ë§í•˜ëŠ” ì‹¬ë³¼ í…Œì´ë¸”ê³¼ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ í•œë‹¤ê³  ë³´ë©´ ëœë‹¤.</p><p><img src="https://i.imgur.com/ZtsNYAv.png" alt="Imgur"></p><h2 id="ë§í¬"><a href="#ë§í¬" class="headerlink" title="ë§í¬"></a>ë§í¬</h2><p><strong><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4" target="_blank" rel="noopener">ë§í¬</a>ëŠ” í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ ë°”ë¡œ ìœ„ ìˆ˜í¼í´ë˜ìŠ¤ë‚˜ ìˆ˜í¼ì¸í„°í˜ì´ìŠ¤, ë˜ëŠ” ë°°ì—´ì¼ ê²½ìš° ë°°ì—´ì˜ ì›ì†Œì¸ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¸(verify)/ì¤€ë¹„(prepare)í•˜ê³ , ì‹¬ë³¼ë¦­ ì°¸ì¡°ë¥¼ í•´ì„(resolve)í•˜ëŠ” ê³¼ì •</strong>ì„ ë§í•œë‹¤.</p><p>ê·¸ëŸ¼ í™•ì¸, ì¤€ë¹„, í•´ì„ì€ ë­˜ ì˜ë¯¸í•˜ëŠ” ê±¸ê¹Œ?</p><h3 id="í™•ì¸"><a href="#í™•ì¸" class="headerlink" title="í™•ì¸"></a>í™•ì¸</h3><p><strong><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4.1" target="_blank" rel="noopener">í™•ì¸(verification)</a>ì€ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ ë°”ì´ë„ˆë¦¬ í‘œí˜„ì´ êµ¬ì¡°ì ìœ¼ë¡œ ì˜¬ë°”ë¥¸ì§€ë¥¼ ë³´ì¥í•´ì£¼ëŠ” ê³¼ì •</strong>ì´ë‹¤. í™•ì¸ ê³¼ì •ì€ ë‹¤ë¥¸ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ ë¡œë”©ì„ ìœ ë°œí•  ìˆ˜ë„ ìˆì§€ë§Œ, ë¡œë”©ëœ ë‹¤ë¥¸ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ í™•ì¸ì´ë‚˜ ì¤€ë¹„ë¥¼ í•„ìˆ˜ì ìœ¼ë¡œ ìœ ë°œí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.</p><p>Hello.class íŒŒì¼ì€ JDKì— í¬í•¨ëœ ê³µì‹ ì»´íŒŒì¼ëŸ¬ì¸ <code>javac</code>ì— ì˜í•´ ì •ìƒì ìœ¼ë¡œ ì»´íŒŒì¼ë˜ì—ˆìœ¼ë¯€ë¡œ êµ¬ì¡°ì ìœ¼ë¡œ ì˜¬ë°”ë¥´ë‹¤ê³  ê°€ì •í•˜ë©´, <strong>í™•ì¸ ê³¼ì •ì—ì„œ Helloì˜ ë¶€ëª¨ í´ë˜ìŠ¤ì¸ Objectê°€ ë¡œë”©</strong>ëœë‹¤.</p><p><img src="https://i.imgur.com/8f6zqKP.png" alt="Imgur"></p><h3 id="ì¤€ë¹„"><a href="#ì¤€ë¹„" class="headerlink" title="ì¤€ë¹„"></a>ì¤€ë¹„</h3><p><strong><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4.2" target="_blank" rel="noopener">ì¤€ë¹„(preperation)</a>ëŠ” í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ ì •ì (static) í•„ë“œë¥¼ ìƒì„±í•˜ê³  ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ëŠ” ê³¼ì •</strong>ì´ë‹¤. ì¤€ë¹„ ê³¼ì •ì—ì„œëŠ” JVM ì½”ë“œì˜ ì‹¤í–‰ì„ í•„ìš”ë¡œ í•˜ì§€ ì•Šìœ¼ë©°, <strong>ê¸°ë³¸ê°’ì´ ì•„ë‹Œ íŠ¹ì •ê°’ìœ¼ë¡œ ì •ì  í•„ë“œë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê³¼ì •ì€ ì¤€ë¹„ ê³¼ì •ì´ ì•„ë‹ˆë¼ ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ìˆ˜í–‰</strong>ëœë‹¤.</p><p>ìŠ¤í™ì— ì •ì˜ëœ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.3" target="_blank" rel="noopener">ê¸°ë³¸í˜• íƒ€ì…ì˜ ê¸°ë³¸ê°’</a>ê³¼ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.4" target="_blank" rel="noopener">ì°¸ì¡°í˜• íƒ€ì…ì˜ ê¸°ë³¸ê°’</a>ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th>íƒ€ì…</th><th>ê¸°ë³¸ê°’</th></tr></thead><tbody><tr><td>byte, short, int, long</td><td>0</td></tr><tr><td>char</td><td>null(<code>&#39;\u0000&#39;</code>)</td></tr><tr><td>float, double</td><td>0(positive zero)</td></tr><tr><td>boolean</td><td>false</td></tr><tr><td>ì°¸ì¡°í˜•</td><td>null</td></tr></tbody></table><p>Helloì—ëŠ” ì •ì  í•„ë“œê°€ ì—†ìœ¼ë¯€ë¡œ ì´ ê³¼ì •ì—ì„œ íŠ¹ë³„íˆ ìˆ˜í–‰ë˜ëŠ” ê²ƒì€ ì—†ë‹¤.</p><h3 id="í•´ì„"><a href="#í•´ì„" class="headerlink" title="í•´ì„"></a>í•´ì„</h3><p><strong><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4.3" target="_blank" rel="noopener">í•´ì„(resolution)</a>ì€ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ìˆëŠ” ì‹¬ë³¼ë¦­ ì°¸ì¡°ê°€ êµ¬ì²´ì ì¸ ê°’ì„ ê°€ë¦¬í‚¤ë„ë¡ ë™ì ìœ¼ë¡œ ê²°ì •í•˜ëŠ” ê³¼ì •</strong>ì´ë‹¤. ì´ˆê¸° ìƒíƒœì˜ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ìˆëŠ” ì‹¬ë³¼ë¦­ ì°¸ì¡°ëŠ” í•´ì„ë˜ì–´ì ¸ ìˆì§€ ì•Šë‹¤.</p><h3 id="ë§í¬ì˜-ì¡°ê±´"><a href="#ë§í¬ì˜-ì¡°ê±´" class="headerlink" title="ë§í¬ì˜ ì¡°ê±´"></a>ë§í¬ì˜ ì¡°ê±´</h3><p>JVM ìŠ¤í™ì—ì„œëŠ” <strong>ë§í¬ê°€ ì–¸ì œ ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ëŠ”ì§€ëŠ” ê·œì •í•˜ì§€ ì•Šê³  ìœ ì—°í•˜ê²Œ êµ¬í˜„ë  ìˆ˜ ìˆëŠ” ì—¬ì§€</strong>ë¥¼ ì£¼ê³  ìˆë‹¤. ë‹¨ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.</p><ul><li>í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ë§í¬ë˜ê¸° ì „ì— ë¨¼ì € ì™„ì „íˆ ë¡œë”©ë˜ì–´ì•¼ í•œë‹¤.</li><li>í´ë˜ìŠ¤ë‚˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì´ˆê¸°í™”ë˜ê¸° ì „ì— ë¨¼ì € ì™„ì „íˆ í™•ì¸ë˜ê³  ì¤€ë¹„ë˜ì–´ì•¼ í•œë‹¤.</li><li>ë§í¬ ê´€ë ¨ ì—ëŸ¬ëŠ” í•´ë‹¹ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ë§í¬ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” í–‰ìœ„ê°€ ìˆ˜í–‰ë˜ëŠ” ì‹œì ì— throw ë˜ì–´ì•¼ í•œë‹¤.</li><li>ë™ì ìœ¼ë¡œ ê³„ì‚°ë˜ëŠ”(dynamically-computed) ìƒìˆ˜ Aì— ëŒ€í•œ ì‹¬ë³¼ë¦­ ì°¸ì¡°ëŠ”, Aë¥¼ ì°¸ì¡°í•˜ëŠ” <code>ldc</code>, <code>ldc_w</code>, <code>ldc2_w</code> ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ê±°ë‚˜ Aë¥¼ ì •ì  ì¸ìë¡œ ì°¸ì¡°í•˜ëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë© ë©”ì„œë“œê°€ í˜¸ì¶œë˜ê¸° ì „ê¹Œì§€ëŠ” í•´ì„ë˜ì§€ ì•ŠëŠ”ë‹¤.</li><li>ë™ì ìœ¼ë¡œ ê³„ì‚°ë˜ëŠ”(dynamically-computed) call site Bì— ëŒ€í•œ ì‹¬ë³¼ë¦­ ì°¸ì¡°ëŠ”, Bë¥¼ ì •ì  ì¸ìë¡œ ì°¸ì¡°í•˜ëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë© ë©”ì„œë“œê°€ í˜¸ì¶œë˜ê¸° ì „ê¹Œì§€ëŠ” í•´ì„ë˜ì§€ ì•ŠëŠ”ë‹¤.</li></ul><p>ì¼ë°˜ì ìœ¼ë¡œ ë§Œì¡±ë˜ì–´ì•¼ í•˜ëŠ” ê²ƒì€ 1, 2, 3ë²ˆì§¸ ì¡°ê±´ì´ê³  4, 5ë²ˆì§¸ëŠ” íŠ¹ìˆ˜í•œ ê²½ìš°ì— ëŒ€í•œ ì¡°ê±´ì´ë‹¤.</p><p>í•´ì„ ì‹œì ì€ JVM êµ¬í˜„ì²´ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤. <strong>ì§€ì—°(lazy) ë§í¬ ì „ëµì„ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì— í¬í•¨ëœ ì‹¬ë³¼ë¦­ ì°¸ì¡°ëŠ” í•´ë‹¹ ì°¸ì¡°ê°€ ì‹¤ì œ ì‚¬ìš©ë  ë•Œ ê°œë³„ì ìœ¼ë¡œ í•´ì„</strong>ëœë‹¤. ë°˜ë©´ì— <strong>ì¦‰ì‹œ(eager) ë§í¬ ì „ëµì„ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ê°€ í™•ì¸ë  ë•Œ ëª¨ë“  ì‹¬ë³¼ë¦­ ì°¸ì¡°ê°€ í•œêº¼ë²ˆì— í•´ì„</strong>ëœë‹¤. ì§€ì—° ë§í¬ë¥¼ ì‚¬ìš©í•˜ë©´ í•´ì„ ê³¼ì •ì€ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ê°€ ì´ˆê¸°í™” ëœ í›„ì— ì‹¤í–‰ë  ìˆ˜ë„ ìˆë‹¤.</p><p>ë§í¬ ê³¼ì •ì„ ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><blockquote><p>ë§í¬ëŠ” <strong>í™•ì¸, ì¤€ë¹„, í•´ì„ ë‹¨ê³„ë¡œ êµ¬ì„±ëœë‹¤.</strong></p><p><strong>í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ì™„ì „íˆ ë¡œë”©ëœ í›„ì— í™•ì¸ê³¼ ì¤€ë¹„ê°€ ìˆ˜í–‰ë¼ì•¼ í•˜ê³ , ì™„ì „íˆ í™•ì¸ë˜ê³  ì¤€ë¹„ëœ ë’¤ì— ì´ˆê¸°í™”ë˜ì–´ì•¼ í•œë‹¤.</strong></p><p><strong>í•´ì„ì€ ì´ˆê¸°í™” ì´í›„ì— ì‹¤í–‰ë  ìˆ˜ë„ ìˆë‹¤.</strong></p></blockquote><p>ìŠ¤í™ì„ ë³´ë©´ í•´ì„ì€ ë‹¤ì‹œ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4.3.1" target="_blank" rel="noopener">í´ë˜ìŠ¤/ì¸í„°í˜ì´ìŠ¤ í•´ì„</a>, <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4.3.2" target="_blank" rel="noopener">í•„ë“œ í•´ì„</a>, <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4.3.3" target="_blank" rel="noopener">ë©”ì„œë“œ í•´ì„</a>, <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4.3.4" target="_blank" rel="noopener">ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œ í•´ì„</a>, <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4.3.5" target="_blank" rel="noopener">ë©”ì„œë“œ íƒ€ì…/í•¸ë“¤ í•´ì„</a>, <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.4.3.6" target="_blank" rel="noopener">ë™ì  ê³„ì‚° ìƒìˆ˜/ì½œì‚¬ì´íŠ¸ í•´ì„</a>, ì´ë ‡ê²Œ 6ê°€ì§€ë¡œ ë‚˜ëˆ ì„œ ìì„¸í•œ ì„¤ëª…ì´ ë‚˜ì™€ ìˆìœ¼ë‹ˆ ê´€ì‹¬ìˆë‹¤ë©´ ì°¾ì•„ë³´ê¸°ë¡œ í•˜ê³  ë‹¤ì‹œ ì˜ˆì œë¡œ ëŒì•„ì™€ ë³´ì. </p><p>Helloì˜ ìƒìˆ˜ í’€ì€ ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤.</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">Constant pool:</span><br><span class="line">   #1 = Methodref          #8.#26         // java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">   #2 = Class              #27            // homo/efficio/jvm/sample/Hello</span><br><span class="line">   #3 = Methodref          #2.#26         // homo/efficio/jvm/sample/Hello."&lt;init&gt;":()V</span><br><span class="line">   #4 = Fieldref           #28.#29        // java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">   #5 = Methodref          #2.#30         // homo/efficio/jvm/sample/Hello.helloMessage:()Ljava/lang/String;</span><br><span class="line">   #6 = Methodref          #31.#32        // java/io/PrintStream.println:(Ljava/lang/String;)V</span><br><span class="line">   #7 = String             #33            // Hello, JVM</span><br><span class="line">   #8 = Class              #34            // java/lang/Object</span><br><span class="line">   #9 = Utf8               &lt;init&gt;</span><br><span class="line">  #10 = Utf8               ()V</span><br><span class="line">  #11 = Utf8               Code</span><br><span class="line">  #12 = Utf8               LineNumberTable</span><br><span class="line">  #13 = Utf8               LocalVariableTable</span><br><span class="line">  #14 = Utf8               this</span><br><span class="line">  #15 = Utf8               Lhomo/efficio/jvm/sample/Hello;</span><br><span class="line">  #16 = Utf8               main</span><br><span class="line">  #17 = Utf8               ([Ljava/lang/String;)V</span><br><span class="line">  #18 = Utf8               args</span><br><span class="line">  #19 = Utf8               [Ljava/lang/String;</span><br><span class="line">  #20 = Utf8               hello</span><br><span class="line">  #21 = Utf8               StackMapTable</span><br><span class="line">  #22 = Utf8               helloMessage</span><br><span class="line">  #23 = Utf8               ()Ljava/lang/String;</span><br><span class="line">  #24 = Utf8               SourceFile</span><br><span class="line">  #25 = Utf8               Hello.java</span><br><span class="line">  #26 = NameAndType        #9:#10         // "&lt;init&gt;":()V</span><br><span class="line">  #27 = Utf8               homo/efficio/jvm/sample/Hello</span><br><span class="line">  #28 = Class              #35            // java/lang/System</span><br><span class="line">  #29 = NameAndType        #36:#37        // out:Ljava/io/PrintStream;</span><br><span class="line">  #30 = NameAndType        #22:#23        // helloMessage:()Ljava/lang/String;</span><br><span class="line">  #31 = Class              #38            // java/io/PrintStream</span><br><span class="line">  #32 = NameAndType        #39:#40        // println:(Ljava/lang/String;)V</span><br><span class="line">  #33 = Utf8               Hello, JVM</span><br><span class="line">  #34 = Utf8               java/lang/Object</span><br><span class="line">  #35 = Utf8               java/lang/System</span><br><span class="line">  #36 = Utf8               out</span><br><span class="line">  #37 = Utf8               Ljava/io/PrintStream;</span><br><span class="line">  #38 = Utf8               java/io/PrintStream</span><br><span class="line">  #39 = Utf8               println</span><br><span class="line">  #40 = Utf8               (Ljava/lang/String;)V</span><br></pre></td></tr></table></figure><p>ì„¤ëª…ì˜ í¸ì˜ë¥¼ ìœ„í•´ ì¦‰ì‹œ ë§í¬ ë°©ì‹ìœ¼ë¡œ í•´ì„ì´ ì§„í–‰ëœë‹¤ê³  ê°€ì •í•˜ê³ , ìœ„ ìƒìˆ˜ í’€ì—ì„œ ìœ ë„ë˜ëŠ” ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ìˆëŠ” ì‹¬ë³¼ë¦­ ì°¸ì¡°ì˜ í•´ì„ ê³¼ì •ì„ ëª‡ ê°œë§Œ ì˜ˆë¡œ ì‚´í´ë³´ì.</p><p><code>#1 = Methodref          #8.#26         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V</code></p><p>Object í´ë˜ìŠ¤ê°€ í™•ì¸ ê³¼ì •ì—ì„œ ë©”ì„œë“œ ì˜ì—­ì— ë¡œë”©ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ë©”ì„œë“œ ì˜ì—­ì— ì €ì¥ëœ Object í´ë˜ìŠ¤ì˜ ë°”ì´íŠ¸ì½”ë“œ ë‚´ìš©ì—ì„œ ìƒì„±ì(<code>&lt;init&gt;</code>)ì˜ ìœ„ì¹˜ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆê³ , ê·¸ ìœ„ì¹˜ë¥¼ <code>Methodref java/lang/Object.&quot;&lt;init&gt;&quot;</code>ì˜ ê°’ìœ¼ë¡œ í•´ì„í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/MAiWMYz.png" alt="Imgur"></p><p><code>#2 = Class              #27            // homo/efficio/jvm/sample/Hello</code></p><p>Hello ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ í•„ìš”í•œ Hello í´ë˜ìŠ¤ ì •ë³´ëŠ” ì´ë¯¸ ë©”ì„œë“œ ì˜ì—­ì— ë¡œë”©ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ë©”ì„œë“œ ì˜ì—­ ë‚´ì—ì„œ Hello í´ë˜ìŠ¤ì˜ ìœ„ì¹˜ë¥¼ <code>Class homo/efficio/jvm/sample/Hello</code>ì˜ ê°’ìœ¼ë¡œ í•´ì„í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/y0qP8vW.png" alt="Imgur"></p><p><code>#3</code>ì€ Hello ìƒì„±ìë¥¼ ê°€ë¦¬í‚¤ëŠ” Methodref í•­ëª©ì¸ë°, Methodrefì˜ í•´ì„ ê³¼ì •ì€ ì•ì˜ <code>#1</code>ì—ì„œ ì´ë¯¸ ë‹¤ë¤˜ìœ¼ë¯€ë¡œ ì„¤ëª…ì€ ìƒëµí•˜ê³  ê·¸ë¦¼ë§Œ ë³´ì.</p><p><img src="https://i.imgur.com/XBMPitk.png" alt="Imgur"></p><p><code>#4 = Fieldref           #28.#29        // java/lang/System.out:Ljava/io/PrintStream;</code></p><p>System í´ë˜ìŠ¤ëŠ” ì•„ì§ ë¡œë”©ë˜ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ ë¨¼ì € ë¡œë”©í•˜ê³ , í™•ì¸ í›„ ì¤€ë¹„ ê³¼ì •ì„ ê±°ì¹˜ë©´ì„œ System í´ë˜ìŠ¤ì˜ ì •ì  í•„ë“œì¸ <code>out</code>ì˜ íƒ€ì…ì¸ PrintStream í´ë˜ìŠ¤ë„ ë¡œë”©ë˜ê³  ì°¸ì¡°í˜• ë³€ìˆ˜ì¸ <code>out</code>ì€ ê¸°ë³¸ê°’ì¸ null ë¡œ ì´ˆê¸°í™” ëœë‹¤.</p><p><img src="https://i.imgur.com/RJ3ZLvX.png" alt="Imgur"></p><p>ëŒ€ëµ ì´ëŸ° ì‹ìœ¼ë¡œ ë¡œë”©-ë§í¬ ê³¼ì •ì´ ì—°ì‡„ì ìœ¼ë¡œ ìˆ˜í–‰ë˜ë©´ì„œ ë©”ì„œë“œ ì˜ì—­ì´ ì±„ì›Œì§€ê³ , ë©”ì„œë“œ ì˜ì—­ ë‚´ì—ì„œ í´ë˜ìŠ¤ ë‹¨ìœ„ë¡œ ìƒì„±ë˜ëŠ” ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ ì•ˆì— ìˆëŠ” ì‹¬ë³¼ë¦­ ì°¸ì¡°ê°€ ê°€ë¦¬í‚¤ëŠ” ê°’ë“¤ì´ ê²°ì •ëœë‹¤.</p><p>í•˜ì§€ë§Œ ì´ê²ƒë„ ìœ„ì— ì¼ë“¯ì´ ì¦‰ì‹œ ë§í¬ ë°©ì‹ì¼ ë•Œì˜ ì–˜ê¸°ê³ , <strong>ì§€ì—° ë§í¬ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ê° í´ë˜ìŠ¤ì˜ ì´ˆê¸°í™”ê°€ ìˆ˜í–‰ëœ ì´í›„ì— í•´ì„ ê³¼ì •ì´ ìˆ˜í–‰</strong>ë  ìˆ˜ë„ ìˆë‹¤.</p><p>ê·¸ëŸ¼ ì´ì œ ì´ˆê¸°í™”ë¥¼ ì•Œì•„ë³¼ ì°¨ë¡€ë‹¤.</p><h2 id="ì´ˆê¸°í™”"><a href="#ì´ˆê¸°í™”" class="headerlink" title="ì´ˆê¸°í™”"></a>ì´ˆê¸°í™”</h2><p>ì´ˆê¸°í™”(initialization)ëŠ” <code>í´ë˜ìŠ¤ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ(class or interface initialization method)</code>ë¥¼ ì‹¤í–‰í•  ë•Œ ìˆ˜í–‰ë˜ëŠ” ê³¼ì •ì´ë‹¤. ì‰½ê²Œ ë§í•˜ë©´ <strong>ì—¬ê¸°ì—ì„œ ë§í•˜ëŠ” ì´ˆê¸°í™”ëŠ” ì •ì  ì´ˆê¸°í™”(static initialization)ë¥¼ ë§í•œë‹¤</strong>ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p><p>ê·¸ëŸ¼ ì´ˆê¸°í™” ë©”ì„œë“œëŠ” ë¬´ì—‡ì¼ê¹Œ?</p><h3 id="ì´ˆê¸°í™”-ë©”ì„œë“œ"><a href="#ì´ˆê¸°í™”-ë©”ì„œë“œ" class="headerlink" title="ì´ˆê¸°í™” ë©”ì„œë“œ"></a>ì´ˆê¸°í™” ë©”ì„œë“œ</h3><p>ì´ˆê¸°í™” ë©”ì„œë“œ(initialization method)ëŠ” ë‘ ê°€ì§€ê°€ ìˆë‹¤.</p><h4 id="ì¸ìŠ¤í„´ìŠ¤-ì´ˆê¸°í™”-ë©”ì„œë“œ"><a href="#ì¸ìŠ¤í„´ìŠ¤-ì´ˆê¸°í™”-ë©”ì„œë“œ" class="headerlink" title="ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ"></a>ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ</h4><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.9.1" target="_blank" rel="noopener">ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ</a>ëŠ” ìë°” ì–¸ì–´ë¡œ ì‘ì„±ë˜ëŠ” ìƒì„±ìì— í•´ë‹¹í•˜ë©°, í´ë˜ìŠ¤ëŠ” 0ê°œ ì´ìƒì˜ ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œë¥¼ ê°€ì§„ë‹¤. <code>ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ</code>ëŠ” ë‹¤ìŒì˜ ì¡°ê±´ì„ ëª¨ë‘ ì¶©ì¡±í•´ì•¼ í•œë‹¤.</p><ul><li>(ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ë‹ˆê³ ) í´ë˜ìŠ¤ ì•ˆì— ì •ì˜ëœë‹¤.</li><li>(ë°”ì´íŠ¸ì½”ë“œ ìƒì—ì„œ) <code>&lt;init&gt;</code>ë¼ëŠ” íŠ¹ìˆ˜í•œ ì´ë¦„ìœ¼ë¡œ í‘œí˜„ëœë‹¤.</li><li>ë°˜í™˜ íƒ€ì…ì€ void</li></ul><p><code>ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ</code>ëŠ” ìƒì„±ìë¡œì„œ í™ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•˜ë©°, ì´ë¦„ì— ì´ˆê¸°í™”ë¼ëŠ” ìš©ì–´ê°€ ë“¤ì–´ê°€ì§€ë§Œ ì—¬ê¸°ì—ì„œ ë§í•˜ëŠ” ì´ˆê¸°í™”ì™€ëŠ” ì¢€ ë‹¤ë¥¸ ê°œë…ì´ê³ , ì‹¤ì œ ìŠ¤í™ì—ì„œë„ ì´ˆê¸°í™”ëŠ” (ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œë¥¼ ë°°ì œí•˜ê³ ) <code>class or interface initialization method(í´ë˜ìŠ¤ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ)</code>ë¥¼ í˜¸ì¶œí•œë‹¤ê³  ëª…ì‹œë˜ì–´ ìˆë‹¤. (<a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.5" target="_blank" rel="noopener">JVM ìŠ¤í™</a>ì— <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.9.2" target="_blank" rel="noopener">2.9.2</a> ë¼ê³  ë”°ë¡œ ëª…ê¸°)</p><h4 id="í´ë˜ìŠ¤-ì´ˆê¸°í™”-ë©”ì„œë“œ-í´ë˜ìŠ¤-ë˜ëŠ”-ì¸í„°í˜ì´ìŠ¤-ì´ˆê¸°í™”-ë©”ì„œë“œ"><a href="#í´ë˜ìŠ¤-ì´ˆê¸°í™”-ë©”ì„œë“œ-í´ë˜ìŠ¤-ë˜ëŠ”-ì¸í„°í˜ì´ìŠ¤-ì´ˆê¸°í™”-ë©”ì„œë“œ" class="headerlink" title="í´ë˜ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ(í´ë˜ìŠ¤ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ)"></a>í´ë˜ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ(í´ë˜ìŠ¤ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ)</h4><p>ì•ì—ì„œ ë§í¬ ê³¼ì •ì˜ ì¤€ë¹„ ë‹¨ê³„ ì„¤ëª…ì— ì´ˆê¸°í™”ê°€ ì ì‹œ ì–¸ê¸‰ëœ ì ì´ ìˆë‹¤.<br><strong>ì •ì  í•„ë“œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™” í•˜ëŠ” ê²ƒì€ ë§í¬ì˜ ì¤€ë¹„ ë‹¨ê³„ì—ì„œ ìˆ˜í–‰</strong>ë˜ê³ , <strong>ì •ì  í•„ë“œë¥¼ íŠ¹ì •ê°’ìœ¼ë¡œ ì´ˆê¸°í™” í•˜ëŠ” ê²ƒì€ ì´ˆê¸°í™” ë‹¨ê³„ì—ì„œ ìˆ˜í–‰</strong>ëœë‹¤ê³  í–ˆëŠ”ë°, ì§€ê¸ˆ ì„¤ëª…í•˜ê³  ìˆëŠ” ì´ <code>í´ë˜ìŠ¤ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ</code>ê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì´ˆê¸°í™” ë‹¨ê³„ë‹¤.</p><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.9.2" target="_blank" rel="noopener">í´ë˜ìŠ¤ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ</a>ëŠ” í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì—(í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ ë°”ì´íŠ¸ì½”ë“œì—) 1ê°œë§Œ ì¡´ì¬í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¤ìŒì˜ ì¡°ê±´ì„ ëª¨ë‘ ì¶©ì¡±í•´ì•¼ í•œë‹¤.</p><ul><li>(ë°”ì´íŠ¸ì½”ë“œ ìƒì—ì„œ) <code>&lt;clinit&gt;</code>ë¼ëŠ” íŠ¹ìˆ˜í•œ ì´ë¦„ìœ¼ë¡œ í‘œí˜„ëœë‹¤.</li><li>ë°˜í™˜ íƒ€ì…ì€ void</li><li>class íŒŒì¼ ë²„ì „ 51 ì´ìƒì—ì„œëŠ” <code>ACC_STATIC</code> í”Œë˜ê·¸ê°€ ë¶™ëŠ”ë‹¤.</li></ul><p>ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œëŠ” ìƒì„±ìì— í•´ë‹¹í•œë‹¤ëŠ” ëª…í™•í•˜ê³  ì§ê´€ì ì¸ ì„¤ëª…ì´ ìŠ¤í™ì— ìˆëŠ”ë°, <code>í´ë˜ìŠ¤ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ</code>ëŠ” ì•„ì‰½ê²Œë„ ë­ì— í•´ë‹¹í•˜ëŠ”ì§€ ìŠ¤í™ì—ëŠ” êµ¬ì²´ì ì¸ ì„¤ëª…ì´ ì—†ë‹¤.</p><p>ê·¸ë˜ì„œ ëª‡ ê°€ì§€ í…ŒìŠ¤íŠ¸ë¥¼ í•´ ë³¸ ê²°ê³¼ <strong>í´ë˜ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œëŠ” ì‰½ê²Œ ë§í•´ static ë¸”ë¡(ë“¤)ì˜ ë‚´ìš©ì„ í•˜ë‚˜ë¡œ í•©ì¹œ ê²ƒ</strong>ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì´ê±´ ë§ë³´ë‹¤ ì½”ë“œê°€ í›¨ì”¬ ì‰¬ìš°ë‹ˆ ì½”ë“œë¡œ ì‚´í´ë³´ì.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> homo.efficio.jvm.sample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticInitSample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        i = <span class="number">11</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> j;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        j = <span class="number">22</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì»´íŒŒì¼í•œ í›„ <code>javap -v -p -s homo.efficio.jvm.sample.StaticInitSample</code> ëª…ë ¹ìœ¼ë¡œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">homo</span>.<span class="title">efficio</span>.<span class="title">jvm</span>.<span class="title">sample</span>.<span class="title">StaticInitSample</span></span></span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: <span class="number">52</span></span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line">   #1 = Methodref          #5.#19         // java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">   #2 = Fieldref           #4.#20         // homo/efficio/jvm/sample/StaticInitSample.i:I</span><br><span class="line">   #3 = Fieldref           #4.#21         // homo/efficio/jvm/sample/StaticInitSample.j:I</span><br><span class="line">   #4 = Class              #22            // homo/efficio/jvm/sample/StaticInitSample</span><br><span class="line">   #5 = Class              #23            // java/lang/Object</span><br><span class="line">   #6 = Utf8               i</span><br><span class="line">   #7 = Utf8               I</span><br><span class="line">   #8 = Utf8               j</span><br><span class="line">   #9 = Utf8               &lt;init&gt;</span><br><span class="line">  #10 = Utf8               ()V</span><br><span class="line">  #11 = Utf8               Code</span><br><span class="line">  #12 = Utf8               LineNumberTable</span><br><span class="line">  #13 = Utf8               LocalVariableTable</span><br><span class="line">  #14 = Utf8               this</span><br><span class="line">  #15 = Utf8               Lhomo/efficio/jvm/sample/StaticInitSample;</span><br><span class="line">  #16 = Utf8               &lt;clinit&gt;</span><br><span class="line">  #17 = Utf8               SourceFile</span><br><span class="line">  #18 = Utf8               StaticInitSample.java</span><br><span class="line">  #19 = NameAndType        #9:#10         // "&lt;init&gt;":()V</span><br><span class="line">  #20 = NameAndType        #6:#7          // i:I</span><br><span class="line">  #21 = NameAndType        #8:#7          // j:I</span><br><span class="line">  #22 = Utf8               homo/efficio/jvm/sample/StaticInitSample</span><br><span class="line">  #23 = Utf8               java/lang/Object</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> i;</span><br><span class="line">    descriptor: I</span><br><span class="line">    flags: ACC_PUBLIC, ACC_STATIC, ACC_FINAL</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> homo.efficio.jvm.sample.StaticInitSample();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=<span class="number">1</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">         <span class="number">0</span>: aload_0</span><br><span class="line">         1: invokespecial #1                  // Method java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">         <span class="number">4</span>: <span class="keyword">return</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line <span class="number">3</span>: <span class="number">0</span></span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            <span class="number">0</span>       <span class="number">5</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lhomo/efficio/jvm/sample/StaticInitSample;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> &#123;&#125;;</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: ACC_STATIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=<span class="number">1</span>, locals=<span class="number">0</span>, args_size=<span class="number">0</span></span><br><span class="line">         <span class="number">0</span>: bipush        <span class="number">11</span></span><br><span class="line">         2: putstatic     #2                  // Field i:I</span><br><span class="line">         <span class="number">5</span>: bipush        <span class="number">22</span></span><br><span class="line">         7: putstatic     #3                  // Field j:I</span><br><span class="line">        <span class="number">10</span>: <span class="keyword">return</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line <span class="number">8</span>: <span class="number">0</span></span><br><span class="line">        line <span class="number">14</span>: <span class="number">5</span></span><br><span class="line">        line <span class="number">15</span>: <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line">SourceFile: <span class="string">"StaticInitSample.java"</span></span><br></pre></td></tr></table></figure><p>ìƒìˆ˜ í’€ì˜ 16ë²ˆì§¸ í•­ëª©ì— <code>#16 = Utf8               &lt;clinit&gt;</code>ê°€ 1ê°œ ìˆê³ , ì•„ë˜ ì½”ë“œ ë‚´ìš©ì˜ <code>static {};</code> ì•„ë˜ ë¶€ë¶„ì— ië¥¼ 1ë¡œ, jë¥¼ 2ë¡œ ì´ˆê¸°í™” í•˜ëŠ” ë¶€ë¶„ì´ ì†ŒìŠ¤ì½”ë“œì—ëŠ” ë³„ê°œì˜ static ë¸”ë¡ì— ìˆì—ˆëŠ”ë° ë°”ì´íŠ¸ì½”ë“œì—ì„œëŠ” í•˜ë‚˜ë¡œ í•©ì³ì € ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><h3 id="ì´ˆê¸°í™”-ì •ë¦¬"><a href="#ì´ˆê¸°í™”-ì •ë¦¬" class="headerlink" title="ì´ˆê¸°í™” ì •ë¦¬"></a>ì´ˆê¸°í™” ì •ë¦¬</h3><p>ë§í¬ ë‹¨ê³„ ë‹¤ìŒì— ìˆ˜í–‰ë˜ëŠ” ì´ˆê¸°í™” ë‹¨ê³„ë¥¼ ì •ë¦¬í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><blockquote><p><strong>ì´ˆê¸°í™”ëŠ” ë°”ì´íŠ¸ì½”ë“œì—ì„œ <code>&lt;clinit&gt;</code>ìœ¼ë¡œ í‘œì‹œë˜ëŠ” <code>í´ë˜ìŠ¤ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™” ë©”ì„œë“œ</code>(ìë°” ì†ŒìŠ¤ ì½”ë“œì˜ static ë¸”ë¡ì„ í•˜ë‚˜ë¡œ í•©ì¹œ ê²ƒ)ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒ</strong>ì„ ì˜ë¯¸í•œë‹¤.</p><p><strong>ë§í¬ ë‹¨ê³„ ì´í›„ì— ìˆ˜í–‰ë˜ëŠ” ì´ˆê¸°í™”ë€ ê²°êµ­ ì •ì  ì´ˆê¸°í™”ë¥¼ ì˜ë¯¸</strong>í•œë‹¤.</p></blockquote><p>ë‹¤ì‹œ ì›ë˜ì˜ ì˜ˆì œ ì½”ë“œì¸ Helloë¡œ ëŒì•„ì™€ë³´ì. Helloì—ëŠ” ì •ì  í•„ë“œê°€ ì—†ìœ¼ë¯€ë¡œ ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ë”°ë¡œ ìˆ˜í–‰ë˜ëŠ” ê²ƒì€ ì—†ë‹¤. ì´ˆê¸°í™” ê³¼ì •ê¹Œì§€ ë§ˆì³¤ìœ¼ë©´ ì´ì œ ë“œë””ì–´ JVMì— ì˜í•´ main ë©”ì„œë“œê°€ í˜¸ì¶œë  ì°¨ë¡€ë‹¤.</p><h1 id="main-ë©”ì„œë“œ-í˜¸ì¶œ"><a href="#main-ë©”ì„œë“œ-í˜¸ì¶œ" class="headerlink" title="main ë©”ì„œë“œ í˜¸ì¶œ"></a>main ë©”ì„œë“œ í˜¸ì¶œ</h1><p>ì•ì„œ ì„¤ëª…í•œ ë¡œë”©, ë§í¬, ì´ˆê¸°í™” ê³¼ì •ì€ ë°”ì´íŠ¸ì½”ë“œ ë‚´ìš© ê¸°ì¤€, ì¦‰ í´ë˜ìŠ¤ ë‹¨ìœ„ì˜ ì •ì ì¸ ì¤€ë¹„ë¥¼ ë‹¤ë¤˜ëŠ”ë°, main ë©”ì„œë“œ í˜¸ì¶œë¶€í„°ëŠ” ì‹¤ì œ í”„ë¡œê·¸ë¨ì˜ ë™ì ì¸ ì‹¤í–‰ì´ ì¼ì–´ë‚œë‹¤. í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë ¤ë©´ í”„ë¡œê·¸ë¨ íë¦„ì˜ ìµœì†Œ ë‹¨ìœ„ì¸ ìŠ¤ë ˆë“œê°€ ìˆì–´ì•¼ í•œë‹¤. <strong>JVMì´ main ë©”ì„œë“œ í˜¸ì¶œì„ ìœ„í•œ main ìŠ¤ë ˆë“œë¥¼ ìƒì„±</strong>í•œë‹¤. </p><h2 id="main-ìŠ¤ë ˆë“œ-ìƒì„±"><a href="#main-ìŠ¤ë ˆë“œ-ìƒì„±" class="headerlink" title="main ìŠ¤ë ˆë“œ ìƒì„±"></a>main ìŠ¤ë ˆë“œ ìƒì„±</h2><p><strong>ìŠ¤ë ˆë“œê°€ ìƒì„±ë˜ë©´ PC ë ˆì§€ìŠ¤í„°, JVM ìŠ¤íƒ, ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒì´ í•¨ê»˜ ìƒì„±</strong>ë˜ê³ , ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­ì€ ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì•„ì§„ë‹¤.</p><p><img src="https://i.imgur.com/izWNxMs.png" alt="Imgur"></p><h2 id="PC-Register"><a href="#PC-Register" class="headerlink" title="PC Register"></a>PC Register</h2><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.5.1" target="_blank" rel="noopener">PC ë ˆì§€ìŠ¤í„°</a>ì—ëŠ” í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ë©”ì„œë“œê°€ </p><ul><li>ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œê°€ ì•„ë‹ˆë©´ <strong>í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ JVM ëª…ë ¹ì–´ì˜ ìœ„ì¹˜ê°€ ì €ì¥</strong>ë˜ê³ , </li><li>ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œì´ë©´ PC ë ˆì§€ìŠ¤í„°ì— ì €ì¥ë˜ëŠ” ê°’ì€ ì •ì˜ë˜ì§€ ì•ŠëŠ”ë‹¤(undefined).</li></ul><h2 id="JVM-Stack"><a href="#JVM-Stack" class="headerlink" title="JVM Stack"></a>JVM Stack</h2><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.5.2" target="_blank" rel="noopener">JVM ìŠ¤íƒ</a>ì€ LIFO(Last In First Out) ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ìë£Œêµ¬ì¡°ì„œ <strong>JVM ìŠ¤íƒì—ëŠ” í”„ë ˆì„ì´ ì €ì¥</strong>ëœë‹¤.</p><h3 id="Frame"><a href="#Frame" class="headerlink" title="Frame"></a>Frame</h3><p>JVM ìŠ¤íƒì— ìŒ“ì´ëŠ” ì •ë³´ì˜ ë‹¨ìœ„ê°€ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.6" target="_blank" rel="noopener">í”„ë ˆì„(Frame)</a>ì´ë‹¤. í”„ë ˆì„ì€ ë°ì´í„°ë‚˜ ì¤‘ê°„ ê²°ê³¼ì˜ ì €ì¥, ë™ì  ë§í¬, ê°’ ë°˜í™˜, ì˜ˆì™¸ ë””ìŠ¤íŒ¨ì¹˜ì— ì‚¬ìš©ëœë‹¤.</p><p><strong>ë©”ì„œë“œ í•˜ë‚˜ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ìƒˆ í”„ë ˆì„ì´ ìƒì„±ë˜ì–´ ìŠ¤íƒì— ìŒ“ì´ê³ , ë©”ì„œë“œ í˜¸ì¶œì´ ì •ìƒ ì™„ë£Œë˜ê±°ë‚˜ ì˜ˆì™¸ê°€ ë˜ì ¸ì§€ë©´ í”„ë ˆì„ì€ ìŠ¤íƒì—ì„œ ë¹ ì§€ë©´ì„œ ì†Œë©¸ëœë‹¤.</strong></p><p><strong>í”„ë ˆì„ì€ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´, ì˜¤í¼ëœë“œ ìŠ¤íƒ, í”„ë ˆì„ì— í•´ë‹¹í•˜ëŠ” ë©”ì„œë“œê°€ ì†í•œ í´ë˜ìŠ¤ì˜ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ëŒ€í•œ ì°¸ì¡° ì´ë ‡ê²Œ 3ê°œì˜ ìë£Œêµ¬ì¡°ë¡œ êµ¬ì„±</strong>ëœë‹¤.</p><p><img src="https://i.imgur.com/t1MmhAk.png" alt="Imgur"></p><h4 id="Local-Variables"><a href="#Local-Variables" class="headerlink" title="Local Variables"></a>Local Variables</h4><p>í”„ë ˆì„ì€ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.6.1" target="_blank" rel="noopener">ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´(Local Variables</a>ì„ í•˜ë‚˜ ê°€ì§€ê³  ìˆë‹¤. ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ í¬ê¸°ëŠ” ì»´íŒŒì¼ íƒ€ì„ì— ê²°ì •ë˜ë©° ë°”ì´íŠ¸ì½”ë“œì˜ <code>Code</code> ì†ì„±ì— <code>locals</code>ìœ¼ë¡œ í‘œì‹œëœë‹¤.</p><p><code>boolean</code>, <code>byte</code>, <code>char</code>, <code>short</code>, <code>int</code>, <code>float</code>, <code>reference</code>, <code>returnAddress</code>ëŠ” ë°°ì—´ì˜ 1ê°œì˜ ìŠ¬ë¡¯ì— ì €ì¥ë˜ê³ , <code>long</code>ê³¼ <code>double</code>ì€ 2ê°œì˜ ìŠ¬ë¡¯ì— ê±¸ì³ ì €ì¥ëœë‹¤.</p><p>ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ ê·¸ <strong>ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„° ê°’ì€ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì„ í†µí•´ ë„˜ê²¨ì§„ë‹¤.</strong></p><ul><li>ë©”ì„œë“œê°€ <strong>í´ë˜ìŠ¤ ë©”ì„œë“œì´ë©´ ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” 0ë²ˆ ìŠ¬ë¡¯ì— ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” 1ë²ˆ ìŠ¬ë¡¯ì— ì°¨ë¡€ëŒ€ë¡œ ì €ì¥</strong>ë˜ê³ , </li><li>ë©”ì„œë“œê°€ <strong>ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì´ë©´ <code>this</code>ê°€ 0ë²ˆ ìŠ¬ë¡¯ì— ë¨¼ì € ì €ì¥ë˜ê³ , ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” 1ë²ˆ ìŠ¬ë¡¯ì—, ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” 2ë²ˆ ìŠ¬ë¡¯ì— ì°¨ë¡€ëŒ€ë¡œ ì €ì¥</strong>ëœë‹¤.</li></ul><p>íŒŒì´ì¬ì€ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ì²« ì¸ìë¡œ <code>self</code>ë¥¼ í•­ìƒ ë„˜ê²¨ì£¼ëŠ”ë°, ìë°”ì—ì„œëŠ” ì†ŒìŠ¤ ì½”ë“œì— ì§ì ‘ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ì»´íŒŒì¼ëŸ¬ê°€ ë°”ì´íŠ¸ì½”ë“œë¥¼ ìƒì„±í•  ë•Œ <code>this</code>ì— ëŒ€í•œ ì‹¬ë³¼ë¦­ ì°¸ì¡°ë¥¼ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ 0ë²ˆ ìŠ¬ë¡¯ì— ë„£ì–´ì¤€ë‹¤. ë°”ì´íŠ¸ì½”ë“œì˜ <code>Code</code> ì†ì„±ìœ¼ë¡œ í‘œì‹œë˜ëŠ” ë©”ì„œë“œì˜ ë°”ì´íŠ¸ì½”ë“œë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ <code>LocalVariableTable</code>ì— <code>this</code>ì— ëŒ€í•œ ì •ë³´ê°€ í‘œì‹œë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> homo.efficio.jvm.sample.Hello();</span><br><span class="line">  descriptor: ()V</span><br><span class="line">  flags: (<span class="number">0x0001</span>) ACC_PUBLIC</span><br><span class="line">  Code:</span><br><span class="line">    stack=<span class="number">1</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">       <span class="number">0</span>: aload_0</span><br><span class="line">       1: invokespecial #1                  // Method java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">       <span class="number">4</span>: <span class="keyword">return</span></span><br><span class="line">    LineNumberTable:</span><br><span class="line">      line <span class="number">3</span>: <span class="number">0</span></span><br><span class="line">    LocalVariableTable:</span><br><span class="line">      Start  Length  Slot  Name   Signature</span><br><span class="line">          <span class="number">0</span>       <span class="number">5</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lhomo/efficio/jvm/sample/Hello;  <span class="comment">// &lt;== ì—¬ê¸°!!</span></span><br></pre></td></tr></table></figure><h4 id="Operand-Stack"><a href="#Operand-Stack" class="headerlink" title="Operand Stack"></a>Operand Stack</h4><p><strong>í”„ë ˆì„ì€ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.6.2" target="_blank" rel="noopener">ì˜¤í¼ëœë“œ ìŠ¤íƒ(Operand Stack)</a>ì„ í•˜ë‚˜ ê°€ì§€ê³  ìˆë‹¤.</strong> ì˜¤í¼ëœë“œ ìŠ¤íƒì˜ ìµœëŒ€ ê¹Šì´ëŠ” ì»´íŒŒì¼ íƒ€ì„ì— ê²°ì •ë˜ë©° ë°”ì´íŠ¸ì½”ë“œì˜ <code>Code</code> ì†ì„±ì— <code>stack</code>ìœ¼ë¡œ í‘œì‹œëœë‹¤.</p><p>ì˜¤í¼ëœë“œ ìŠ¤íƒì€ í”„ë ˆì„ì´ ìƒì„±ë  ë•ŒëŠ” ë¹„ì–´ìˆë‹¤. ì˜¤í¼ëœë“œ ìŠ¤íƒì— ìƒìˆ˜, ë¡œì»¬ ë³€ìˆ˜, í•„ë“œë¥¼ ìŒ“ëŠ” ëª…ë ¹ì–´ì™€ ì˜¤í¼ëœë“œ ìŠ¤íƒì—ì„œ ê°’ì„ êº¼ë‚´ì„œ ì—°ì‚°ì„ í•˜ê³  ë‹¤ì‹œ ìŠ¤íƒì— ë„£ëŠ” ëª…ë ¹ì–´ëŠ” JVM ëª…ë ¹ì–´ë¡œ ì œê³µë˜ë©° ê·¸ ì¤‘ì—ì„œ Hello ì˜ˆì œ ì½”ë“œì— ì‚¬ìš©ëœ JVM ëª…ë ¹ì–´ì— ëŒ€í•œ ì„¤ëª…ì€ ì•ìœ¼ë¡œ ì°¨ì°¨ ì•Œì•„ë³´ê¸°ë¡œ í•˜ì. </p><p>ë©”ì„œë“œì— ì „ë‹¬ë˜ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ì¤€ë¹„í•˜ê±°ë‚˜ ë©”ì„œë“œê°€ ë°˜í™˜í•´ì£¼ëŠ” ê²°ê³¼ê°’ì„ ë°›ì„ ë•Œë„ ì˜¤í¼ëœë“œ ìŠ¤íƒì´ ì‚¬ìš©ë˜ë©° <strong>ë‹¨ìˆœí•˜ê²Œ í‘œí˜„í•˜ë©´ ê°’ì„ ê°€ì ¸ì˜¤ê³  ë„˜ê²¨ì£¼ëŠ” ê±°ì˜ ëª¨ë“  ê³¼ì •ì— ì˜¤í¼ëœë“œ ìŠ¤íƒì´ ì‚¬ìš©ëœë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</strong></p><h4 id="Reference-to-Run-Time-Constant-Pool"><a href="#Reference-to-Run-Time-Constant-Pool" class="headerlink" title="Reference to Run-Time Constant Pool"></a>Reference to Run-Time Constant Pool</h4><p>ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ëŒ€í•œ ì°¸ì¡°ëŠ” ë§ ê·¸ëŒ€ë¡œ <strong>í•´ë‹¹ í”„ë ˆì„ì— ëŒ€ì‘ë˜ëŠ” ë©”ì„œë“œê°€ ì†í•œ í´ë˜ìŠ¤ì˜ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ëŒ€í•œ ì°¸ì¡°</strong>ë¥¼ ì˜ë¯¸í•œë‹¤.<br>ìŠ¤í™ì—ì„œ ë³„ë„ì˜ í•­ëª©ìœ¼ë¡œ ê¸°ìˆ ë˜ì–´ ìˆì§€ëŠ” ì•Šê³ , <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.6" target="_blank" rel="noopener">í”„ë ˆì„ì˜ ì„¤ëª… ë¶€ë¶„ì—ì„œ ì–¸ê¸‰</a>ë˜ê³  ìˆë‹¤.</p><p>í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì—ì„œ ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê³ , ê·¸ë•Œë§ˆë‹¤ í”„ë ˆì„ì´ ìƒì„±ë˜ì–´ JVM ìŠ¤íƒì— ìŒ“ì´ê³ , <strong>í”„ë ˆì„ì—ì„œ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ìˆëŠ” ì •ë³´ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì´ ì°¸ì¡°ê°€ ìˆì–´ì•¼ í•œë‹¤.</strong></p><p>ìœ„ ê·¸ë¦¼ì—ì„œëŠ” í•˜ë‚˜ì˜ ì˜ˆë¡œ Hello í´ë˜ìŠ¤ì˜ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì„ ê°€ë¦¬í‚¤ë„ë¡ í‘œí˜„í–ˆì„ ë¿ì´ê³ , í”„ë ˆì„ì— ë”°ë¼ ê°ê° ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì„ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤.</p><h2 id="Native-Method-Stack"><a href="#Native-Method-Stack" class="headerlink" title="Native Method Stack"></a>Native Method Stack</h2><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-2.html#jvms-2.5.6" target="_blank" rel="noopener">ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒ(Native Method Stack)</a>ì€ JVM ìŠ¤íƒì´ ì•„ë‹Œ ë³´í†µ C ìŠ¤íƒì´ë¼ê³  ë¶€ë¥´ëŠ” ì „í†µì ì¸ ìŠ¤íƒì´ë©°, ìë°”ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ì„±ëœ ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ìŠ¤íƒì´ë‹¤. ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒì€ JVM ìŠ¤íƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ìŠ¤ë ˆë“œ ë‹¨ìœ„ì˜ ìë£Œêµ¬ì¡°ë‹¤.</p><p>JVMì´ ë°˜ë“œì‹œ ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œë¥¼ ì§€ì›í•´ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒ ì—­ì‹œ í•„ìˆ˜ëŠ” ì•„ë‹ˆë‹¤. </p><h2 id="main-ë©”ì„œë“œ-í˜¸ì¶œ-1"><a href="#main-ë©”ì„œë“œ-í˜¸ì¶œ-1" class="headerlink" title="main ë©”ì„œë“œ í˜¸ì¶œ"></a>main ë©”ì„œë“œ í˜¸ì¶œ</h2><p>ì´ì œ JVMì˜ ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­ì„ êµ¬ì„±í•˜ëŠ” ìš”ì†Œë“¤ì— ëŒ€í•œ ì •ì ì¸ ì„¤ëª…ì„ ëª¨ë‘ ì•Œì•„ë´¤ìœ¼ë¯€ë¡œ ì‹¤ì œ main ë©”ì„œë“œ í˜¸ì¶œê³¼ í•¨ê»˜ ë³€í™” ê³¼ì •ì„ ë™ì ìœ¼ë¡œ ì•Œì•„ë³´ì.</p><p>main ë©”ì„œë“œì˜ ë°”ì´íŠ¸ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(java.lang.String[])</span></span>;</span><br><span class="line">  descriptor: ([Ljava/lang/String;)V</span><br><span class="line">  flags: (<span class="number">0x0009</span>) ACC_PUBLIC, ACC_STATIC</span><br><span class="line">  Code:</span><br><span class="line">    stack=<span class="number">2</span>, locals=<span class="number">2</span>, args_size=<span class="number">1</span></span><br><span class="line">       0: new           #2                  // class homo/efficio/jvm/sample/Hello</span><br><span class="line">       <span class="number">3</span>: dup</span><br><span class="line">       4: invokespecial #3                  // Method "&lt;init&gt;":()V</span><br><span class="line">       <span class="number">7</span>: astore_1</span><br><span class="line">       8: getstatic     #4                  // Field java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">      <span class="number">11</span>: aload_1</span><br><span class="line">      12: invokevirtual #5                  // Method helloMessage:()Ljava/lang/String;</span><br><span class="line">      15: invokevirtual #6                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V</span><br><span class="line">      <span class="number">18</span>: goto          <span class="number">18</span></span><br><span class="line">    LineNumberTable:</span><br><span class="line">      line <span class="number">6</span>: <span class="number">0</span></span><br><span class="line">      line <span class="number">7</span>: <span class="number">8</span></span><br><span class="line">      line <span class="number">8</span>: <span class="number">18</span></span><br><span class="line">    LocalVariableTable:</span><br><span class="line">      Start  Length  Slot  Name   Signature</span><br><span class="line">          <span class="number">0</span>      <span class="number">21</span>     <span class="number">0</span>  args   [Ljava/lang/String;</span><br><span class="line">          <span class="number">8</span>      <span class="number">13</span>     <span class="number">1</span> hello   Lhomo/efficio/jvm/sample/Hello;</span><br><span class="line">    StackMapTable: number_of_entries = <span class="number">1</span></span><br><span class="line">      frame_type = <span class="number">252</span> <span class="comment">/* append */</span></span><br><span class="line">        offset_delta = <span class="number">18</span></span><br><span class="line">        locals = [ class homo/efficio/jvm/sample/Hello ]</span><br></pre></td></tr></table></figure><p>ì˜¤í¼ëœë“œ ìŠ¤íƒì˜ ìµœëŒ€ í¬ê¸°ëŠ” 2, ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ í¬ê¸°ëŠ” 2, ì¸ì ê°¯ìˆ˜ëŠ” 1ì´ë‹¤.</p><p>main ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì´ ìƒì„±ëœë‹¤. ì˜¤í¼ëœë“œ ìŠ¤íƒê³¼ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì€ ë¹„ì–´ìˆëŠ” ìƒíƒœì´ê³ , ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ëŒ€í•œ ì°¸ì¡°ëŠ” Hello í´ë˜ìŠ¤ì˜ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì„ ê°€ë¦¬í‚¨ë‹¤. </p><p>ì˜¤í¼ëœë“œ ìŠ¤íƒì€ ìµœëŒ€ í¬ê¸°ê°€ 2ì´ê³  ì•„ì§ ì•„ë¬´ ê²ƒë„ ìŒ“ì—¬ìˆì§€ ì•Šì€ ìƒíƒœì´ë¯€ë¡œ ì ì„ ìœ¼ë¡œ í‘œì‹œí–ˆê³ , ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì€ ì•ˆì— ê°’ì€ ì—†ì§€ë§Œ 2ê°œì˜ ìŠ¬ë¡¯ì´ í™•ì •ì ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ìˆìœ¼ë¯€ë¡œ ì‹¤ì„ ìœ¼ë¡œ í‘œì‹œí–ˆë‹¤.</p><p><img src="https://i.imgur.com/O7LRpA6.png" alt="Imgur"></p><h3 id="0-new-2-class-homo-efficio-jvm-sample-Hello"><a href="#0-new-2-class-homo-efficio-jvm-sample-Hello" class="headerlink" title="0: new #2  // class homo/efficio/jvm/sample/Hello"></a><code>0: new #2  // class homo/efficio/jvm/sample/Hello</code></h3><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.new" target="_blank" rel="noopener"><code>new</code></a>ëŠ” ì¸ìë¡œ ì§€ì •ëœ í´ë˜ìŠ¤ì˜ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ì— í•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ í™ ì•ˆì— í• ë‹¹í•˜ê³ , í• ë‹¹ëœ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡°ë¥¼ ì˜¤í¼ëœë“œ ìŠ¤íƒì— ìŒ“ëŠ”ë‹¤. ì´ ë•Œ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë“¤ì´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™” ëœë‹¤. ì°¸ê³ ë¡œ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ì•„ë‹Œ ì •ì  ë³€ìˆ˜ëŠ” ì•ì„œ ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ì´ë¯¸ íŠ¹ì •ê°’ìœ¼ë¡œ ì´ˆê¸°í™” ë˜ì–´ ìˆëŠ” ìƒíƒœë‹¤.</p><p>Hello í´ë˜ìŠ¤ì˜ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ì— í•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ê³  ê·¸ ìœ„ì¹˜ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì˜¤í¼ëœë“œ ìŠ¤íƒì— ìŒ“ëŠ”ë‹¤. (íŒŒë€ìƒ‰ ë™ê·¸ë¼ë¯¸)</p><p><img src="https://i.imgur.com/e6u8VRO.png" alt="Imgur"></p><h3 id="3-dup"><a href="#3-dup" class="headerlink" title="3: dup"></a><code>3: dup</code></h3><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.dup" target="_blank" rel="noopener"><code>dup</code></a>ì€ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìˆëŠ” ê°’ì„ ë³µì‚¬í•´ì„œ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìŒ“ëŠ”ë‹¤.(ì´ˆë¡ìƒ‰ ë™ê·¸ë¼ë¯¸)</p><p><img src="https://i.imgur.com/Ve6moKN.png" alt="Imgur"></p><h3 id="4-invokespecial-3-Method-quot-lt-init-gt-quot-V"><a href="#4-invokespecial-3-Method-quot-lt-init-gt-quot-V" class="headerlink" title="4: invokespecial #3  // Method &quot;&lt;init&gt;&quot;:()V"></a><code>4: invokespecial #3  // Method &quot;&lt;init&gt;&quot;:()V</code></h3><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.invokespecial" target="_blank" rel="noopener"><code>invokespecial</code></a>ì€ ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±ì, í˜„ì¬ í´ë˜ìŠ¤, ìˆ˜í¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤ê³  ë‚˜ì™€ ìˆë‹¤. </p><blockquote><p>invokespecial</p><p>Operation<br> Invoke instance method; direct invocation of instance initialization methods and methods of the current class and its supertypes</p></blockquote><p>ê·¸ë˜ì„œ private ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ <code>invokespecial</code>ì´ ì‚¬ìš©ëœë‹¤ê³  ì¨ìˆëŠ” ìë£Œë„ í”íˆ ë³¼ ìˆ˜ ìˆëŠ”ë°, ë§‰ìƒ <code>javac</code>, <code>javap</code>ë¡œ í™•ì¸í•´ë³´ë©´ í˜„ì‹¤ì€ ì¢€ ë‹¤ë¥´ë‹¤. ëŒ€ë¶€ë¶„ ìƒì„±ìì™€ ìˆ˜í¼í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•  ë•Œ <code>invokespecial</code>ì´ ì‚¬ìš©ë˜ê³ , ìƒì†ë°›ì€ í´ë˜ìŠ¤ì—ì„œ ìˆ˜í¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œì™€, ê°™ì€ í´ë˜ìŠ¤ ë‚´ì˜ ë‹¤ë¥¸ private ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•ŒëŠ” <code>invokevirtual</code>ì´ ì‚¬ìš©ëœë‹¤. </p><p><code>invokespecial</code>ë¡œ íŠ¹ì • ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ í”„ë ˆì„ê³¼ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´, ì˜¤í¼ëœë“œ ìŠ¤íƒ, ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ëŒ€í•œ ì°¸ì¡°ê°€ ìƒê²¨ë‚œë‹¤. í˜¸ì¶œí•˜ëŠ” ìª½ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì—ì„œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„° ê°¯ìˆ˜ + 1ê°œ ë§Œí¼ í˜¸ì¶œí•˜ëŠ” ìª½ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì—ì„œ ê°’ì„ êº¼ë‚´ì„œ í˜¸ì¶œë˜ëŠ” ìª½ì— ìƒˆë¡œ ìƒì„±ëœ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ 0ë²ˆ ìŠ¬ë¡¯ê¹Œì§€ ì±„ì›Œì§€ë„ë¡ ë’¤ì—ì„œë¶€í„° ì°¨ë¡€ë¡œ ì±„ìš´ë‹¤.</p><p>ê¸€ë¡œëŠ” ë³µì¡í•˜ë‹ˆ ê·¸ë¦¼ìœ¼ë¡œ ë³´ì. ìƒˆë¡œ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ê°€ 2ê°œë¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰ëœë‹¤. ë¨¼ì € í˜¸ì¶œí•˜ê¸° ì „ ìƒíƒœëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src="https://i.imgur.com/jQIe28m.png" alt="Imgur"></p><p>íŒŒë¼ë¯¸í„° 2ê°œ ìˆëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ìƒˆë¡œ í”„ë ˆì„ì´ ìƒì„±ë˜ê³ , í˜¸ì¶œí•˜ëŠ” ìª½ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì—ì„œ 2 + 1ì¸ 3ê°œì˜ ê°’ì´ ì°¨ë¡€ë¡œ êº¼ë‚´ì ¸ì„œ, í˜¸ì¶œë˜ëŠ” ìª½ì˜ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ 2, 1, 0ë²ˆ ìŠ¬ë¡¯ì— ì°¨ë¡€ë¡œ ì €ì¥ëœë‹¤.</p><p><img src="https://i.imgur.com/YJBfT4H.png" alt="Imgur"></p><p>íŒŒë¼ë¯¸í„° ê°¯ìˆ˜ì¸ 2ê°œ ì™¸ì— ë§ˆì§€ë§‰ì— ì¶”ê°€ë¡œ í•˜ë‚˜ ë” êº¼ë‚´ì ¸ì„œ í˜¸ì¶œë˜ëŠ” í”„ë ˆì„ì˜ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ 0ë²ˆ ìŠ¬ë¡¯ì— ì €ì¥ë˜ëŠ” ê°’(ì´ˆë¡ìƒ‰ ë™ê·¸ë¼ë¯¸)ì€ ìŠ¤í™ì— <code>objectref</code>ë¼ê³  í‘œí˜„ë˜ì–´ ìˆìœ¼ë©° ë°˜ë“œì‹œ ì°¸ì¡°ê°’ì´ì–´ì•¼ í•œë‹¤.</p><p>ì§€ê¸ˆ ì„¤ëª…í•œ í˜¸ì¶œí•˜ëŠ” ìª½ì˜ í”„ë ˆì„ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì—ì„œ ê°’ì„ êº¼ë‚´ì„œ í˜¸ì¶œë˜ëŠ” ìª½ì˜ í”„ë ˆì„ì˜ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì— ì €ì¥í•˜ëŠ” ë°©ì‹ì€ <code>invokespecial</code> ë¿ ì•„ë‹ˆë¼ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.7.invokevirtual" target="_blank" rel="noopener"><code>invokevirtual</code></a>ì—ë„ ê³µíˆ ì ìš©ë˜ëŠ” ë°©ì‹ì´ë‹¤.</p><p>ìŠ¤íƒ ë§¨ ìœ„ì— ìˆëŠ” Hello ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°(ì´ˆë¡ìƒ‰ ë™ê·¸ë¼ë¯¸)ë¥¼ êº¼ë‚´ì„œ Hello í´ë˜ìŠ¤ì˜ ë””í´íŠ¸ ìƒì„±ìì˜ ì²« ë²ˆì§¸ ì¸ìë¡œ ë„˜ê¸°ë©´ì„œ ë””í´íŠ¸ ìƒì„±ìë¥¼ í˜¸ì¶œí•œë‹¤. Hello í´ë˜ìŠ¤ì˜ ë””í´íŠ¸ ìƒì„±ìì— ëŒ€í•œ í”„ë ˆì„(<code>Hello ìƒì„±ì í”„ë ˆì„</code>)ì´ ìƒˆë¡œ ìƒì„±ë˜ê³  JVM ìŠ¤íƒì˜ ë§¨ ìœ„(<code>main ë©”ì„œë“œ í”„ë ˆì„</code> ìœ„)ì— ìŒ“ì¸ë‹¤. <code>Hello ìƒì„±ì í”„ë ˆì„</code> ì•ˆì— ìˆëŠ” ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ 0ë²ˆ ìŠ¬ë¡¯ì— ìƒˆ Hello ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°ê°€ ì €ì¥ëœë‹¤. </p><p><img src="https://i.imgur.com/jvvanVL.png" alt="Imgur"></p><p>Hello ìƒì„±ìì˜ ë°”ì´íŠ¸ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> homo.efficio.jvm.sample.Hello();</span><br><span class="line">  descriptor: ()V</span><br><span class="line">  flags: (<span class="number">0x0001</span>) ACC_PUBLIC</span><br><span class="line">  Code:</span><br><span class="line">    stack=<span class="number">1</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">       <span class="number">0</span>: aload_0</span><br><span class="line">       1: invokespecial #1                  // Method java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">       <span class="number">4</span>: <span class="keyword">return</span></span><br><span class="line">    LineNumberTable:</span><br><span class="line">      line <span class="number">3</span>: <span class="number">0</span></span><br><span class="line">    LocalVariableTable:</span><br><span class="line">      Start  Length  Slot  Name   Signature</span><br><span class="line">          <span class="number">0</span>       <span class="number">5</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lhomo/efficio/jvm/sample/Hello;</span><br></pre></td></tr></table></figure><p><code>Code</code> ì†ì„± ë°”ë¡œ ì•„ë˜ì¤„ì— <code>stack=1, locals=1, args_size=1</code>ë¼ê³  ë˜ì–´ ìˆëŠ”ë°, <code>Hello ìƒì„±ì í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ìµœëŒ€ ê¹Šì´ëŠ” 1, ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ í¬ê¸°ëŠ” 1, ì¸ìì˜ ê°¯ìˆ˜ëŠ” 1ê°œë¡œ ë˜ì–´ ìˆë‹¤. ì˜¤í¼ëœë“œ ìŠ¤íƒ ìµœëŒ€ ê¹Šì´ì™€ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ í¬ê¸°ëŠ” ìœ„ ê·¸ë¦¼ì— ì ìš©ë˜ì–´ ìˆë‹¤.</p><p>Hello ìƒì„±ì í”„ë ˆì„ì´ ìƒì„±ë˜ë©´ ê°€ì¥ ìœ„ì— ìˆëŠ” ëª…ë ¹ì–´ì¸ <code>aload_0</code>ì´ ë¨¼ì € ì‹¤í–‰ëœë‹¤.</p><h4 id="0-aload-0"><a href="#0-aload-0" class="headerlink" title="0: aload_0"></a><code>0: aload_0</code></h4><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.aload_n" target="_blank" rel="noopener"><code>aload_n</code></a>ì€ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ <code>n</code>ë²ˆ ìŠ¬ë¡¯ì— ì €ì¥ëœ ì°¸ì¡°ê°’(load ì•ì— ë¶™ì€ <code>a</code>ê°€ ì°¸ì¡°ê°’ì„ ì˜ë¯¸)ì„ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìŒ“ëŠ”ë‹¤.</p><p><code>Hello ìƒì„±ì í”„ë ˆì„</code>ì˜ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ 0ë²ˆ ìŠ¬ë¡¯ì— ì €ì¥ë˜ì–´ ìˆë˜ ìƒˆ Hello ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°(ì´ˆë¡ìƒ‰ ë™ê·¸ë¼ë¯¸)ê°€ <code>Hello ìƒì„±ì í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì— ìŒ“ì¸ë‹¤.</p><p><img src="https://i.imgur.com/zP0BaqB.png" alt="Imgur"></p><h4 id="1-invokespecial-1-Method-java-lang-Object-quot-lt-init-gt-quot-V"><a href="#1-invokespecial-1-Method-java-lang-Object-quot-lt-init-gt-quot-V" class="headerlink" title="1: invokespecial #1  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V"></a><code>1: invokespecial #1  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</code></h4><p><code>invokespecial</code> ëª…ë ¹ì–´ì— ëŒ€í•œ ì„¤ëª…ì€ ì•ì—ì„œ ì•Œì•„ë´¤ìœ¼ë¯€ë¡œ ìƒëµí•œë‹¤. </p><p>Objectì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ë©´ í™ì— Objectì˜ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ê°€ í• ë‹¹ë˜ê³ , <code>Object ìƒì„±ì í”„ë ˆì„</code>ì´ ìƒì„±ëœë‹¤.</p><p><code>Hello ìƒì„±ì í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìˆë˜ <code>this</code>(ì´ˆë¡ìƒ‰ ë™ê·¸ë¼ë¯¸)ê°€ êº¼ë‚´ì§€ê³  ìƒˆë¡œ ìƒì„±ëœ <code>Object ìƒì„±ì í”„ë ˆì„</code>ì˜ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ 0ë²ˆ ìŠ¬ë¡¯ì— ì €ì¥(ì´ˆë¡ìƒ‰ ë™ê·¸ë¼ë¯¸)ëœë‹¤.</p><p><img src="https://i.imgur.com/Dw4W7or.png" alt="Imgur"></p><p>Objectì˜ ìƒì„±ìì˜ ë°”ì´íŠ¸ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><blockquote><p>javap -v -p -s java.lang.Object</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> java.lang.Object();</span><br><span class="line">  descriptor: ()V</span><br><span class="line">  flags: (<span class="number">0x0001</span>) ACC_PUBLIC</span><br><span class="line">  Code:</span><br><span class="line">    stack=<span class="number">0</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">       <span class="number">0</span>: <span class="keyword">return</span></span><br><span class="line">    LineNumberTable:</span><br><span class="line">      line <span class="number">50</span>: <span class="number">0</span></span><br><span class="line">    LocalVariableTable:</span><br><span class="line">      Start  Length  Slot  Name   Signature</span><br><span class="line">          <span class="number">0</span>       <span class="number">1</span>     <span class="number">0</span>  <span class="keyword">this</span>   Ljava/lang/Object;</span><br><span class="line">  RuntimeVisibleAnnotations:</span><br><span class="line">    0: #27()</span><br><span class="line">      jdk.internal.HotSpotIntrinsicCandidate</span><br></pre></td></tr></table></figure><p>ì„¤ëª…í•˜ëŠ” ì…ì¥ì—ì„œ ë§¤ìš° ë‹¤í–‰ìŠ¤ëŸ½ê²Œë„ ê·¸ëƒ¥ <code>4: return</code> í•˜ëŠ” ê²ƒì´ ì „ë¶€ë‹¤. <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.return" target="_blank" rel="noopener"><code>return</code></a>ì€ voidë¥¼ ë°˜í™˜í•˜ë©°, ì˜¤í¼ëœë“œ ìŠ¤íƒì— ìˆë˜ ëª¨ë“  ê°’ì´ ì „ë¶€ íê¸°ë˜ê³  <code>Object ìƒì„±ì í”„ë ˆì„</code>ë„ íê¸°ë˜ê³ , í˜¸ì¶œí•œ ë©”ì„œë“œì˜ í”„ë ˆì„ì¸ <code>Hello ìƒì„±ì í”„ë ˆì„</code>ìœ¼ë¡œ ì œì–´ê°€ ë„˜ì–´ê°„ë‹¤.</p><p><img src="https://i.imgur.com/1XJNvOY.png" alt="Imgur"></p><p>Helloì˜ ë””í´íŠ¸ ìƒì„±ìì˜ ë°”ì´íŠ¸ì½”ë“œì—ì„œ ë‚¨ì€ ê²ƒì€ <code>return</code>ë¿ì´ë‹¤. ë”°ë¼ì„œ Helloì˜ ë””í´íŠ¸ ìƒì„±ì ì‹¤í–‰ì´ ì™„ë£Œë˜ë©´ <code>Hello ìƒì„±ì í”„ë ˆì„ë„ íê¸°</code>ë˜ê³  ë‹¤ìŒê³¼ ê°™ì´ <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì—ëŠ” ì•„ë˜ì™€ ê°™ì´ ìƒˆë¡œ ìƒì„± ë° ì´ˆê¸°í™”ëœ Hello ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°ë§Œ ë‚¨ê²Œ ëœë‹¤.</p><p><img src="https://i.imgur.com/lEsyaU9.png" alt="Imgur"></p><h3 id="7-astore-1"><a href="#7-astore-1" class="headerlink" title="7: astore_1"></a><code>7: astore_1</code></h3><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.astore_n" target="_blank" rel="noopener"><code>astore_n</code></a>ì€ ì˜¤í¼ëœë“œ ìŠ¤íƒì˜ ë§¨ ìœ„ì— ìˆëŠ” ê°’ì„ êº¼ë‚´ì„œ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ <code>n</code> ìœ„ì¹˜ì— ì €ì¥í•œë‹¤. </p><p>í˜„ì¬ <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìˆëŠ” ê°’ì¸ ìƒˆ Hello ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°(<code>this</code>)ë¥¼ êº¼ë‚´ì„œ <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ 1ë²ˆ ìŠ¬ë¡¯ì— ë„£ëŠ”ë‹¤.</p><p>ê²°êµ­ ë¡œì»¬ ë³€ìˆ˜ì— ë­”ê°€ ì €ì¥í•˜ëŠ” ê²ƒì¸ë° ìë°” ì†ŒìŠ¤ ì½”ë“œì˜ <code>final Hello hello = new Hello();</code>ì— í•´ë‹¹í•œë‹¤.</p><p><img src="https://i.imgur.com/ZOUyk7M.png" alt="Imgur"></p><h3 id="8-getstatic-4-Field-java-lang-System-out-Ljava-io-PrintStream"><a href="#8-getstatic-4-Field-java-lang-System-out-Ljava-io-PrintStream" class="headerlink" title="8: getstatic #4  // Field java/lang/System.out:Ljava/io/PrintStream;"></a><code>8: getstatic #4  // Field java/lang/System.out:Ljava/io/PrintStream;</code></h3><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.getstatic" target="_blank" rel="noopener"><code>getstatic</code></a>ì€ í´ë˜ìŠ¤ì˜ ì •ì (static) í•„ë“œ ê°’ì„ ê°€ì ¸ì™€ì„œ ì˜¤í¼ëœë“œ ìŠ¤íƒì— ìŒ“ëŠ”ë‹¤.</p><p>ì—¬ê¸°ì—ì„œëŠ” System í´ë˜ìŠ¤ì˜ ì •ì  ë³€ìˆ˜ì¸ outì˜ ê°’ì„ Systemì˜ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì—ì„œ ì½ì–´ì„œ <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì— ìŒ“ëŠ”ë‹¤. (ì´ˆë¡ìƒ‰ ë™ê·¸ë¼ë¯¸)</p><p><img src="https://i.imgur.com/guTnj4t.png" alt="Imgur"></p><h3 id="11-aload-1"><a href="#11-aload-1" class="headerlink" title="11: aload_1"></a><code>11: aload_1</code></h3><p><code>aload_1</code>ì€ <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ 1ë²ˆ ìŠ¬ë¡¯ì— ìˆë˜ ê°’ì„ <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì— ìŒ“ëŠ”ë‹¤. (íŒŒë€ìƒ‰ ë™ê·¸ë¼ë¯¸)</p><p><img src="https://i.imgur.com/fU90B7m.png" alt="Imgur"></p><h3 id="12-invokevirtual-5-Method-helloMessage-Ljava-lang-String"><a href="#12-invokevirtual-5-Method-helloMessage-Ljava-lang-String" class="headerlink" title="12: invokevirtual #5  // Method helloMessage:()Ljava/lang/String;"></a><code>12: invokevirtual #5  // Method helloMessage:()Ljava/lang/String;</code></h3><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.invokevirtual" target="_blank" rel="noopener"><code>invokevirtual</code></a>ì€ ìë°” ë©”ì„œë“œ í˜¸ì¶œì˜ ê¸°ë³¸ ë°©ì‹ì´ë©°, ê°ì²´ ì°¸ì¡°(obj.)ë¥¼ ë¶™ì—¬ì„œ í˜¸ì¶œë˜ëŠ” ì¼ë°˜ì ì¸ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤. í•´ë‹¹ ë©”ì„œë“œê°€ ì†í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡°ê°€ ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê²¨ì§„ë‹¤. í˜¸ì¶œì— ì˜í•´ ìƒˆ í”„ë ˆì„ì´ ìƒì„±ë˜ê³  ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì˜ 0ë²ˆ ìŠ¬ë¡¯ì— ì²« ë²ˆì§¸ ì¸ìë¡œ ë„˜ì–´ì˜¨ ê°’ì¸ í•´ë‹¹ ë©”ì„œë“œê°€ ì†í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡°ê°€ ì €ì¥ë˜ê³  ê·¸ ì´í›„ì˜ ì¸ìë„ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ì— ìˆœì„œëŒ€ë¡œ ì €ì¥ëœë‹¤. ì•ì—ì„œ <code>invokespecial</code>ì— ë‚˜ì™”ë˜ ê·¸ë¦¼ ì„¤ëª…ì„ ì°¸ê³ í•œë‹¤.</p><p><code>helloMessage()</code>ì˜ ë°”ì´íŠ¸ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> java.lang.<span class="function">String <span class="title">helloMessage</span><span class="params">()</span></span>;</span><br><span class="line">  descriptor: ()Ljava/lang/String;</span><br><span class="line">  flags: (<span class="number">0x0001</span>) ACC_PUBLIC</span><br><span class="line">  Code:</span><br><span class="line">    stack=<span class="number">1</span>, locals=<span class="number">1</span>, args_size=<span class="number">1</span></span><br><span class="line">       0: ldc           #7                  // String Hello, JVM</span><br><span class="line">       <span class="number">2</span>: areturn</span><br><span class="line">    LineNumberTable:</span><br><span class="line">      line <span class="number">12</span>: <span class="number">0</span></span><br><span class="line">    LocalVariableTable:</span><br><span class="line">      Start  Length  Slot  Name   Signature</span><br><span class="line">          <span class="number">0</span>       <span class="number">3</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lhomo/efficio/jvm/sample/Hello;</span><br></pre></td></tr></table></figure><p><code>helloMessage()</code>ê°€ í˜¸ì¶œë˜ë©´ <code>helloMessage ë©”ì„œë“œ í”„ë ˆì„</code>ì´ ìƒˆë¡œ ìƒì„±ë˜ê³ , <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìˆë˜ ê°’(íŒŒë€ ë™ê·¸ë¼ë¯¸)ì´ êº¼ë‚´ì ¸ì„œ <code>helloMessage ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´ 0ë²ˆ ìŠ¬ë¡¯ì— ì €ì¥ëœë‹¤.</p><p><img src="https://i.imgur.com/ZbJ4ISa.png" alt="Imgur"></p><h4 id="0-ldc-7-String-Hello-JVM"><a href="#0-ldc-7-String-Hello-JVM" class="headerlink" title="0: ldc #7  // String Hello, JVM"></a><code>0: ldc #7  // String Hello, JVM</code></h4><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.ldc" target="_blank" rel="noopener"><code>ldc</code></a>ëŠ” ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì˜ í•­ëª© í•˜ë‚˜ë¥¼ ì˜¤í¼ëœë“œ ìŠ¤íƒì˜ ë§¨ ìœ„ì— ìŒ“ëŠ”ë‹¤.</p><p>Hello í´ë˜ìŠ¤ì˜ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì˜ 7ë²ˆ í•­ëª©ì¸ ë¬¸ìì—´ ë¦¬í„°ëŸ´ <code>&quot;Hello, JVM&quot;</code>ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ <code>helloMessage ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìŒ“ëŠ”ë‹¤.</p><p>ë¬¸ìì—´ ë¦¬í„°ëŸ´ì´ ì €ì¥ë˜ëŠ” ë¬¸ìì—´ í’€(String pool)ì€ JVM ìŠ¤í™ì„ ë’¤ì ¸ë´¤ìœ¼ë‚˜ ì°¾ì„ ìˆ˜ ì—†ì—ˆë‹¤. <a href="http://java-performance.info/string-intern-in-java-6-7-8/" target="_blank" rel="noopener">http://java-performance.info/string-intern-in-java-6-7-8/</a> ì— ë”°ë¥´ë©´ ë¬¸ìì—´ í’€ì€ Java 6ê¹Œì§€ëŠ” í™ì´ ì•„ë‹Œ PermGen ì˜ì—­ì— ìˆì—ˆì§€ë§Œ, Java 7ë¶€í„° í™ì— ì¡´ì¬í•œë‹¤ê³  í•œë‹¤.</p><p>ë”°ë¼ì„œ ìŠ¤í™ì—ì„œ í™•ì¸í•œ ë‚´ìš©ì€ ì•„ë‹ˆì§€ë§Œ Java 11ì—ì„œë„ ë¬¸ìì—´ í’€ì€ í™ì— ì¡´ì¬í•œë‹¤ê³  ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.</p><p><img src="https://i.imgur.com/NCga0nz.png" alt="Imgur"></p><h4 id="2-areturn"><a href="#2-areturn" class="headerlink" title="2: areturn"></a><code>2: areturn</code></h4><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.areturn" target="_blank" rel="noopener"><code>areturn</code></a>ì€ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìˆëŠ” ì°¸ì¡°ê°’(return ì•ì— ìˆëŠ” <code>a</code>ê°€ ì°¸ì¡°ê°’ì„ ì˜ë¯¸)ì„ êº¼ë‚´ì„œ í˜¸ì¶œí•œ ë©”ì„œë“œ í”„ë ˆì„ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ì €ì¥í•˜ê³ , <code>areturn</code>ì´ ì†í•œ í”„ë ˆì„ì„ íê¸°í•˜ê³  ì œì–´ë¥¼ í˜¸ì¶œí•œ ë©”ì„œë“œ í”„ë ˆì„ìœ¼ë¡œ ë„˜ê²¨ì¤€ë‹¤.</p><p><code>helloMessage ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìˆë˜ ê°’ì€ <code>&quot;Hello, JVM&quot;</code>ì— ëŒ€í•œ ì°¸ì¡°ì´ë©° ì´ ê°’ì„ <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ìŒ“ëŠ”ë‹¤. ê²°êµ­ <strong>ë©”ì„œë“œê°€ ê°’ì„ ë°˜í™˜í•œë‹¤ëŠ” ê²ƒì€ í˜¸ì¶œëœ í”„ë ˆì„ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì˜ ê°’ì„ êº¼ë‚´ì„œ í˜¸ì¶œí•œ í”„ë ˆì„ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒ ë§¨ ìœ„ì— ì €ì¥í•˜ëŠ” ê²ƒ</strong>ì„ ì˜ë¯¸í•œë‹¤.</p><p><img src="https://i.imgur.com/vz0uuaf.png" alt="Imgur"></p><h3 id="15-invokevirtual-6-Method-java-io-PrintStream-println-Ljava-lang-String-V"><a href="#15-invokevirtual-6-Method-java-io-PrintStream-println-Ljava-lang-String-V" class="headerlink" title="15: invokevirtual #6  // Method java/io/PrintStream.println:(Ljava/lang/String;)V"></a><code>15: invokevirtual #6  // Method java/io/PrintStream.println:(Ljava/lang/String;)V</code></h3><p>PrintStream í´ë˜ìŠ¤ì˜ println(String)ì˜ ë°”ì´íŠ¸ì½”ë“œëŠ”.. ë§¤ìš° ê¸¸ë‹¤.. ì–´ì°¨í”¼ <code>invokevirtual</code>ì€ ì•ì—ì„œ ì‚´í´ë´¤ê³  ê·¸ ì™¸ì— ì˜¤í¼ëœë“œ ìŠ¤íƒì´ë‚˜ ë¡œì»¬ ì§€ì—­ ë³€ìˆ˜ì˜ ë³€í™” ê³¼ì •ì„ ì•ì—ì„œ ê³„ì† ë´ì™”ìœ¼ë¯€ë¡œ, println(String)ì€ ê²°ê³¼ë§Œ ë³´ì.</p><p><code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì— ìˆë˜ System.outì— ëŒ€í•œ ì°¸ì¡°ì™€ <code>&quot;Hello, JVM&quot;</code>ì— ëŒ€í•œ ì°¸ì¡°ëŠ”<code>invokevirtual</code>ë¡œ System.out.println(String)ì„ í˜¸ì¶œí•˜ë©´ì„œ ëª¨ë‘ êº¼ë‚´ì§€ê³ <code>main ë©”ì„œë“œ í”„ë ˆì„</code>ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì€ ë¹„ì›Œì§„ë‹¤. <code>println ë©”ì„œë“œ í”„ë ˆì„</code>ì´ ìƒˆë¡œ ìƒì„±ë˜ê³  ì¸ìë¡œ ì „ë‹¬ë°›ì€ ì°¸ì¡°ë¥¼ í™œìš©í•´ì„œ â€œHello, JVMâ€ì„ í™”ë©´ì— ì¶œë ¥í•˜ê³ , <code>println ë©”ì„œë“œ í”„ë ˆì„</code>ì€ íê¸°ëœ í›„ì˜ ëª¨ìŠµì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src="https://i.imgur.com/BWa4gBm.png" alt="Imgur"></p><h3 id="18-goto-18"><a href="#18-goto-18" class="headerlink" title="18: goto 18"></a><code>18: goto 18</code></h3><p><a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.goto" target="_blank" rel="noopener"><code>goto</code></a>ëŠ” ì˜¤í¼ëœë“œ ìŠ¤íƒì˜ ë³€í™” ì—†ì´ íŠ¹ì • í–‰ìœ¼ë¡œ ì‹¤í–‰ íë¦„ì„ ì´ë™ì‹œí‚¨ë‹¤.</p><p>18í–‰ì—ì„œ 18í–‰ìœ¼ë¡œ ê³„ì† ì´ë™í•˜ë©´ ê²°êµ­ ë¬´í•œë£¨í”„ë‹¤. ìë°” ì†ŒìŠ¤ ì½”ë“œì˜ <code>while(true) {}</code>ê°€ ì—¬ê¸°ì— í•´ë‹¹ëœë‹¤.</p><h1 id="ë§ˆë¬´ë¦¬"><a href="#ë§ˆë¬´ë¦¬" class="headerlink" title="ë§ˆë¬´ë¦¬"></a>ë§ˆë¬´ë¦¬</h1><p>ì—¬ê¸°ê¹Œì§€ ë°”ì´íŠ¸ì½”ë“œ íë¦„ì— ë”°ë¼ JVMì˜ ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­ ë‚´ì˜ ìë£Œêµ¬ì¡°ë“¤ì´ ì–´ë–»ê²Œ ë³€í™”í•˜ëŠ”ì§€ ì‚´í´ë´¤ë‹¤. ì‚¬ì‹¤ ëª°ë¼ë„ ì¼ë°˜ì ì¸ ê°œë°œì„ í•˜ëŠ”ë° ê±°ì˜ ì§€ì¥ì´ ì—†ë‹¤ì‹œí”¼í•œ ë‚´ìš©ì´ë¼ì„œ ê·¸ë¦¼ í•œë•€í•œë•€ ê·¸ë¦¬ê³  ê³ ì¹˜ê³ ë¥¼ ë°˜ë³µí•  ë•Œë§ˆë‹¤ ë‚´ê°€ ì´ ì§“ì„ ì™œí•˜ê³  ìˆë‚˜.. ì´ì¯¤ì—ì„œ ê·¸ë§Œë‘ì.. í•˜ëŠ” ìƒê°ì´ ë“  ê²Œ í•œ ë‘ë²ˆì´ ì•„ë‹ˆì—ˆ.. ã… ã…œ </p><p>ê·¸ë˜ë„ ì¸í„°ë„· ì–´ë””ë¥¼ ë’¤ì ¸ë´ë„ ìë°” í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ ê³¼ì •ì— ëŒ€í•´ ì´ë³´ë‹¤ ì¹œì ˆí•œ ì„¤ëª…ì€ ì—†ìœ¼ë¦¬ë¼..</p><blockquote><p>JVMì—ì„œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œê·¸ë¨(classíŒŒì¼)ì„ ì‹¤í–‰í•˜ë©´ JVMì´ ê¸°ë™ëœë‹¤.</p><p>JVMì´ ê¸°ë™ë˜ë©´ í™(Heap)ê³¼ ë©”ì„œë“œ ì˜ì—­(Method Area)ê°€ ìƒì„±ëœë‹¤.</p><p>í”„ë¡œê·¸ë¨ ì‹¤í–‰ì— í•„ìš”í•œ ì‹œì‘ í´ë˜ìŠ¤ì˜ ë°”ì´íŠ¸ì½”ë“œê°€ í´ë˜ìŠ¤ë¡œë”ë¥¼ í†µí•´ ë¡œë”©ë˜ì–´ ë©”ì„œë“œ ì˜ì—­ì— ì €ì¥ëœë‹¤.<br>ì´ ë•Œ ë°”ì´íŠ¸ì½”ë“œì— ìˆë˜ ìƒìˆ˜ í’€ì˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì´ í´ë˜ìŠ¤ ë‹¨ìœ„ë¡œ ë§Œë“¤ì–´ì ¸ ë©”ì„œë“œ ì˜ì—­ì— í•¨ê»˜ ì €ì¥ëœë‹¤.</p><p>ë§í¬(í™•ì¸, ì¤€ë¹„, í•´ì„)ë¥¼ í†µí•´ Object ë“± í”„ë¡œê·¸ë¨ ì‹¤í–‰ì— í•„ìš”í•œ ë‹¤ë¥¸ í´ë˜ìŠ¤ë“¤ì´ ë¡œë”©ë˜ê³  í•„ìš”í•˜ë‹¤ë©´ ì •ì ìœ¼ë¡œ ì´ˆê¸°í™” ëœë‹¤.</p><p>ì‹œì‘ í´ë˜ìŠ¤ì˜ main ë©”ì„œë“œ ì‹¤í–‰ì„ ìœ„í•œ main ìŠ¤ë ˆë“œê°€ ìƒì„±ëœë‹¤.</p><p>main ìŠ¤ë ˆë“œê°€ ìƒì„±ë˜ë©´ PC ë ˆì§€ìŠ¤í„°, JVM ìŠ¤íƒ, ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒì´ í•œ ê°œì”© main ìŠ¤ë ˆë“œì— ìƒì„±ëœë‹¤.<br>JVM ìŠ¤íƒì´ ìƒì„±ë˜ë©´ main ë©”ì„œë“œë¥¼ ìœ„í•œ main ë©”ì„œë“œ í”„ë ˆì„ì´ ìƒì„±ëœë‹¤.<br>main ë©”ì„œë“œ í”„ë ˆì„ì´ ìƒì„±ë˜ë©´ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´, ì˜¤í¼ëœë“œ ìŠ¤íƒ, ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ëŒ€í•œ ì°¸ì¡°ê°€ í•œ ê°œì”© main ë©”ì„œë“œ í”„ë ˆì„ì— ìƒì„±ëœë‹¤.</p><p>main ë©”ì„œë“œì˜ ë‚´ìš©ì— ë”°ë¼ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´, ì˜¤í¼ëœë“œ ìŠ¤íƒ, ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì´ìš©í•´ì„œ í•„ìš”í•œ ê°’ì´ë‚˜ ì°¸ì¡°ë¥¼ ì—°ì‚°í•˜ê³ ,<br>ë©”ì„œë“œ í˜¸ì¶œì´ ë°œìƒí•˜ë©´ í•´ë‹¹ ë©”ì„œë“œë¥¼ ìœ„í•œ ìƒˆ ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´, ì˜¤í¼ëœë“œ ìŠ¤íƒ, ëŸ°íƒ€ì„ ìƒìˆ˜ í’€ì— ëŒ€í•œ ì°¸ì¡°ê°€ í¬í•¨ëœ ìƒˆ í”„ë ˆì„ì´ ìƒì„±ë˜ì–´ JVM ìŠ¤íƒ ìœ„ì— ìŒ“ì´ê³ ,<br>ë©”ì„œë“œ í˜¸ì¶œì´ ì¢…ë£Œë˜ë©´ í•´ë‹¹ í”„ë ˆì„ì´ JVM ìŠ¤íƒì—ì„œ ë¹ ì ¸ë‚˜ê°€ê³  ì œì–´ëŠ” ë‹¤ì‹œ í˜¸ì¶œí•œ ë©”ì„œë“œì˜ í”„ë ˆì„ìœ¼ë¡œ ëŒì•„ì˜¨ë‹¤.<br>ì´ ë•Œ ë°˜í™˜ê°’ì´ ìˆë‹¤ë©´ í˜¸ì¶œí•œ ë©”ì„œë“œì˜ í”„ë ˆì„ì˜ ì˜¤í¼ëœë“œ ìŠ¤íƒì˜ ë§¨ ìœ„ì— ìŒ“ì¸ë‹¤.</p><p>í•œ ì¥ì˜ ê·¸ë¦¼ìœ¼ë¡œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src="https://i.imgur.com/NCga0nz.png" alt="Imgur"></p></blockquote><h2 id="ë§ˆì§€ë§‰-ì‰¬ìš´-í€´ì¦ˆ"><a href="#ë§ˆì§€ë§‰-ì‰¬ìš´-í€´ì¦ˆ" class="headerlink" title="ë§ˆì§€ë§‰ ì‰¬ìš´ í€´ì¦ˆ"></a>ë§ˆì§€ë§‰ ì‰¬ìš´ í€´ì¦ˆ</h2><p>ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ HelloNoInstance ì¸ìŠ¤í„´ìŠ¤ê°€ í™ì— ë§Œë“¤ì–´ì§ˆê¹Œ ì•ˆ ë§Œë“¤ì–´ì§ˆê¹Œ?</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> homo.efficio.jvm.sample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloNoInstance</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello, JVM"</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>í´ë˜ìŠ¤ ì´ë¦„ì— ë‹µì´ ìˆì§€ë§Œ HelloNoInstance ì¸ìŠ¤í„´ìŠ¤ëŠ” í™ì— ë§Œë“¤ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤. ì•„ë˜ëŠ” VisualVMìœ¼ë¡œ í™ ë¤í”„ë¥¼ ë– ì„œ í™•ì¸í•œ ê·¸ë¦¼ì´ë‹¤.</p><p><img src="https://i.imgur.com/S0cm4E8.png" alt="Imgur"></p><p>ì°¸ê³ ë¡œ Java 11 ê¸°ì¤€ìœ¼ë¡œ ê°„ë‹¨í•œ í—¬ë¡œì›”ë“œ í”„ë¡œê·¸ë¨ì´ ìˆ˜í–‰ë˜ëŠ”ë° ë¡œë”©ë˜ëŠ” í´ë˜ìŠ¤ì˜ ìˆ˜ëŠ” ëª‡ ê°œì¼ê¹Œ? ì´ê±´ ì§ì ‘ ì•Œì•„ë³´ê¸°ë¡œ í•˜ì. ^^</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-2&quot;&gt;&lt;a href=&quot;#Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-2&quot; class=&quot;headerlink&quot; title=&quot;Back to the Essenc
      
    
    </summary>
    
      <category term="Specification" scheme="http://homoefficio.github.io/categories/Specification/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="ìë°”" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94/"/>
    
      <category term="Java Execution Process" scheme="http://homoefficio.github.io/tags/Java-Execution-Process/"/>
    
      <category term="JVM" scheme="http://homoefficio.github.io/tags/JVM/"/>
    
      <category term="Bytecode" scheme="http://homoefficio.github.io/tags/Bytecode/"/>
    
      <category term="Compile" scheme="http://homoefficio.github.io/tags/Compile/"/>
    
      <category term="JVM Spec" scheme="http://homoefficio.github.io/tags/JVM-Spec/"/>
    
      <category term="invokeinterface" scheme="http://homoefficio.github.io/tags/invokeinterface/"/>
    
      <category term="invokevirtual" scheme="http://homoefficio.github.io/tags/invokevirtual/"/>
    
      <category term="javap" scheme="http://homoefficio.github.io/tags/javap/"/>
    
      <category term="ìë°” ì‹¤í–‰ ê³¼ì •" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94-%EC%8B%A4%ED%96%89-%EA%B3%BC%EC%A0%95/"/>
    
      <category term="java ì‹¤í–‰ ê³¼ì •" scheme="http://homoefficio.github.io/tags/java-%EC%8B%A4%ED%96%89-%EA%B3%BC%EC%A0%95/"/>
    
      <category term="ì»´íŒŒì¼" scheme="http://homoefficio.github.io/tags/%EC%BB%B4%ED%8C%8C%EC%9D%BC/"/>
    
      <category term="ë°”ì´íŠ¸ì½”ë“œ" scheme="http://homoefficio.github.io/tags/%EB%B0%94%EC%9D%B4%ED%8A%B8%EC%BD%94%EB%93%9C/"/>
    
      <category term="JVM ëª…ì„¸" scheme="http://homoefficio.github.io/tags/JVM-%EB%AA%85%EC%84%B8/"/>
    
      <category term="JVM ìŠ¤í™" scheme="http://homoefficio.github.io/tags/JVM-%EC%8A%A4%ED%8E%99/"/>
    
      <category term="Java Memory Structure" scheme="http://homoefficio.github.io/tags/Java-Memory-Structure/"/>
    
      <category term="Java Memory Model" scheme="http://homoefficio.github.io/tags/Java-Memory-Model/"/>
    
      <category term="JVM Memory" scheme="http://homoefficio.github.io/tags/JVM-Memory/"/>
    
      <category term="JRE" scheme="http://homoefficio.github.io/tags/JRE/"/>
    
      <category term="JVM Instruction" scheme="http://homoefficio.github.io/tags/JVM-Instruction/"/>
    
      <category term="Run-Time Data Area" scheme="http://homoefficio.github.io/tags/Run-Time-Data-Area/"/>
    
      <category term="Heap" scheme="http://homoefficio.github.io/tags/Heap/"/>
    
      <category term="Method Area" scheme="http://homoefficio.github.io/tags/Method-Area/"/>
    
      <category term="PC Register" scheme="http://homoefficio.github.io/tags/PC-Register/"/>
    
      <category term="JVM Stack" scheme="http://homoefficio.github.io/tags/JVM-Stack/"/>
    
      <category term="Native Method Stack" scheme="http://homoefficio.github.io/tags/Native-Method-Stack/"/>
    
      <category term="Frame" scheme="http://homoefficio.github.io/tags/Frame/"/>
    
      <category term="Local Variables" scheme="http://homoefficio.github.io/tags/Local-Variables/"/>
    
      <category term="Operand Stack" scheme="http://homoefficio.github.io/tags/Operand-Stack/"/>
    
      <category term="Reference to Run-Time Constant Pool" scheme="http://homoefficio.github.io/tags/Reference-to-Run-Time-Constant-Pool/"/>
    
      <category term="Run-Time Constant Pool" scheme="http://homoefficio.github.io/tags/Run-Time-Constant-Pool/"/>
    
      <category term="Link" scheme="http://homoefficio.github.io/tags/Link/"/>
    
      <category term="Verification" scheme="http://homoefficio.github.io/tags/Verification/"/>
    
      <category term="Preparation" scheme="http://homoefficio.github.io/tags/Preparation/"/>
    
      <category term="Initialization" scheme="http://homoefficio.github.io/tags/Initialization/"/>
    
      <category term="Resolution" scheme="http://homoefficio.github.io/tags/Resolution/"/>
    
      <category term="invokespecial" scheme="http://homoefficio.github.io/tags/invokespecial/"/>
    
      <category term="JVM ëª…ë ¹ì–´" scheme="http://homoefficio.github.io/tags/JVM-%EB%AA%85%EB%A0%B9%EC%96%B4/"/>
    
      <category term="ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­" scheme="http://homoefficio.github.io/tags/%EB%9F%B0%ED%83%80%EC%9E%84-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%98%81%EC%97%AD/"/>
    
      <category term="ìë°” ë©”ëª¨ë¦¬ êµ¬ì¡°" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0/"/>
    
      <category term="ìë°” ë©”ëª¨ë¦¬ ëª¨ë¸" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%AA%A8%EB%8D%B8/"/>
    
      <category term="JVM ë©”ëª¨ë¦¬ êµ¬ì¡°" scheme="http://homoefficio.github.io/tags/JVM-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0/"/>
    
      <category term="JVM ë©”ëª¨ë¦¬ ëª¨ë¸" scheme="http://homoefficio.github.io/tags/JVM-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%AA%A8%EB%8D%B8/"/>
    
      <category term="í™" scheme="http://homoefficio.github.io/tags/%ED%9E%99/"/>
    
      <category term="ë©”ì„œë“œ ì˜ì—­" scheme="http://homoefficio.github.io/tags/%EB%A9%94%EC%84%9C%EB%93%9C-%EC%98%81%EC%97%AD/"/>
    
      <category term="PC ë ˆì§€ìŠ¤í„°" scheme="http://homoefficio.github.io/tags/PC-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0/"/>
    
      <category term="JVM ìŠ¤íƒ" scheme="http://homoefficio.github.io/tags/JVM-%EC%8A%A4%ED%83%9D/"/>
    
      <category term="ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒ" scheme="http://homoefficio.github.io/tags/%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%8A%A4%ED%83%9D/"/>
    
      <category term="í”„ë ˆì„" scheme="http://homoefficio.github.io/tags/%ED%94%84%EB%A0%88%EC%9E%84/"/>
    
      <category term="ë¡œì»¬ ë³€ìˆ˜ ë°°ì—´" scheme="http://homoefficio.github.io/tags/%EB%A1%9C%EC%BB%AC-%EB%B3%80%EC%88%98-%EB%B0%B0%EC%97%B4/"/>
    
      <category term="ì˜¤í¼ëœë“œ ìŠ¤íƒ" scheme="http://homoefficio.github.io/tags/%EC%98%A4%ED%8D%BC%EB%9E%9C%EB%93%9C-%EC%8A%A4%ED%83%9D/"/>
    
      <category term="ëŸ°íƒ€ì„ ìƒìˆ˜ í’€" scheme="http://homoefficio.github.io/tags/%EB%9F%B0%ED%83%80%EC%9E%84-%EC%83%81%EC%88%98-%ED%92%80/"/>
    
      <category term="ë§í¬" scheme="http://homoefficio.github.io/tags/%EB%A7%81%ED%81%AC/"/>
    
      <category term="í™•ì¸" scheme="http://homoefficio.github.io/tags/%ED%99%95%EC%9D%B8/"/>
    
      <category term="ì¤€ë¹„" scheme="http://homoefficio.github.io/tags/%EC%A4%80%EB%B9%84/"/>
    
      <category term="ì´ˆê¸°í™”" scheme="http://homoefficio.github.io/tags/%EC%B4%88%EA%B8%B0%ED%99%94/"/>
    
      <category term="í•´ì„" scheme="http://homoefficio.github.io/tags/%ED%95%B4%EC%84%9D/"/>
    
  </entry>
  
  <entry>
    <title>Back to the Essence - Java ì»´íŒŒì¼ì—ì„œ ì‹¤í–‰ê¹Œì§€ - (1)</title>
    <link href="http://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80-1/"/>
    <id>http://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-1/</id>
    <published>2019-01-30T15:00:57.000Z</published>
    <updated>2019-11-23T05:32:24.199Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-1"><a href="#Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-1" class="headerlink" title="Back to the Essence - Java ì»´íŒŒì¼ì—ì„œ ì‹¤í–‰ê¹Œì§€ - (1)"></a>Back to the Essence - Java ì»´íŒŒì¼ì—ì„œ ì‹¤í–‰ê¹Œì§€ - (1)</h1><p>Java 11 JVM ìŠ¤í™ì„ ê¸°ì¤€ìœ¼ë¡œ Java ì†ŒìŠ¤ ì½”ë“œê°€ ì–´ë–»ê²Œ ì»´íŒŒì¼ë˜ê³  ì‹¤í–‰ë˜ëŠ”ì§€ ì‚´ì§ ê¹Šê²Œ ì•Œì•„ë³´ì.</p><p>ì´ë²ˆì—” 1íƒ„ ì»´íŒŒì¼ í¸ì´ë‹¤. 2íƒ„ ì‹¤í–‰ í¸ì€ <a href="https://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-2/">ì—¬ê¸°</a>ì—..</p><h1 id="ì»´íŒŒì¼"><a href="#ì»´íŒŒì¼" class="headerlink" title="ì»´íŒŒì¼"></a>ì»´íŒŒì¼</h1><p>ì „í†µì ìœ¼ë¡œ ì»´íŒŒì¼ì´ë¼ê³  í•˜ë©´ ì–´ë–¤ ì–¸ì–´ë¡œ ëœ ì†ŒìŠ¤ ì½”ë“œë¥¼ ê¸°ê³„ê°€ ì¸ì‹í•  ìˆ˜ ìˆëŠ” ë„¤ì´í‹°ë¸Œ ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•˜ì§€ë§Œ, ìë°”ì—ì„œì˜ ì»´íŒŒì¼ì€ ìë°” ì–¸ì–´ë¡œ ëœ ì½”ë“œë¥¼ JVMì´ ì¸ì‹í•  ìˆ˜ ìˆëŠ” JVM ëª…ë ¹ì–´ ì½”ë“œ(ë°”ì´íŠ¸ì½”ë“œ)ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.<br>ë“œë¬¼ì§€ë§Œ ìë°”ì—ì„œì˜ ì»´íŒŒì¼ë„ ì¼ë°˜ì ì¸ ì˜ë¯¸ì˜ ì»´íŒŒì¼ì²˜ëŸ¼ ê¸°ê³„ê°€ ì¸ì‹í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•  ë•Œë„ ìˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œ JIT ì»´íŒŒì¼ëŸ¬ê°€ í•˜ëŠ” ì»´íŒŒì¼ì€ ë°”ì´íŠ¸ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°”ì´íŠ¸ì½”ë“œë¥¼ ë„¤ì´í‹°ë¸Œ ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.</p><h2 id="ì‹¤í–‰-íŒŒì¼-ìƒì„±-ê³¼ì •"><a href="#ì‹¤í–‰-íŒŒì¼-ìƒì„±-ê³¼ì •" class="headerlink" title="ì‹¤í–‰ íŒŒì¼ ìƒì„± ê³¼ì •"></a>ì‹¤í–‰ íŒŒì¼ ìƒì„± ê³¼ì •</h2><p>ìë°” ì†ŒìŠ¤ ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ëŠ” ê³¼ì •ì´ ëª‡ ë‹¨ê³„ë¡œ êµ¬ì„±ë˜ëŠ”ì§€ êµ¬ì²´ì ìœ¼ë¡œ ìŠ¤í™ì— ê·œì •ë˜ì–´ ìˆì§€ëŠ” ì•Šë‹¤. ì°¸ê³ ë¡œ Cë¡œ ì‘ì„±ëœ ì½”ë“œë¡œë¶€í„° ì‹¤í–‰ íŒŒì¼ì„ ë§Œë“œëŠ” ê³¼ì •ì€ ë³´í†µ ë‹¤ìŒê³¼ ê°™ì´ 4 ë‹¨ê³„ë¡œ êµ¬ë¶„í•œë‹¤.</p><ol><li>ì „ì²˜ë¦¬(Pre-processing)<ul><li>ì£¼ì„ ì œê±°</li><li>ë§¤í¬ë¡œ ì¸ë¼ì¸í™”</li><li>include íŒŒì¼ ì¸ë¼ì¸í™”</li></ul></li><li>ì»´íŒŒì¼(Compiling)<ul><li>ì»´íŒŒì¼ëŸ¬ê°€ ì „ì²˜ë¦¬ ê³¼ì •ì„ ê±°ì¹œ C ì†ŒìŠ¤ ì½”ë“œë¥¼ ì»´íŒŒì¼í•´ì„œ ì–´ì…ˆë¸”ë¦¬ì–´ ì½”ë“œë¡œ ë³€í™˜</li></ul></li><li>ì–´ì…ˆë¸”ë¦¬(Assembly)<ul><li>ì–´ì…ˆë¸”ëŸ¬ê°€ ì–´ì…ˆë¸”ë¦¬ì–´ ì½”ë“œë¥¼ ê¸°ê³„ì–´ ì½”ë“œë¡œ ë³€í™˜</li></ul></li><li>ë§í¬(Linking)<ul><li>ë§ì»¤ê°€ ê¸°ê³„ì–´ ì½”ë“œì™€ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“± ë‹¤ë¥¸ ì½”ë“œë¥¼ í•©ì³ì„œ ìµœì¢… ì‹¤í–‰ íŒŒì¼ ìƒì„±</li></ul></li></ol><p>(ì°¸ê³ : <a href="https://www.geeksforgeeks.org/compiling-a-c-program-behind-the-scenes/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/compiling-a-c-program-behind-the-scenes/</a>)</p><p>ì»´íŒŒì¼ê³¼ ì–´ì…ˆë¸”ë¦¬ ë‹¨ê³„ë¥¼ ê·¸ëƒ¥ ì»´íŒŒì¼ ë‹¨ê³„ í•˜ë‚˜ë¡œ í•©ì³ì„œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê·¸ë¦¼ìœ¼ë¡œ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.</p><ol><li><p>ì „ì²˜ë¦¬</p><p> <img src="https://i.imgur.com/6Gixn4m.png" alt="Imgur"></p></li><li><p>ì»´íŒŒì¼</p><p> <img src="https://i.imgur.com/XgKJv8x.png" alt="Imgur"></p></li><li><p>ë§í¬</p><p> <img src="https://i.imgur.com/bjruQVw.png" alt="Imgur"></p></li></ol><p>(ê·¸ë¦¼ ì°¸ê³ : <a href="https://www.sitesbay.com/cprogramming/c-compile-link-program" target="_blank" rel="noopener">https://www.sitesbay.com/cprogramming/c-compile-link-program</a>)</p><p>ì°¸ê³ ë¡œ ì¤‘ìš”í•˜ì§„ ì•Šì§€ë§Œ ìë°”ëŠ” ì „ì²˜ë¦¬ ê³¼ì •ì—ì„œ ì£¼ì„ì´ ìˆë˜ í–‰ ìì²´ê°€ ì œê±°ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë°”ì´íŠ¸ì½”ë“œ ë‚´ìš© ì¤‘ì— ìë°” ì†ŒìŠ¤ ì½”ë“œì˜ í–‰ ë²ˆí˜¸ì™€ ë°”ì´íŠ¸ì½”ë“œ ëª…ë ¹ì–´ì˜ ìœ„ì¹˜ë¥¼ ë§¤í•‘í•´ì£¼ëŠ” ë¶€ë¶„ì´ ìˆëŠ”ë° ì´ ë•Œ í‘œì‹œë˜ëŠ” ìë°” ì†ŒìŠ¤ ì½”ë“œ í–‰ ë²ˆí˜¸ëŠ” ì£¼ì„ì´ ìˆë˜ í–‰ì´ ì œê±°ë˜ì§€ ì•Šì€ ìƒíƒœ ê¸°ì¤€ì˜ í–‰ ë²ˆí˜¸ê°€ í‘œì‹œëœë‹¤.</p><p>ìë°”ëŠ” ì»´íŒŒì¼ ê²°ê³¼ë¡œ ë‚˜ì˜¨ ë°”ì´íŠ¸ì½”ë“œê°€ JVMì— ì˜í•´ ì‹¤í–‰ë˜ë©´ì„œ ë„¤ì´í‹°ë¸Œ ê¸°ê³„ì–´ ì½”ë“œë¡œ ë³€í™˜ë˜ë¯€ë¡œ, í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì „ì— ë„¤ì´í‹°ë¸Œ ê¸°ê³„ì–´ ì½”ë“œë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ì–´ì…ˆë¸”ë¦¬ ë‹¨ê³„ê°€ ì—†ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ë§í¬ ë‹¨ê³„ë„ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì „ì— ìˆ˜í–‰ë˜ì§€ ì•Šê³  JVMì— ì˜í•´ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë  ë•Œ ë™ì ìœ¼ë¡œ ìˆ˜í–‰ëœë‹¤.</p><p>ë”°ë¼ì„œ ìë°”ì˜ ì»´íŒŒì¼ ì ˆì°¨ëŠ” ì•„ì£¼ ë‹¨ìˆœí•˜ë‹¤. ê·¸ë¦¼ì¡°ì°¨ë„ ê·¸ë¦´ í•„ìš” ì—†ê³  ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ìë°” ì†ŒìŠ¤ ì½”ë“œ íŒŒì¼(.java) -&gt; javac ì»´íŒŒì¼ëŸ¬ -&gt; JVM ë°”ì´íŠ¸ì½”ë“œ(.class)</span><br></pre></td></tr></table></figure><p>ì•ì—ì„œ ë‚˜ì˜¨ C ì»´íŒŒì¼ ê³¼ì • ê·¸ë¦¼ì—ì„œ ì‚´í´ë³¸ ê²ƒì²˜ëŸ¼ ì»´íŒŒì¼ê³¼ ì–´ì…ˆë¸”ë¦¬ ê³¼ì •ì„ í•˜ë‚˜ë¡œ ë­‰ì³ì„œ ì»´íŒŒì¼ì´ë¼ê³  í•˜ê¸°ë„ í•œë‹¤. ì•„ë˜ì—ì„œ ì‚´í´ë³¼ ì¼ë°˜ì ì¸ ì»´íŒŒì¼ ì„¸ë¶€ ë‹¨ê³„ëŠ” ì»´íŒŒì¼ê³¼ ì–´ì…ˆë¸”ë¦¬ ê³¼ì •ì„ í•˜ë‚˜ë¡œ ë­‰ì¹œ ê°œë…ì´ë‹¤.</p><h2 id="ì»´íŒŒì¼-ì„¸ë¶€-ë‹¨ê³„"><a href="#ì»´íŒŒì¼-ì„¸ë¶€-ë‹¨ê³„" class="headerlink" title="ì»´íŒŒì¼ ì„¸ë¶€ ë‹¨ê³„"></a>ì»´íŒŒì¼ ì„¸ë¶€ ë‹¨ê³„</h2><h3 id="1-Lexical-Analysis-ì–´íœ˜-ë¶„ì„"><a href="#1-Lexical-Analysis-ì–´íœ˜-ë¶„ì„" class="headerlink" title="1. Lexical Analysis(ì–´íœ˜ ë¶„ì„)"></a>1. Lexical Analysis(ì–´íœ˜ ë¶„ì„)</h3><p>Lexical Analyzer(Lexer ë˜ëŠ” Tokenizerë¼ê³ ë„ í•œë‹¤)ê°€ ì†ŒìŠ¤ ì½”ë“œì—ì„œ ë¬¸ì ë‹¨ìœ„ë¡œ ì½ì–´ì„œ ì–´íœ˜ì†Œ(lexeme)ë¥¼ ì‹ë³„í•˜ê³  ì–´íœ˜ì†Œë¥¼ ì„¤ëª…í•˜ëŠ” í† í° ìŠ¤íŠ¸ë¦¼(Token Stream)ì„ ìƒì„±í•œë‹¤.</p><p>ì–´íœ˜ì†ŒëŠ” ì‹ë³„ê°€ëŠ¥í•œ ë¬¸ì ì‹œí€€ìŠ¤ì¸ë° ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì„ í†µì¹­í•œë‹¤.</p><ul><li>í‚¤ì›Œë“œ(keywords): <code>public</code>, <code>class</code>, <code>main</code>, <code>for</code> ë“±</li><li>ë¦¬í„°ëŸ´(literals): <code>1L</code>, <code>2.3f</code>, <code>&quot;Hello&quot;</code> ë“±</li><li>ì‹ë³„ì(identifiers): ë³€ìˆ˜ ì´ë¦„, ìƒìˆ˜ ì´ë¦„, í•¨ìˆ˜ ì´ë¦„ ë“±</li><li>ì—°ì‚°ì(operators): <code>+</code>, <code>-</code> ë“±</li><li>êµ¬ë¶„ ë¬¸ì(punctuation characters): <code>,</code>, <code>[]</code>, <code>{}</code>, <code>()</code> ë“±</li></ul><p>í† í°(Token)ì€ íƒ€ì…(í‚¤ì›Œë“œ, ë¦¬í„°ëŸ´, ì‹ë³„ì ë“±)ê³¼ ê°’(<code>public</code>, <code>1L</code>, <code>main</code> ë“±)ìœ¼ë¡œ êµ¬ì„±ë˜ë©° ì–´íœ˜ì†Œë¥¼ ì„¤ëª…í•˜ëŠ” ê°ì²´ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.</p><p>ì‹ë³„ì í† í°ì€ ì–´íœ˜ ë¶„ì„ ë‹¨ê³„ì—ì„œ ì‹¬ë³¼ í…Œì´ë¸”ì— ì €ì¥ë˜ê³  ì´í›„ ë‹¨ê³„ì—ì„œ ê³„ì† ì‚¬ìš©ëœë‹¤.</p><h3 id="2-Syntax-Analysis-êµ¬ë¬¸-ë¶„ì„"><a href="#2-Syntax-Analysis-êµ¬ë¬¸-ë¶„ì„" class="headerlink" title="2. Syntax Analysis(êµ¬ë¬¸ ë¶„ì„)"></a>2. Syntax Analysis(êµ¬ë¬¸ ë¶„ì„)</h3><p>Syntax Analyzer(êµ¬ë¬¸ ë¶„ì„ê¸°, íŒŒì„œ(Parser)ë¼ê³ ë„ í•œë‹¤)ê°€ ì–´íœ˜ ë¶„ì„ ê²°ê³¼ë¡œ ë‚˜ì˜¨ í† í° ìŠ¤íŠ¸ë¦¼ì´ ì–¸ì–´ì˜ ìŠ¤í™ìœ¼ë¡œ ì •í•´ì§„ ë¬¸ë²• í˜•ì‹ì— ë§ëŠ”ì§€ ê²€ì‚¬í•´ì„œ, ë§ì§€ ì•Šìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ë‚´ê³ , ë§ìœ¼ë©´ íŒŒìŠ¤ íŠ¸ë¦¬(Parse Tree)ë¥¼ ìƒì„±í•œë‹¤(êµ¬ë¬¸ ë¶„ì„ ë‹¨ê³„ì˜ ê²°ê³¼ë¡œ ë‚˜ì˜¤ëŠ” íŒŒìŠ¤ íŠ¸ë¦¬ë¥¼ ì¶”ìƒ êµ¬ë¬¸ íŠ¸ë¦¬(Abstract Syntax Tree)ë¼ê³  ë¶€ë¥´ëŠ” ìë£Œë„ ìˆë‹¤).</p><p>ì–´íœ˜ ë¶„ì„ê³¼ êµ¬ë¬¸ ë¶„ì„ ê³¼ì •ì„ ê·¸ë¦¼ìœ¼ë¡œ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src="https://i.imgur.com/ynDWnl2.gif" alt="Imgur"></p><p>(ê·¸ë¦¼ ì¶œì²˜: <a href="https://en.wikipedia.org/wiki/Compiler" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Compiler</a>)</p><p>ìœ„ ê·¸ë¦¼ì—ì„œ Parser ì•„ë˜ì— ìˆëŠ” íŠ¸ë¦¬ê°€ íŒŒìŠ¤ íŠ¸ë¦¬ë‹¤.</p><h3 id="3-Symantic-Analysis-ì˜ë¯¸-ë¶„ì„"><a href="#3-Symantic-Analysis-ì˜ë¯¸-ë¶„ì„" class="headerlink" title="3. Symantic Analysis(ì˜ë¯¸ ë¶„ì„)"></a>3. Symantic Analysis(ì˜ë¯¸ ë¶„ì„)</h3><p>ì˜ë¯¸ ë¶„ì„ ë‹¨ê³„ì—ì„œëŠ” íƒ€ì… ê²€ì‚¬, ìë™ íƒ€ì… ë³€í™˜ ë“±ì´ ìˆ˜í–‰ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œëŠ” êµ¬ë¬¸ ë¶„ì„ ë‹¨ê³„ì—ì„œëŠ” ì—ëŸ¬ê°€ ë‚˜ì§€ ì•Šì§€ë§Œ, ì˜ë¯¸ ë¶„ì„ ë‹¨ê³„ì—ì„œëŠ” íƒ€ì… ê²€ì‚¬ê°€ ìˆ˜í–‰ë˜ë©´ì„œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int a = &quot;Hello&quot;;</span><br></pre></td></tr></table></figure><p>ì˜ë¯¸ ë¶„ì„ ë‹¨ê³„ë¥¼ ê±°ì¹˜ë©´ì„œ íŒŒìŠ¤ íŠ¸ë¦¬ì— íƒ€ì… ê´€ë ¨ ì •ë³´ ë“±ì´ ì¶”ê°€ëœë‹¤.</p><h3 id="4-Intermediate-Code-Generation-ì¤‘ê°„-ì½”ë“œ-ìƒì„±"><a href="#4-Intermediate-Code-Generation-ì¤‘ê°„-ì½”ë“œ-ìƒì„±" class="headerlink" title="4. Intermediate Code Generation(ì¤‘ê°„ ì½”ë“œ ìƒì„±)"></a>4. Intermediate Code Generation(ì¤‘ê°„ ì½”ë“œ ìƒì„±)</h3><p>ì˜ë¯¸ ë¶„ì„ ë‹¨ê³„ë¥¼ í†µê³¼í•œ íŒŒìŠ¤ íŠ¸ë¦¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê¸°ê³„ì–´ë¡œ ë³€í™˜í•˜ê¸° ì¢‹ì€ í˜•íƒœì˜ ì¤‘ê°„ ì–¸ì–´ë¡œ ëœ ì¤‘ê°„ ì½”ë“œë¥¼ ìƒì„±í•œë‹¤. ì¤‘ê°„ ì½”ë“œë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ì¤‘ê°„ ì–¸ì–´ê°€ ì—†ì„ ë•Œì˜ ë¬¸ì œì ì„ ê·¸ë¦¼ìœ¼ë¡œ ë³´ë©´ ê¸ˆë°© ì´í•´ê°€ ëœë‹¤.</p><p><img src="https://i.imgur.com/wROkyp1.jpg" alt="Imgur"></p><p>(ê·¸ë¦¼ ì¶œì²˜: <a href="https://www.slideshare.net/RamchandraRegmi/intermediate-code-generationramchandra-regmi" target="_blank" rel="noopener">https://www.slideshare.net/RamchandraRegmi/intermediate-code-generationramchandra-regmi</a>)</p><p>í•œ ë§ˆë””ë¡œ ì¤‘ê°„ ë‹¨ê³„ë¥¼ í•˜ë‚˜ ë‘¬ì„œ ê°„ì ‘í™”ë¥¼ í†µí•´ ê²½ìš°ì˜ ìˆ˜ë¥¼ ë‚®ì¶”ê³  íš¨ìœ¨ì„ ë†’ì´ê¸° ìœ„í•´ ì¤‘ê°„ ì½”ë“œë¥¼ ìƒì„±í•œë‹¤.</p><p>ìë°”ì˜ ë°”ì´íŠ¸ì½”ë“œê°€ ë°”ë¡œ ì´ ì¤‘ê°„ ì½”ë“œì— í•´ë‹¹í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ìœ„ ê·¸ë¦¼ì—ì„œ 4ê°œì˜ ì–¸ì–´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë„¤ëª¨ë¥¼ ê°ê° ìë°”, í´ë¡œì €(Clojure), ìŠ¤ì¹¼ë¼, ì½”í‹€ë¦°ì´ë¼ê³  í•˜ê³ , ë…¹ìƒ‰ ë„¤ëª¨ë¥¼ ë°”ì´íŠ¸ì½”ë“œë¼ê³  ìƒê°í•˜ë©´ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.</p><p>ì–´íœ˜ ë¶„ì„ì—ì„œ ë§Œë“¤ì–´ì ¸ì„œ, êµ¬ë¬¸ ë¶„ì„, ì˜ë¯¸ ë¶„ì„ ê³¼ì •ì„ ê±°ì¹˜ë©° ë‹¤ë“¬ì–´ì§„ ì‹¬ë³¼ í…Œì´ë¸”ì€ ì¤‘ê°„ ì½”ë“œì¸ ë°”ì´íŠ¸ì½”ë“œ ìƒì„± ë‹¨ê³„ì—ì„œ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ë³„ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.4" target="_blank" rel="noopener">ìƒìˆ˜ í’€(Constant Pool)</a>ì„ ë§Œë“œëŠ” ë° ì‚¬ìš©ëœë‹¤. </p><p>ìƒìˆ˜ í’€ ì•ˆì— ë‹´ê²¨ ìˆëŠ” ëŒ€ë¶€ë¶„ì˜ ìë£Œêµ¬ì¡°ëŠ” ì´ë¦„, ì„¤ëª…ì(descriptor), ê°’ ë“± í…Œì´ë¸”ì— ì •ì ìœ¼ë¡œ ì €ì¥ëœ ì •ë³´ë¥¼ ì¡°í•©í•´ì„œ ì—”í‹°í‹°ë¥¼ ì§ì ‘ í‘œí˜„í•˜ì§€ë§Œ, <code>CONSTANT_Dynamic_info</code>, <code>CONSTANT_InvokeDynamic_info</code>ë¡œ í‘œí˜„ë˜ëŠ” ìë£Œêµ¬ì¡°ëŠ” ëŸ°íƒ€ì„ì— ì •í•´ì§€ëŠ” ë™ì ì¸ ì—”í‹°í‹°ë¥¼ ê°„ì ‘ì ìœ¼ë¡œ í‘œí˜„í•œë‹¤.(ì°¸ê³ : <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.4.10" target="_blank" rel="noopener">https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.4.10</a>)</p><p>ìƒìˆ˜ í’€ì— ì €ì¥ëœ ì •ë³´ëŠ” í•´ë‹¹ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ê°€ ì‹¤ì œ ìƒì„±ë  ë•Œ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.1" target="_blank" rel="noopener">ëŸ°íƒ€ì„ ìƒìˆ˜ í’€(Run-Time Constant Pool)</a>ì„ êµ¬ì„±í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.</p><h3 id="5-Code-Optimization-ì¤‘ê°„-ì½”ë“œ-ìµœì í™”"><a href="#5-Code-Optimization-ì¤‘ê°„-ì½”ë“œ-ìµœì í™”" class="headerlink" title="5. Code Optimization(ì¤‘ê°„ ì½”ë“œ ìµœì í™”)"></a>5. Code Optimization(ì¤‘ê°„ ì½”ë“œ ìµœì í™”)</h3><p>ë§ ê·¸ëŒ€ë¡œ ì¤‘ê°„ ì½”ë“œê°€ ë” íš¨ìœ¨ì ì¸ ê¸°ê³„ì–´ë¡œ ë³€í™˜ë˜ë„ë¡ ìµœì í™”í•˜ëŠ” ê³¼ì •ì´ ìˆ˜í–‰ëœë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ë§¤ìš° ë‹¤ì–‘í•œ ìµœì í™” ê¸°ë²•ì´ ì‚¬ìš©ëœë‹¤.</p><h4 id="í•í™€-Peephole-ìµœì í™”"><a href="#í•í™€-Peephole-ìµœì í™”" class="headerlink" title="í•í™€(Peephole) ìµœì í™”"></a>í•í™€(Peephole) ìµœì í™”</h4><ul><li>ì¤‘ë³µ ëª…ë ¹ì–´ ì œê±°</li><li>ë„ë‹¬ ë¶ˆê°€ëŠ¥í•œ ì½”ë“œ ì œê±°</li><li>ì œì–´ íë¦„ ìµœì í™”</li><li>ë¹„ìš© ë‚®ì€ ì—°ì‚°ìë¡œ ë³€í™˜ ë“±</li></ul><h4 id="ì§€ì—­-ìµœì í™”"><a href="#ì§€ì—­-ìµœì í™”" class="headerlink" title="ì§€ì—­ ìµœì í™”"></a>ì§€ì—­ ìµœì í™”</h4><ul><li>ì§€ì—­ ê³µí†µ ë¶€ë¶„ì‹ ì œê±°</li><li>ë³µì‚¬ ì „íŒŒ</li><li>ìƒìˆ˜ í´ë”© ë“±</li></ul><h4 id="ë£¨í”„-ìµœì í™”"><a href="#ë£¨í”„-ìµœì í™”" class="headerlink" title="ë£¨í”„ ìµœì í™”"></a>ë£¨í”„ ìµœì í™”</h4><ul><li>ì½”ë“œ ì´ë™</li><li>ê·€ë‚© ë³€ìˆ˜ ìµœì í™”</li><li>ë£¨í”„ ìœµí•©/êµí™˜/ì „ê°œ ë“±</li></ul><h4 id="ì „ì—­-ìµœì í™”"><a href="#ì „ì—­-ìµœì í™”" class="headerlink" title="ì „ì—­ ìµœì í™”"></a>ì „ì—­ ìµœì í™”</h4><ul><li>ì „ì—­ ê³µí†µ ë¶€ë¶„ì‹ ì œê±°</li><li>ìƒìˆ˜ í´ë”© ë“±</li></ul><p>ì´ ì™¸ì—ë„ ë‹¤ì–‘í•œ ìµœì í™” ê¸°ë²•ì´ ì‚¬ìš©ë˜ëŠ”ë°, ì‰½ê²Œ ê°ì´ ì˜¤ëŠ” ë£¨í”„ ìµœì í™”ì˜ ì½”ë“œ ì´ë™ë§Œ í™•ì¸í•´ë³´ì. ì‹¤ì œë¡œ ìµœì í™”ë˜ëŠ” ê²ƒì€ ë°”ì´íŠ¸ì½”ë“œì§€ë§Œ ë³´ê¸° í¸í•˜ê²Œ ìë°” ì½”ë“œë¡œ í‘œí˜„í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">100000</span> ; i++) &#123;</span><br><span class="line">    c[k] = <span class="number">2</span> * (p - q) * (n - k + <span class="number">1</span>) / (sqrt(n) + n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iì™€ ê´€ê³„ ì—†ì´ ê°’ì´ ê³ ì •ë˜ì–´ ìˆëŠ” ì‹ì„ ë°˜ë³µë¬¸ ë°–ìœ¼ë¡œ ì˜®ê²¨ì„œ ë¶ˆí•„ìš”í•œ ê³„ì‚° ë°˜ë³µì„ ì œê±°</span></span><br><span class="line"></span><br><span class="line">factor = <span class="number">2</span> * (p - q);</span><br><span class="line">denominator = (sqrt(n) + n);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">100000</span> ; i++) &#123;</span><br><span class="line">    c[k] = factor * (n - k + <span class="number">1</span>) / denominator;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(ì°¸ê³ : ì»´íŒŒì¼ëŸ¬ì˜ ì´í•´ - <a href="http://www.hanbit.co.kr/store/books/look.php?p_code=B4565472056" target="_blank" rel="noopener">http://www.hanbit.co.kr/store/books/look.php?p_code=B4565472056</a>)</p><h2 id="ì»´íŒŒì¼-ê³¼ì •-ì •ë¦¬"><a href="#ì»´íŒŒì¼-ê³¼ì •-ì •ë¦¬" class="headerlink" title="ì»´íŒŒì¼ ê³¼ì • ì •ë¦¬"></a>ì»´íŒŒì¼ ê³¼ì • ì •ë¦¬</h2><p>ìë°”ì˜ ì»´íŒŒì¼ ê³¼ì •ì€ ì—¬ê¸°ê¹Œì§€ë‹¤. ìë°”ì˜ ì»´íŒŒì¼ ê³¼ì •ì„ í•œ ë§ˆë””ë¡œ ìš”ì•½í•˜ë©´ <strong>ìë°” ì½”ë“œë¥¼ ìë°” ì–¸ì–´ ìŠ¤í™ì— ë”°ë¼ ë¶„ì„/ê²€ì¦í•˜ê³ , JVM ìŠ¤í™ì˜ class íŒŒì¼ êµ¬ì¡°ì— ë§ëŠ” ë°”ì´íŠ¸ì½”ë“œë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ê³¼ì •</strong> ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.</p><p>ë°”ì´íŠ¸ì½”ë“œëŠ” ë¡œë”©, ë§í¬ ê³¼ì •ì„ ê±°ì³ì•¼ í•˜ì§€ë§Œ ë¶„ëª…íˆ JVMì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ì½”ë“œë‹¤. ë”°ë¼ì„œ ê¼­ ìë°” ì–¸ì–´ ìŠ¤í™ì„ ë”°ë¥´ëŠ” ìë°”ê°€ ì•„ë‹ˆë¼ë„, JVM ìŠ¤í™ì˜ class íŒŒì¼ êµ¬ì¡°ì— ë§ëŠ” ë°”ì´íŠ¸ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆë‹¤ë©´ ì–´ë–¤ ì–¸ì–´ë“  JVMì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤. í´ë¡œì €(Clojure)ë‚˜ ìŠ¤ì¹¼ë¼, ì½”í‹€ë¦° ë“±ì´ JVMì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ì´ìœ ê°€ ë°”ë¡œ ì—¬ê¸°ì— ìˆë‹¤.</p><p>ìë°” ì½”ë“œì˜ ë³€ìˆ˜, ìƒìˆ˜, ì œì–´ë¬¸, ì—°ì‚°, ì¸ì, ë©”ì„œë“œ í˜¸ì¶œ, ë°°ì—´, switchë¬¸, ì˜ˆì™¸ ì²˜ë¦¬, finally, synchronization, ì• ë„ˆí…Œì´ì…˜, ëª¨ë“ˆ(Java 9 ì´í›„) ë“±ì´ ë°”ì´íŠ¸ì½”ë“œë¡œ ì–´ë–»ê²Œ ë³€í™˜ë˜ëŠ”ì§€ëŠ” <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-3.html" target="_blank" rel="noopener">JVM ìŠ¤í™ì˜ 3ì¥</a>ì— ë‚˜ì˜¤ëŠ” ì˜ˆì‹œë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p>ê·¸ëƒ¥ ì§€ë‚˜ì¹˜ë©´ í—ˆì „í•˜ë‹ˆ ê°„ë‹¨í•œ ìë°” íŒŒì¼ê³¼ ì»´íŒŒì¼ ëœ ë°”ì´íŠ¸ì½”ë“œë¥¼ í•œ ë²ˆ ì‚´í´ë³´ì.</p><h2 id="ë°”ì´íŠ¸ì½”ë“œ-êµ¬ê²½í•˜ê¸°"><a href="#ë°”ì´íŠ¸ì½”ë“œ-êµ¬ê²½í•˜ê¸°" class="headerlink" title="ë°”ì´íŠ¸ì½”ë“œ êµ¬ê²½í•˜ê¸°"></a>ë°”ì´íŠ¸ì½”ë“œ êµ¬ê²½í•˜ê¸°</h2><p>ê·¸ëƒ¥ í—¬ë¡œì›”ë“œëŠ” ë„ˆë¬´ ë‹¨ìˆœí•˜ë‹ˆê¹Œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œ ì˜ˆì œë¥¼ ì‚´í´ë³´ì. main ë©”ì„œë“œë¥¼ ê°€ì§„ <code>GreetingMain</code> í´ë˜ìŠ¤ê°€ <code>Greeting</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” <code>KoreanGreeting</code> í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆì œë‹¤.</p><p>ë¨¼ì € ì¸í„°í˜ì´ìŠ¤ì¸ <code>Greeting</code>ë¶€í„° ì‚´í´ë³´ì.</p><h3 id="Greeting"><a href="#Greeting" class="headerlink" title="Greeting"></a>Greeting</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> homo.efficio.jvm.sample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Greeting</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">sayHello</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ë©”ì„œë“œ í•˜ë‚˜ë¥¼ ê°€ì§€ê³  ìˆëŠ” ì•„ì£¼ ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤ë‹¤. ì»´íŒŒì¼ í•œ í›„ì— ë‹¤ìŒê³¼ ê°™ì´ <code>javap</code> ëª…ë ¹ìœ¼ë¡œ ë°”ì´íŠ¸ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. <code>javap</code>ëŠ” ë°”ì´ë„ˆë¦¬ì¸ ë°”ì´íŠ¸ì½”ë“œ .class íŒŒì¼ì„ í…ìŠ¤íŠ¸ë¡œ ë³´ì—¬ì£¼ëŠ” ì¼ì¢…ì˜ ì—­ì–´ì…ˆë¸”ëŸ¬ í”„ë¡œê·¸ë¨ì´ë‹¤.</p><blockquote><p>javap -v -l -p homo/efficio/jvm/sample/Greeting.class</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Classfile /C:/gitrepo/scratchpad/plain-java-scratchpad/out/production/classes/homo/efficio/jvm/sample/Greeting.class</span><br><span class="line">  Last modified 2019. 1. 13.; size 181 bytes</span><br><span class="line">  MD5 checksum 8f7ae541e0a64f511d820930f739d4ac</span><br><span class="line">  Compiled from &quot;Greeting.java&quot;</span><br><span class="line">public interface homo.efficio.jvm.sample.Greeting</span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 53</span><br><span class="line">  flags: (0x0601) ACC_PUBLIC, ACC_INTERFACE, ACC_ABSTRACT</span><br><span class="line">  this_class: #1                          // homo/efficio/jvm/sample/Greeting</span><br><span class="line">  super_class: #2                         // java/lang/Object</span><br><span class="line">  interfaces: 0, fields: 0, methods: 1, attributes: 1</span><br><span class="line">Constant pool:</span><br><span class="line">  #1 = Class              #7              // homo/efficio/jvm/sample/Greeting</span><br><span class="line">  #2 = Class              #8              // java/lang/Object</span><br><span class="line">  #3 = Utf8               sayHello</span><br><span class="line">  #4 = Utf8               (Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">  #5 = Utf8               SourceFile</span><br><span class="line">  #6 = Utf8               Greeting.java</span><br><span class="line">  #7 = Utf8               homo/efficio/jvm/sample/Greeting</span><br><span class="line">  #8 = Utf8               java/lang/Object</span><br><span class="line">&#123;</span><br><span class="line">  public abstract java.lang.String sayHello(java.lang.String);</span><br><span class="line">    descriptor: (Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">    flags: (0x0401) ACC_PUBLIC, ACC_ABSTRACT</span><br><span class="line">&#125;</span><br><span class="line">SourceFile: &quot;Greeting.java&quot;</span><br></pre></td></tr></table></figure><p>ì¸í„°í˜ì´ìŠ¤ì˜ ë°”ì´íŠ¸ì½”ë“œëŠ” Classfile, public interface â€¦, Constant pool, { ë°”ì´íŠ¸ì½”ë“œ }, SourceFile ì´ë ‡ê²Œ í¬ê²Œ 5ê°€ì§€ í•­ëª©ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ í‘œì‹œëœë‹¤.</p><p>ì»´íŒŒì¼ê³¼ ì‹¤í–‰ ê´€ì ì—ì„œ ì£¼ëª©í•´ì•¼í•  í•­ëª©ì€ ìƒìˆ˜ í’€(Constant pool)ê³¼ ì‹¤ì œ ì†ŒìŠ¤ ì½”ë“œë¡œë¶€í„° ë³€í™˜ëœ ë°”ì´íŠ¸ì½”ë“œ ë‚´ìš©ì´ë‹¤. </p><p>ìƒìˆ˜í’€ì—ëŠ” <code>Class</code>ì™€ <code>Utf8</code>ë¡œ ë¶„ë¥˜ë˜ëŠ” ê°’ë“¤ì´ í‘œì‹œë˜ì–´ ìˆë‹¤. ìƒìˆ˜ í’€ì— í¬í•¨ëœ ì •ë³´ëŠ” <code>#N</code>ì˜ í˜•ì‹ìœ¼ë¡œ ì¸ë±ìŠ¤ë˜ì–´ ìˆë‹¤. <code>Class</code>ëŠ” ë§ê·¸ëŒ€ë¡œ í´ë˜ìŠ¤ì„ì„ ë‚˜íƒ€ë‚´ê³  <code>Utf8</code>ì€ í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œ ë“±ì˜ ì´ë¦„ì„ ë‚˜íƒ€ë‚´ëŠ” ì‹ë³„ìë¥¼ UTF-8ë¡œ ì¸ì½”ë”© ëœ ê°’ìœ¼ë¡œ ë‚˜íƒ€ë‚´ê³  ìˆë‹¤. <code>Class</code>ë¡œ ë¶„ë¥˜ëœ í•­ëª©ì˜ ê°’ì€ <code>#7</code> ê°™ì´ ë‹¤ë¥¸ í•­ëª©ì„ ê°€ë¦¬í‚¤ëŠ” ì¼ì¢…ì˜ ì°¸ì¡°ë¡œ ë˜ì–´ ìˆê³ , ì°¸ì¡°ë¥¼ í†µí•´ ê°€ë¦¬í‚¤ëŠ” í•­ëª©ì˜ ê°’ì€ ì£¼ì„ìœ¼ë¡œ ë³‘ê¸°(<code>// homo/efficio/jvm/sample/Greeting</code>)ë˜ì–´ ìˆë‹¤.</p><p>ë°”ì´íŠ¸ì½”ë“œì—ëŠ” ì›ë˜ ìë°” ì†ŒìŠ¤ì—ëŠ” ì—†ë˜ <code>abstract</code>ë¼ëŠ” í‚¤ì›Œë“œê°€ ì¶”ê°€ë˜ì–´ í‘œì‹œë˜ì–´ ìˆë‹¤. sayHello ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„° ì •ë³´(<code>(Ljava/lang/String;)</code>) ì™€ ë°˜í™˜ íƒ€ì… ì •ë³´(<code>Ljava/lang/String;</code>)ê°€ descriptor í•­ëª©ì— í‘œì‹œë˜ê³ , ì ‘ê·¼ ì§€ì •ì(<code>ACC_PUBLIC</code>, <code>ACC_ABSTRACT</code>)ê°€ flags í•­ëª©ì— í‘œì‹œëœë‹¤. </p><p>ì•„ì£¼ ê°„ë‹¨í•´ì„œ ë°”ì´íŠ¸ì½”ë“œì˜ ìƒìˆ˜í’€ê³¼ ë°”ì´íŠ¸ì½”ë“œê°€ ì–´ë–¤ ì‹ìœ¼ë¡œ ê¸°ìˆ ë˜ëŠ”ì§€ ë¹„êµì  ì‰½ê²Œ ê°ì„ ì¡ì„ ìˆ˜ ìˆë‹¤. ë„ˆë¬´ ê°„ë‹¨í•´ì„œ ë°”ì´íŠ¸ì½”ë“œ ë‚´ìš©ì´ ë³„ë¡œ ì—†ê¸° ë•Œë¬¸ì—, ë°”ì´íŠ¸ì½”ë“œì— ëŒ€í•œ ì„¤ëª…ì€ êµ¬í˜„ í´ë˜ìŠ¤ì¸ <code>KoreanGreeting</code>ì—ì„œ ì‹¤ì œ ì½”ë“œì™€ í•¨ê»˜ ë‹¤ì‹œ ì‚´í´ë³¼ ê²ƒì´ë‹¤.</p><h3 id="KoreanGreeting"><a href="#KoreanGreeting" class="headerlink" title="KoreanGreeting"></a>KoreanGreeting</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> homo.efficio.jvm.sample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KoreanGreeting</span> <span class="keyword">implements</span> <span class="title">Greeting</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String hello = <span class="string">"ì•ˆë…• "</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getHello() + name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.hello;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Greeting</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ìˆê³ , <code>hello</code>ë¼ëŠ” í•„ë“œë¥¼ í•˜ë‚˜ ê°€ì§€ê³  ìˆëŠ” ë‹¨ìˆœí•œ í´ë˜ìŠ¤ë‹¤. <code>getHello()</code>ëŠ” ë©”ì„œë“œê°€ 2ê°œì¼ ë•ŒëŠ” ì–´ë–»ê²Œ í‘œì‹œë˜ëŠ”ì§€, ë‚´ë¶€ private ë©”ì„œë“œ í˜¸ì¶œì€ ì–´ë–»ê²Œ í‘œì‹œë˜ëŠ”ì§€ ë³´ê¸° ìœ„í•´ ì¼ë¶€ëŸ¬ ì¶”ê°€í–ˆë‹¤.</p><blockquote><p>javap -v -l -p homo/efficio/jvm/sample/KoreanGreeting.class</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line">Classfile /C:/gitrepo/scratchpad/plain-java-scratchpad/out/production/classes/homo/efficio/jvm/sample/KoreanGreeting.class</span><br><span class="line">  Last modified 2019. 1. 12.; size 1132 bytes</span><br><span class="line">  MD5 checksum d7ac2a6fd38c67407480720ca730d987</span><br><span class="line">  Compiled from &quot;KoreanGreeting.java&quot;</span><br><span class="line">public class homo.efficio.jvm.sample.KoreanGreeting implements homo.efficio.jvm.sample.Greeting</span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 53</span><br><span class="line">  flags: (0x0021) ACC_PUBLIC, ACC_SUPER</span><br><span class="line">  this_class: #6                          // homo/efficio/jvm/sample/KoreanGreeting</span><br><span class="line">  super_class: #7                         // java/lang/Object</span><br><span class="line">  interfaces: 1, fields: 1, methods: 3, attributes: 3</span><br><span class="line">Constant pool:</span><br><span class="line">   #1 = Methodref          #7.#25         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">   #2 = String             #26            // â–’?â–’</span><br><span class="line">   #3 = Fieldref           #6.#27         // homo/efficio/jvm/sample/KoreanGreeting.hello:Ljava/lang/String;</span><br><span class="line">   #4 = Methodref          #6.#28         // homo/efficio/jvm/sample/KoreanGreeting.getHello:()Ljava/lang/String;</span><br><span class="line">   #5 = InvokeDynamic      #0:#32         // #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">   #6 = Class              #33            // homo/efficio/jvm/sample/KoreanGreeting</span><br><span class="line">   #7 = Class              #34            // java/lang/Object</span><br><span class="line">   #8 = Class              #35            // homo/efficio/jvm/sample/Greeting</span><br><span class="line">   #9 = Utf8               hello</span><br><span class="line">  #10 = Utf8               Ljava/lang/String;</span><br><span class="line">  #11 = Utf8               &lt;init&gt;</span><br><span class="line">  #12 = Utf8               ()V</span><br><span class="line">  #13 = Utf8               Code</span><br><span class="line">  #14 = Utf8               LineNumberTable</span><br><span class="line">  #15 = Utf8               LocalVariableTable</span><br><span class="line">  #16 = Utf8               this</span><br><span class="line">  #17 = Utf8               Lhomo/efficio/jvm/sample/KoreanGreeting;</span><br><span class="line">  #18 = Utf8               sayHello</span><br><span class="line">  #19 = Utf8               (Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">  #20 = Utf8               name</span><br><span class="line">  #21 = Utf8               getHello</span><br><span class="line">  #22 = Utf8               ()Ljava/lang/String;</span><br><span class="line">  #23 = Utf8               SourceFile</span><br><span class="line">  #24 = Utf8               KoreanGreeting.java</span><br><span class="line">  #25 = NameAndType        #11:#12        // &quot;&lt;init&gt;&quot;:()V</span><br><span class="line">  #26 = Utf8               â–’?â–’</span><br><span class="line">  #27 = NameAndType        #9:#10         // hello:Ljava/lang/String;</span><br><span class="line">  #28 = NameAndType        #21:#22        // getHello:()Ljava/lang/String;</span><br><span class="line">  #29 = Utf8               BootstrapMethods</span><br><span class="line">  #30 = MethodHandle       6:#36          // REF_invokeStatic java/lang/invoke/StringConcatFactory.makeConcatWithConstants:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;</span><br><span class="line">  #31 = String             #37            // \u0001\u0001</span><br><span class="line">  #32 = NameAndType        #38:#39        // makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">  #33 = Utf8               homo/efficio/jvm/sample/KoreanGreeting</span><br><span class="line">  #34 = Utf8               java/lang/Object</span><br><span class="line">  #35 = Utf8               homo/efficio/jvm/sample/Greeting</span><br><span class="line">  #36 = Methodref          #40.#41        // java/lang/invoke/StringConcatFactory.makeConcatWithConstants:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;</span><br><span class="line">  #37 = Utf8               \u0001\u0001</span><br><span class="line">  #38 = Utf8               makeConcatWithConstants</span><br><span class="line">  #39 = Utf8               (Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">  #40 = Class              #42            // java/lang/invoke/StringConcatFactory</span><br><span class="line">  #41 = NameAndType        #38:#46        // makeConcatWithConstants:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;</span><br><span class="line">  #42 = Utf8               java/lang/invoke/StringConcatFactory</span><br><span class="line">  #43 = Class              #48            // java/lang/invoke/MethodHandles$Lookup</span><br><span class="line">  #44 = Utf8               Lookup</span><br><span class="line">  #45 = Utf8               InnerClasses</span><br><span class="line">  #46 = Utf8               (Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;</span><br><span class="line">  #47 = Class              #49            // java/lang/invoke/MethodHandles</span><br><span class="line">  #48 = Utf8               java/lang/invoke/MethodHandles$Lookup</span><br><span class="line">  #49 = Utf8               java/lang/invoke/MethodHandles</span><br><span class="line">&#123;</span><br><span class="line">  private java.lang.String hello;</span><br><span class="line">    descriptor: Ljava/lang/String;</span><br><span class="line">    flags: (0x0002) ACC_PRIVATE</span><br><span class="line"></span><br><span class="line">  public homo.efficio.jvm.sample.KoreanGreeting();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: (0x0001) ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=2, locals=1, args_size=1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         4: aload_0</span><br><span class="line">         5: ldc           #2                  // String â–’?â–’</span><br><span class="line">         7: putfield      #3                  // Field hello:Ljava/lang/String;</span><br><span class="line">        10: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 3: 0</span><br><span class="line">        line 5: 4</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0      11     0  this   Lhomo/efficio/jvm/sample/KoreanGreeting;</span><br><span class="line"></span><br><span class="line">  public java.lang.String sayHello(java.lang.String);</span><br><span class="line">    descriptor: (Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">    flags: (0x0001) ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=2, locals=2, args_size=2</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial #4                  // Method getHello:()Ljava/lang/String;</span><br><span class="line">         4: aload_1</span><br><span class="line">         5: invokedynamic #5,  0              // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">        10: areturn</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 9: 0</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0      11     0  this   Lhomo/efficio/jvm/sample/KoreanGreeting;</span><br><span class="line">            0      11     1  name   Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">  private java.lang.String getHello();</span><br><span class="line">    descriptor: ()Ljava/lang/String;</span><br><span class="line">    flags: (0x0002) ACC_PRIVATE</span><br><span class="line">    Code:</span><br><span class="line">      stack=1, locals=1, args_size=1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: getfield      #3                  // Field hello:Ljava/lang/String;</span><br><span class="line">         4: areturn</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 13: 0</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0       5     0  this   Lhomo/efficio/jvm/sample/KoreanGreeting;</span><br><span class="line">&#125;</span><br><span class="line">SourceFile: &quot;KoreanGreeting.java&quot;</span><br><span class="line">InnerClasses:</span><br><span class="line">  public static final #44= #43 of #47;    // Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandles</span><br><span class="line">BootstrapMethods:</span><br><span class="line">  0: #30 REF_invokeStatic java/lang/invoke/StringConcatFactory.makeConcatWithConstants:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;</span><br><span class="line">    Method arguments:</span><br><span class="line">      #31 \u0001\u0001</span><br></pre></td></tr></table></figure><p>ìë°” ì†ŒìŠ¤ ì½”ë“œ ìƒìœ¼ë¡œëŠ” <code>Greeting</code> ì¸í„°í˜ì´ìŠ¤ì™€ ëª‡ ì¤„ ì°¨ì´ ì•ˆ ë‚˜ëŠ”ë° ë°”ì´íŠ¸ì½”ë“œì˜ ì–‘ì€ í° ì°¨ì´ê°€ ë‚œë‹¤. ë°”ì´íŠ¸ì½”ë“œë¥¼ ë¶„ì„í•˜ëŠ” ê²ƒì´ ê¸€ì˜ ëª©ì ì´ ì•„ë‹ˆë¼ ì»´íŒŒì¼ì´ë¼ëŠ” í° ê³¼ì •ì„ ì‚´í´ë³´ë©´ì„œ ê²°ê³¼ë¬¼ì¸ ë°”ì´íŠ¸ì½”ë“œë„ ëˆˆìœ¼ë¡œ êµ¬ê²½í•´ë³´ìëŠ” ì·¨ì§€ì´ë¯€ë¡œ ê°œëµì ì¸ ìƒê¹€ìƒˆì™€ ê¸°ë³¸ì ì¸ ë‚´ìš©ë§Œ í›‘ì–´ë³´ì.</p><h4 id="ìƒìˆ˜-í’€"><a href="#ìƒìˆ˜-í’€" class="headerlink" title="ìƒìˆ˜ í’€"></a>ìƒìˆ˜ í’€</h4><p>ìƒìˆ˜ í’€ì—ëŠ” <code>Methodref</code>, <code>String</code>, <code>Fieldref</code>, <code>Methodref</code>, <code>InvokeDynamic</code>, <code>NameAndType</code>, <code>MethodHandle</code> ë“± ìƒˆë¡œìš´ ì¢…ë¥˜ì˜ ìƒìˆ˜ í•­ëª©ì´ ë‚˜ì˜¤ëŠ”ë°, ì´ë¦„ê³¼ ê°’ì„ ì¡°ê¸ˆ ì‚´í´ë³´ë©´ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ëŒ€ëµ ê°ì„ ì¡ì„ ìˆ˜ ìˆë‹¤. ì†ŒìŠ¤ ì½”ë“œ ìˆ˜ì¤€ì—ì„œ ì •ì ìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜, ìƒìˆ˜, ë©”ì„œë“œ ë“±ì˜ ì¼ëŒí‘œë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.</p><p>ìƒìˆ˜ í’€ì— ì €ì¥ë˜ëŠ” ìƒìˆ˜ í•­ëª©ì˜ ì¢…ë¥˜ëŠ” ì´ 17ê°œì´ë©°, ìì„¸í•œ ë‚´ìš©ì€ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.4" target="_blank" rel="noopener">JVM ìŠ¤í™</a>ì„ ì°¸ê³ í•œë‹¤.</p><h4 id="ë°”ì´íŠ¸ì½”ë“œ"><a href="#ë°”ì´íŠ¸ì½”ë“œ" class="headerlink" title="ë°”ì´íŠ¸ì½”ë“œ"></a>ë°”ì´íŠ¸ì½”ë“œ</h4><p>{} ë¡œ ë¬¶ì—¬ì„œ í‘œì‹œë˜ëŠ” ë°”ì´íŠ¸ì½”ë“œëŠ” ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ë˜ì–´ ìˆë‹¤.</p><ul><li>í•„ë“œë‚˜ ë©”ì„œë“œ ì„ ì–¸ë¶€<ul><li>descriptor: í•„ë“œì˜ íƒ€ì…ì´ë‚˜ ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„° ë° ë°˜í™˜ íƒ€ì…</li><li>flags: ì ‘ê·¼ ì§€ì •ì</li><li>Code<ul><li>stack, locals, args_size: ìŠ¤íƒ ë†’ì´, ë¡œì»¬ ë³€ìˆ˜ ê°¯ìˆ˜, ì¸ì ê°¯ìˆ˜<ul><li>ì‹¤ì œ êµ¬í˜„ ì½”ë“œ: ì½”ë“œ ìœ„ì¹˜, ë°”ì´íŠ¸ì½”ë“œ ëª…ë ¹ì–´(instruction), ì˜¤í¼ëœë“œ(operand, í”¼ì—°ì‚°ì)</li></ul></li><li>LineNumberTable: ìë°” ì½”ë“œì˜ í–‰ ë²ˆí˜¸ì™€ ë°”ì´íŠ¸ì½”ë“œì˜ ìœ„ì¹˜ ë§¤í•‘ í…Œì´ë¸”</li><li>LocalVariableTable: ë¡œì»¬ ë³€ìˆ˜ í…Œì´ë¸”</li></ul></li></ul></li></ul><p>ì–´ì…ˆë¸”ë¦¬ì–´ í”„ë¡œê·¸ë˜ë° ê²½í—˜ì´ ìˆëŠ” ê°œë°œìì—ê²ŒëŠ” ë°”ì´íŠ¸ì½”ë“œê°€ ê·¸ë¦¬ ë‚¯ì„¤ì§€ ì•Šì„ ê²ƒì´ë‹¤. ë°”ì´íŠ¸ì½”ë“œì˜ ëŒ€ë¶€ë¶„ì€ ì˜¤í¼ëœë“œ ìŠ¤íƒì— ê°’ì„ ë„£ê³ , ë¹¼ê³ , ì½ê³ , ë³µì‚¬í•˜ê³ , ìŠ¤ì™‘í•˜ê±°ë‚˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë‚´ìš©ì„ ë‹´ê³  ìˆë‹¤.</p><p>ë°”ì´íŠ¸ì½”ë“œ ëª…ë ¹ì–´ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ <a href="https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5" target="_blank" rel="noopener">JVM ìŠ¤í™</a>ì„ ì°¸ê³ í•˜ê³  ì—¬ê¸°ì—ì„œëŠ” ë©”ì„œë“œ í˜¸ì¶œê³¼ ê´€ê³„ìˆëŠ” <code>invoke*</code> ëª…ë ¹ì–´ë§Œ ì§§ê²Œ ì•Œì•„ë³´ì.</p><table><thead><tr><th>ëª…ë ¹ì–´ ì´ë¦„</th><th>í•˜ëŠ” ì¼</th></tr></thead><tbody><tr><td>invokeinterface</td><td>ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜ëœ ë©”ì„œë“œ í˜¸ì¶œ</td></tr><tr><td>invokespecial</td><td>ìƒì„±ì, í˜„ì¬ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ, ìˆ˜í¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ í˜¸ì¶œ</td></tr><tr><td>invokestatic</td><td>ì •ì  ë©”ì„œë“œ í˜¸ì¶œ</td></tr><tr><td>invokevirtual</td><td>ìë°” ë©”ì„œë“œ í˜¸ì¶œì˜ ê¸°ë³¸ ë°©ì‹ì´ë©°, ê°ì²´ ì°¸ì¡°(<code>obj.</code>)ë¥¼ ë¶™ì—¬ì„œ í˜¸ì¶œë˜ëŠ” ì¼ë°˜ì ì¸ ë©”ì„œë“œ í˜¸ì¶œ</td></tr><tr><td>invokedynamic</td><td>JVMì—ì„œ ì‹¤í–‰ë˜ëŠ” ë™ì  íƒ€ì… ì–¸ì–´ë¥¼ ìœ„í•´ Java 7ì— ì¶”ê°€ëœ ëª…ë ¹ì–´. ëŒë‹¤ì‹ë„ invokedynamicì„ ì´ìš©í•´ì„œ êµ¬í˜„ë˜ì—ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/vm/multiple-language-support.html" target="_blank" rel="noopener">ì˜¤ë¼í´ ë¬¸ì„œ</a>ë‚˜ <a href="https://d2.naver.com/helloworld/4911107" target="_blank" rel="noopener">ë„¤ì´ë²„ ë¬¸ì„œ</a> ë˜ëŠ” <a href="https://dzone.com/articles/dismantling-invokedynamic" target="_blank" rel="noopener">DZone ë¬¸ì„œ</a>ë¥¼ ì°¸ê³ í•˜ì.</td></tr></tbody></table><p>í•œ ê°€ì§€ ëˆˆì—¬ê²¨ ë³¼ ê²ƒì€ ì‹¤ì œ ìë°” ì†ŒìŠ¤ ì½”ë“œì—ëŠ” ì—†ë˜ ë””í´íŠ¸ ìƒì„±ìê°€ ì¶”ê°€ë˜ì–´ ìˆë‹¤ëŠ” ì ì´ë‹¤. ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ì¶”ê°€í•´ì¤€ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì‹¤ì œë¡œ í™•ì¸í•œ ì…ˆì´ë‹¤. ë””í´íŠ¸ ìƒì„±ìëŠ” <a href="https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.8.9" target="_blank" rel="noopener">ìë°” ì–¸ì–´ ìŠ¤í™</a>ì„ ì°¸ê³ í•˜ì.</p><h3 id="GreetingMain"><a href="#GreetingMain" class="headerlink" title="GreetingMain"></a>GreetingMain</h3><p><code>Greeting</code> ì¸í„°í˜ì´ìŠ¤ì™€ ì´ë¥¼ êµ¬í˜„í•œ <code>KoreanGreeting</code> í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ì¸ì‚¬ë§ì„ ì°ëŠ” í´ë˜ìŠ¤ë‹¤.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> homo.efficio.jvm.sample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GreetingMain</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException </span>&#123;</span><br><span class="line"></span><br><span class="line">        KoreanGreeting koreanGreeting = <span class="keyword">new</span> KoreanGreeting();</span><br><span class="line">        System.out.println(koreanGreeting.sayHello(<span class="string">"Homo Efficio"</span>));</span><br><span class="line"></span><br><span class="line">        Greeting greeting = <span class="keyword">new</span> KoreanGreeting();</span><br><span class="line">        System.out.println(greeting.sayHello(<span class="string">"Homo Efficio"</span>));</span><br><span class="line"></span><br><span class="line">        sayHelloFromDynamicallyLoadedClass(args[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sayHelloFromDynamicallyLoadedClass</span><span class="params">(String arg)</span> <span class="keyword">throws</span> ClassNotFoundException, InstantiationException, IllegalAccessException, InvocationTargetException, NoSuchMethodException </span>&#123;</span><br><span class="line">        ClassLoader classLoader = GreetingMain.class.getClassLoader();</span><br><span class="line">        Class&lt;?&gt; aClass = classLoader.loadClass(arg);</span><br><span class="line">        <span class="keyword">if</span> (Greeting.class.isAssignableFrom(aClass)) &#123;</span><br><span class="line">            Greeting aGreeting = (Greeting) aClass.getDeclaredConstructor().newInstance();</span><br><span class="line">            System.out.println(aGreeting.sayHello(<span class="string">"Homo Efficio"</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ë°”ì´íŠ¸ì½”ë“œ ëŒ€ëµì ì¸ êµ¬ì¡° ì„¤ëª…ì€ ì•ì—ì„œ í–ˆìœ¼ë¯€ë¡œ ì—¬ê¸°ì—ì„œëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ ìë°”ì˜ ë‹¤í˜•ì„±ì´ ë°œí˜„ë˜ëŠ” ì§€ì ì„ ì•Œ ìˆ˜ ìˆëŠ” ë¶€ë¶„ë§Œ ì‚´í´ë³´ì. ë‚˜ë¨¸ì§€ ë‚´ìš©ì´ ê¶ê¸ˆí•˜ë‹¤ë©´ <a href="https://github.com/HomoEfficio/plain-java-scratchpad/tree/master/src/main/java/homo/efficio/jvm/sample" target="_blank" rel="noopener">https://github.com/HomoEfficio/plain-java-scratchpad/tree/master/src/main/java/homo/efficio/jvm/sample</a> ë¥¼ ì°¸ê³ í•œë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Constant pool:</span><br><span class="line">    ...</span><br><span class="line">    #8 = InterfaceMethodref #16.#65       // homo/efficio/jvm/sample/Greeting.sayHello:(Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">    ...</span><br><span class="line">&#123;</span><br><span class="line">  public static void main(java.lang.String[]) throws java.lang.ClassNotFoundException, java.lang.NoSuchMethodException, java.lang.IllegalAccessException, java.lang.reflect.InvocationTargetException, java.lang.InstantiationException;</span><br><span class="line">    descriptor: ([Ljava/lang/String;)V</span><br><span class="line">    flags: (0x0009) ACC_PUBLIC, ACC_STATIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=3, locals=4, args_size=1</span><br><span class="line">         0: new           #2                  // class homo/efficio/jvm/sample/KoreanGreeting</span><br><span class="line">         3: dup</span><br><span class="line">         4: invokespecial #3                  // Method homo/efficio/jvm/sample/KoreanGreeting.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         7: astore_1</span><br><span class="line">         8: getstatic     #4                  // Field java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">        11: aload_1</span><br><span class="line">        12: ldc           #5                  // String Homo Efficio</span><br><span class="line">        14: invokevirtual #6                  // Method homo/efficio/jvm/sample/KoreanGreeting.sayHello:(Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">        17: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V</span><br><span class="line">        20: new           #2                  // class homo/efficio/jvm/sample/KoreanGreeting</span><br><span class="line">        23: dup</span><br><span class="line">        24: invokespecial #3                  // Method homo/efficio/jvm/sample/KoreanGreeting.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">        27: astore_2</span><br><span class="line">        28: getstatic     #4                  // Field java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">        31: aload_2</span><br><span class="line">        32: ldc           #5                  // String Homo Efficio</span><br><span class="line">        34: invokeinterface #8,  2            // InterfaceMethod homo/efficio/jvm/sample/Greeting.sayHello:(Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">        39: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V</span><br><span class="line">        ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ìƒìˆ˜ í’€ì˜ 8ë²ˆì¨° í•­ëª©ì— <code>InterfaceMethodref</code>ë¼ëŠ” í•­ëª©ìœ¼ë¡œ <code>Greeting</code> ì¸í„°í˜ì´ìŠ¤ì˜ sayHello ë©”ì„œë“œê°€ ë“±ë¡ë˜ì–´ ìˆë‹¤.</p><p>ìë°” ì†ŒìŠ¤ì½”ë“œì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">KoreanGreeting koreanGreeting = <span class="keyword">new</span> KoreanGreeting();</span><br><span class="line">System.out.println(koreanGreeting.sayHello(<span class="string">"Homo Efficio"</span>));</span><br></pre></td></tr></table></figure><p>ë‹¤ìŒê³¼ ê°™ì´ <code>invokevirtual</code>ì´ ì‚¬ìš©ë˜ê³ ,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">12: ldc           #5                  // String Homo Efficio</span><br><span class="line">14: invokevirtual #6                  // Method homo/efficio/jvm/sample/KoreanGreeting.sayHello:(Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">17: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V</span><br></pre></td></tr></table></figure><p>ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì•„ë˜ ì½”ë“œëŠ”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Greeting greeting = <span class="keyword">new</span> KoreanGreeting();</span><br><span class="line">System.out.println(greeting.sayHello(<span class="string">"Homo Efficio"</span>));</span><br></pre></td></tr></table></figure><p>ë‹¤ìŒê³¼ ê°™ì´ <code>invokeinterface</code>ê°€ ì‚¬ìš©ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">32: ldc           #5                  // String Homo Efficio</span><br><span class="line">34: invokeinterface #8,  2            // InterfaceMethod homo/efficio/jvm/sample/Greeting.sayHello:(Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line">39: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V</span><br></pre></td></tr></table></figure><p>ì´ ê¸€ì€ ì»´íŒŒì¼ ê³¼ì •ì„ í›‘ì–´ë³´ëŠ” ê²Œ ëª©ì ì´ì—ˆìœ¼ë¯€ë¡œ ë°”ì´íŠ¸ì½”ë“œ êµ¬ê²½ì€ ì—¬ê¸°ì„œ ì¤„ì¸ë‹¤. ë°”ì´íŠ¸ì½”ë“œì— ëŒ€í•œ ë‚´ìš©ì€ ë” ê¶ê¸ˆí•˜ë‹¤ë©´ ì•Œê³  ì‹¶ì€ ë¶€ë¶„ì„ ì§ì ‘ ì½”ë”©/ì»´íŒŒì¼í•˜ê³  <code>javap</code>ì™€ JVM ìŠ¤í™ìœ¼ë¡œ í™•ì¸í•´ë³´ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ê³ , <a href="https://homoefficio.github.io/2019/01/31/Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-2/">2íƒ„</a>ì„ ì°¸ê³ í•´ë„ ì¢‹ë‹¤.</p><h1 id="ë§ˆë¬´ë¦¬"><a href="#ë§ˆë¬´ë¦¬" class="headerlink" title="ë§ˆë¬´ë¦¬"></a>ë§ˆë¬´ë¦¬</h1><p>ì—¬ê¸°ê¹Œì§€ ìë°” ì†ŒìŠ¤ ì½”ë“œê°€ ë°”ì´íŠ¸ì½”ë“œë¡œ ì–´ë–»ê²Œ ì»´íŒŒì¼ë˜ëŠ”ì§€ ì•Œì•„ë´¤ë‹¤. ì§§ê²Œ ì •ë¦¬í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><blockquote><p>ìë°”ë„ ì „ì²˜ë¦¬, ì»´íŒŒì¼, ë§í¬ ê³¼ì •ì„ í†µí•´ ìµœì¢… ì‹¤í–‰ íŒŒì¼ì´ ë§Œë“¤ì–´ì§„ë‹¤.</p><p>ì»´íŒŒì¼ì˜ ì„¸ë¶€ ë‹¨ê³„ëŠ” ì–´íœ˜ ë¶„ì„, êµ¬ë¬¸ ë¶„ì„, ì˜ë¯¸ ë¶„ì„, ì¤‘ê°„ ì½”ë“œ ìƒì„±, ì¤‘ê°„ ì½”ë“œ ìµœì í™”ë¡œ êµ¬ì„±ëœë‹¤.  </p><p><strong>ìë°” ì»´íŒŒì¼ì€ ìë°” ì½”ë“œë¥¼ ìë°” ì–¸ì–´ ìŠ¤í™ì— ë”°ë¼ ë¶„ì„/ê²€ì¦í•˜ê³ , JVM ìŠ¤í™ì˜ class íŒŒì¼ êµ¬ì¡°ì— ë§ëŠ” ë°”ì´íŠ¸ì½”ë“œë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ê³¼ì •</strong>ì´ë‹¤.</p><p>ìë°” ì†ŒìŠ¤ ì½”ë“œë¥¼ ì»´íŒŒì¼í•œ ê²°ê³¼ë¡œ ë‚˜ì˜¤ëŠ” class íŒŒì¼ì€ í¬ê²Œ ë³´ë©´ <strong>í´ë˜ìŠ¤ ë©”íƒ€ ì •ë³´, ìƒìˆ˜ í’€, ì½”ë“œ êµ¬í˜„ë¶€(JVM ëª…ë ¹ì–´+ì˜¤í¼ëœë“œ)ë¡œ êµ¬ì„±</strong>ëœë‹¤.</p><p><strong>ì†ŒìŠ¤ ì½”ë“œì—ì„œ ì •ì ìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜, ìƒìˆ˜, ë©”ì„œë“œ ë“±ì˜ ì •ë³´ê°€ í´ë˜ìŠ¤ íŒŒì¼ ë‹¨ìœ„ì˜ ìƒìˆ˜ í’€(Constant Pool)ì— ì €ì¥</strong>ë˜ê³ ,<br><strong>ì—°ì‚°, ì œì–´, ë©”ì„œë“œ í˜¸ì¶œ ë“±ì€ JVM ëª…ë ¹ì–´ì™€ ìƒìˆ˜ í’€ì— ì €ì¥ëœ í•­ëª©ì„ ì˜¤í¼ëœë“œë¡œ ì‚¬ìš©í•˜ëŠ” ë°”ì´íŠ¸ì½”ë“œë¡œ ë³€í™˜ë˜ì–´ ì½”ë“œ êµ¬í˜„ë¶€ì— ì €ì¥</strong>ëœë‹¤.</p><p><code>javap</code> ëª…ë ¹ìœ¼ë¡œ ë°”ì´ë„ˆë¦¬ ë°”ì´íŠ¸ì½”ë“œë¥¼ ëˆˆìœ¼ë¡œ ì½ì„ ìˆ˜ ìˆëŠ” í…ìŠ¤íŠ¸ë¡œ ì—­ì–´ì…ˆë¸”í•´ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-1&quot;&gt;&lt;a href=&quot;#Back-to-the-Essence-Java-ì»´íŒŒì¼ì—ì„œ-ì‹¤í–‰ê¹Œì§€-1&quot; class=&quot;headerlink&quot; title=&quot;Back to the Essenc
      
    
    </summary>
    
      <category term="Specification" scheme="http://homoefficio.github.io/categories/Specification/"/>
    
    
      <category term="Java" scheme="http://homoefficio.github.io/tags/Java/"/>
    
      <category term="ìë°”" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94/"/>
    
      <category term="Java Execution Process" scheme="http://homoefficio.github.io/tags/Java-Execution-Process/"/>
    
      <category term="JVM" scheme="http://homoefficio.github.io/tags/JVM/"/>
    
      <category term="Bytecode" scheme="http://homoefficio.github.io/tags/Bytecode/"/>
    
      <category term="Compile" scheme="http://homoefficio.github.io/tags/Compile/"/>
    
      <category term="JVM Spec" scheme="http://homoefficio.github.io/tags/JVM-Spec/"/>
    
      <category term="Lexical Analysis" scheme="http://homoefficio.github.io/tags/Lexical-Analysis/"/>
    
      <category term="Syntax Analysis" scheme="http://homoefficio.github.io/tags/Syntax-Analysis/"/>
    
      <category term="Symantic Analysis" scheme="http://homoefficio.github.io/tags/Symantic-Analysis/"/>
    
      <category term="Intermediate Code Generation" scheme="http://homoefficio.github.io/tags/Intermediate-Code-Generation/"/>
    
      <category term="Code Optimization" scheme="http://homoefficio.github.io/tags/Code-Optimization/"/>
    
      <category term="Constant Pool" scheme="http://homoefficio.github.io/tags/Constant-Pool/"/>
    
      <category term="invokeinterface" scheme="http://homoefficio.github.io/tags/invokeinterface/"/>
    
      <category term="invokevirtual" scheme="http://homoefficio.github.io/tags/invokevirtual/"/>
    
      <category term="javap" scheme="http://homoefficio.github.io/tags/javap/"/>
    
      <category term="ìë°” ì‹¤í–‰ ê³¼ì •" scheme="http://homoefficio.github.io/tags/%EC%9E%90%EB%B0%94-%EC%8B%A4%ED%96%89-%EA%B3%BC%EC%A0%95/"/>
    
      <category term="java ì‹¤í–‰ ê³¼ì •" scheme="http://homoefficio.github.io/tags/java-%EC%8B%A4%ED%96%89-%EA%B3%BC%EC%A0%95/"/>
    
      <category term="ì»´íŒŒì¼" scheme="http://homoefficio.github.io/tags/%EC%BB%B4%ED%8C%8C%EC%9D%BC/"/>
    
      <category term="ë°”ì´íŠ¸ì½”ë“œ" scheme="http://homoefficio.github.io/tags/%EB%B0%94%EC%9D%B4%ED%8A%B8%EC%BD%94%EB%93%9C/"/>
    
      <category term="JVM ëª…ì„¸" scheme="http://homoefficio.github.io/tags/JVM-%EB%AA%85%EC%84%B8/"/>
    
      <category term="JVM ìŠ¤í™" scheme="http://homoefficio.github.io/tags/JVM-%EC%8A%A4%ED%8E%99/"/>
    
      <category term="ì–´íœ˜ ë¶„ì„" scheme="http://homoefficio.github.io/tags/%EC%96%B4%ED%9C%98-%EB%B6%84%EC%84%9D/"/>
    
      <category term="êµ¬ë¬¸ ë¶„ì„" scheme="http://homoefficio.github.io/tags/%EA%B5%AC%EB%AC%B8-%EB%B6%84%EC%84%9D/"/>
    
      <category term="ì˜ë¯¸ ë¶„ì„" scheme="http://homoefficio.github.io/tags/%EC%9D%98%EB%AF%B8-%EB%B6%84%EC%84%9D/"/>
    
      <category term="ì¤‘ê°„ ì½”ë“œ ìƒì„±" scheme="http://homoefficio.github.io/tags/%EC%A4%91%EA%B0%84-%EC%BD%94%EB%93%9C-%EC%83%9D%EC%84%B1/"/>
    
      <category term="ì½”ë“œ ìµœì í™”" scheme="http://homoefficio.github.io/tags/%EC%BD%94%EB%93%9C-%EC%B5%9C%EC%A0%81%ED%99%94/"/>
    
      <category term="ìƒìˆ˜ í’€" scheme="http://homoefficio.github.io/tags/%EC%83%81%EC%88%98-%ED%92%80/"/>
    
  </entry>
  
  <entry>
    <title>íƒˆì¤‘ì•™í™”ëœ ì•”í˜¸í™”íëŠ” ì£½ì—ˆë‹¤</title>
    <link href="http://homoefficio.github.io/2018/12/11/%ED%83%88%EC%A4%91%EC%95%99%ED%99%94%EB%90%9C-%EC%95%94%ED%98%B8%ED%99%94%ED%8F%90%EB%8A%94-%EC%A3%BD%EC%97%88%EB%8B%A4/"/>
    <id>http://homoefficio.github.io/2018/12/11/íƒˆì¤‘ì•™í™”ëœ-ì•”í˜¸í™”íëŠ”-ì£½ì—ˆë‹¤/</id>
    <published>2018-12-11T12:59:50.000Z</published>
    <updated>2019-04-28T17:03:55.475Z</updated>
    
    <content type="html"><![CDATA[<h1 id="íƒˆì¤‘ì•™í™”ëœ-ì•”í˜¸í™”íëŠ”-ì£½ì—ˆë‹¤"><a href="#íƒˆì¤‘ì•™í™”ëœ-ì•”í˜¸í™”íëŠ”-ì£½ì—ˆë‹¤" class="headerlink" title="íƒˆì¤‘ì•™í™”ëœ ì•”í˜¸í™”íëŠ” ì£½ì—ˆë‹¤."></a>íƒˆì¤‘ì•™í™”ëœ ì•”í˜¸í™”íëŠ” ì£½ì—ˆë‹¤.</h1><blockquote><p>ì›ì €ìì¸ SemkoDevì˜ í—ˆë½ì„ ë°›ê³  ìš°ë¦¬ë§ë¡œ ì˜®ê¸´ ê¸€ì…ë‹ˆë‹¤.<br>SemkoDevëŠ” IOTA ì¬ë‹¨ê³¼ëŠ” ê´€ë ¨ì´ ì—†ëŠ” 3rd party ê°œë°œì‚¬ì…ë‹ˆë‹¤.</p><p>ì›ë¬¸: <a href="https://semkodev.com/decentralised-cryptocurrency-is-dead/?lang=en" target="_blank" rel="noopener">https://semkodev.com/decentralised-cryptocurrency-is-dead/?lang=en</a></p><p>IOTA ê¸°ë¶€</p><h5 id="ì›ì €ì-IYUIUCFNGOEEQHT9CQU9VYJVOJMQI9VYTQGQLTBAKTFIPWWRBFEV9TJWUZU9EYEFPM9VB9QYXTSMCDKMDABASVXPPX"><a href="#ì›ì €ì-IYUIUCFNGOEEQHT9CQU9VYJVOJMQI9VYTQGQLTBAKTFIPWWRBFEV9TJWUZU9EYEFPM9VB9QYXTSMCDKMDABASVXPPX" class="headerlink" title="ì›ì €ì: IYUIUCFNGOEEQHT9CQU9VYJVOJMQI9VYTQGQLTBAKTFIPWWRBFEV9TJWUZU9EYEFPM9VB9QYXTSMCDKMDABASVXPPX"></a>ì›ì €ì: IYUIUCFNGOEEQHT9CQU9VYJVOJMQI9VYTQGQLTBAKTFIPWWRBFEV9TJWUZU9EYEFPM9VB9QYXTSMCDKMDABASVXPPX</h5><h5 id="ì˜®ê¸´ì´-ALGUYPTFQAWONZEZNMFRBHFX9KXIFNHUTUCHQQHJJCHWVQOAWSRNAWKSLPMLUBCYLBTALRMNCHIULGJEYSFAISLOSB"><a href="#ì˜®ê¸´ì´-ALGUYPTFQAWONZEZNMFRBHFX9KXIFNHUTUCHQQHJJCHWVQOAWSRNAWKSLPMLUBCYLBTALRMNCHIULGJEYSFAISLOSB" class="headerlink" title="ì˜®ê¸´ì´: ALGUYPTFQAWONZEZNMFRBHFX9KXIFNHUTUCHQQHJJCHWVQOAWSRNAWKSLPMLUBCYLBTALRMNCHIULGJEYSFAISLOSB"></a>ì˜®ê¸´ì´: ALGUYPTFQAWONZEZNMFRBHFX9KXIFNHUTUCHQQHJJCHWVQOAWSRNAWKSLPMLUBCYLBTALRMNCHIULGJEYSFAISLOSB</h5></blockquote><p><img src="https://i.imgur.com/jHVJGUf.png" alt="Imgur"></p><p>ë¸”ë¡ì²´ì¸ì€ í˜ì‹ ì˜ ëŒ€ëª…ì‚¬ì˜€ì§€ë§Œ ì´ì œëŠ” ë…¹ì´ ìŠ¬ì–´ë²„ë¦° ì˜ˆì „ ì‹œìŠ¤í…œì²˜ëŸ¼ ë˜ì–´ê°€ê³  ìˆìŠµë‹ˆë‹¤. ë¹„íŠ¸ì½”ì¸ì´ ë¯¼ì£¼í™” ëœ ê¸ˆìœµ ì§ˆì„œë¥¼ ì„¸ìš°ê³  ë¶ˆí•„ìš”í•œ ì¤‘ê°„ìë¥¼ ì¶•ì¶œí•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆë‹¤ë©´, ì´ì œëŠ” ë‹¤ì‹œ ìƒê°í•´ë³´ëŠ” ê²Œ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p><p>ë¸”ë¡ì²´ì¸, íƒ±ê¸€(tangle), ëŒ€ìš©ëŸ‰ ë¸”ë¡(2x blocks), ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸, ì„¸ê·¸ìœ—(segwit), ë¼ì´íŠ¸ë‹ ë„¤íŠ¸ì›Œí¬(lightning network), Schnorr ì•Œê³ ë¦¬ë“¬ê³¼ ì•ìœ¼ë¡œ ë˜‘ë˜‘í•œ ê´´ì§œë“¤ì´ ê³ ì•ˆí•´ ë‚¼ ìƒˆë¡œìš´ ê¸°ìˆ  ë“± ì•”í˜¸í™”íì— ì‚¬ìš©í•˜ê³  ìˆëŠ” ê¸°ìˆ ì— ëŒ€í•œ ì–˜ê¸°ë¥¼ í•˜ë ¤ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. ë¬¸ì œëŠ” ì—¬ëŸ¬ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ í•´ê²°ë  ìˆ˜ë„ ìˆìœ¼ë‹ˆê¹Œìš”.</p><p>ì¢€ ë” ì‹¬ì˜¤í•œ ê³ ë¯¼ì„ í•„ìš”ë¡œ í•˜ëŠ” ì´ì•¼ê¸°ë¥¼ êº¼ë‚´ë³´ë ¤ í•©ë‹ˆë‹¤. ì‚¬í† ì‹œê°€ ì œì‹œí•œ ìµœì´ˆì˜ ë¹„ì „ì—ëŠ” ê²°í•¨ì´ ìˆìŠµë‹ˆë‹¤.</p><h2 id="ê¸ˆì „ì -ë³´ìƒì€-ì–¸ì œë‚˜-ë¶ˆí‰ë“±ìœ¼ë¡œ-ì´ì–´ì§„ë‹¤"><a href="#ê¸ˆì „ì -ë³´ìƒì€-ì–¸ì œë‚˜-ë¶ˆí‰ë“±ìœ¼ë¡œ-ì´ì–´ì§„ë‹¤" class="headerlink" title="ê¸ˆì „ì  ë³´ìƒì€ ì–¸ì œë‚˜ ë¶ˆí‰ë“±ìœ¼ë¡œ ì´ì–´ì§„ë‹¤."></a>ê¸ˆì „ì  ë³´ìƒì€ ì–¸ì œë‚˜ ë¶ˆí‰ë“±ìœ¼ë¡œ ì´ì–´ì§„ë‹¤.</h2><p>ì „ì— ì¼ë˜ <a href="https://semkodev.com/iota-why-free-transactions-matter-most/?lang=en" target="_blank" rel="noopener">IOTA: why free transactions matter most</a>ì—ì„œ ì£¼ì¥í•œ ê²ƒì²˜ëŸ¼ ë¬¸ì œì˜ í•µì‹¬ì€ ë³´ìƒ(rewards)ì…ë‹ˆë‹¤. ëˆ„êµ°ê°€ì—ê²Œ ë„¤íŠ¸ì›Œí¬ë¥¼ ìš´ì˜í•˜ë¼ê³  ë³´ìƒì„ ì§€ë¶ˆí•˜ëŠ” ê²ƒì€ ì—¬ëŸ¬ë¶„ì´ ê°€ì§€ê³  ìˆë˜ ê¶Œë ¥(power)ì„ ì§€ë¶ˆí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê¶Œë ¥ì„ ì§€ë¶ˆí•˜ë©´ ì‹œìŠ¤í…œì— ë¶ˆê· í˜•ì´ ë°œìƒí•˜ê³ , ì†Œìˆ˜ì˜ ê¶Œë ¥ ì§‘ë‹¨ì´ ìƒê²¨ë‚˜ë©° ì‹œìŠ¤í…œì˜ ë°”íƒ•ì´ ë˜ëŠ” ë‹¤ìˆ˜ëŠ” í˜ì„ ìƒê²Œ ë©ë‹ˆë‹¤. í˜ ì—†ëŠ” ë‹¤ìˆ˜ëŠ” í˜ ìˆëŠ” ì±„êµ´ìë“¤ ì—†ì´ëŠ” ì¡´ì¬í•  ìˆ˜ ì—†ê²Œ ë˜ê³ , í˜ ìˆëŠ” ì±„êµ´ìëŠ” ì‹œê°„ì´ ê°ˆ ìˆ˜ë¡ ë” í° ê¶Œë ¥ì„ ì–»ê²Œ ë©ë‹ˆë‹¤.</p><p><img src="https://i.imgur.com/HcsWxIq.png" alt="Imgur"></p><p>ê°€ì¥ ìœ ì„œ ê¹Šì€ íƒˆì¤‘ì•™í™” ì¥ë¶€(ledger)ì¸ ë¹„íŠ¸ì½”ì¸ì€ ì´ ë¬¸ì œë¡œë¶€í„° ììœ ë¡œìš´ ì ì´ ì—†ì—ˆìŠµë‹ˆë‹¤. ë¹„íŠ¸ì½”ì¸ì—ì„œëŠ” ì†Œìˆ˜ì˜ ì±„êµ´ í’€ì´ ì „ì²´ í•´ì‹œë ˆì´íŠ¸(hashrate)ì˜ ì ˆë°˜ ì´ìƒì„ ì ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì•„ì£¼ ì¢‹ì§€ ì•Šì€ ì†Œì‹ì´ê³  ì‹œìŠ¤í…œì„ ìœ ì§€ê´€ë¦¬í•˜ëŠ” ì‚¬ëŒë“¤ì—ê²Œ ê¸ˆì „ì ì¸ ë³´ìƒì„ ì§€ê¸‰í•˜ëŠ” ì–´ë–¤ ì½”ì¸ë„ ì´ ë¬¸ì œë¡œë¶€í„° ììœ ë¡œìš¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p><p>ëˆ„êµ¬ë“  ê°€ì¥ ë†’ì€ í•´ì‹œë ˆì´íŠ¸ë¥¼ ë³´ìœ í•œ ìê°€ ì™•ì…ë‹ˆë‹¤. ì§€ë¶„ ì¦ëª…(Proof of Stake, PoS)ì´ ëª¨ë“  ë¬¸ì œë¥¼ í•´ê²°í•´ì¤„ ê±°ë¼ê³  ì£¼ì¥í•˜ëŠ” ì‚¬ëŒë“¤ë„ ìˆê² ì§€ë§Œ, ì§€ë¶„ ì¦ëª…ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì˜®ê²¨ë†“ì„ ë¿ì…ë‹ˆë‹¤. <strong>ì§€ë¶„ ì¦ëª…ì—ì„œëŠ” ê°€ì¥ ë†’ì€ í•´ì‹œë ˆì´íŠ¸ê°€ ì•„ë‹ˆë¼ ê°€ì¥ ë§ì€ ì½”ì¸ì„ ë³´ìœ í•œ ìê°€ ì™•ì…ë‹ˆë‹¤. í•´ì‹œë ˆì´íŠ¸ê°€ ë¶€(wealth)ë¡œ ë°”ë€” ë¿ ì‘ì—… ì¦ëª…ì— ë‚´ì¬ë˜ì–´ ìˆë˜ ë¬¸ì œì™€ ë‹¤ë¥¼ ê²ƒì´ ì—†ìŠµë‹ˆë‹¤. ë¬¼ë¡  ì§€ë¶„ ì¦ëª…ì€ ì‘ì—… ì¦ëª…ì²˜ëŸ¼ ë§ì€ ìì›ì„ í•„ìš”ë¡œí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í™˜ê²½ ê´€ì ì—ì„œëŠ” ë” ë‚˜ì€ í•´ë²•ì´ê² ì§€ë§Œ ì¤‘ì•™í™”ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ì§€ëŠ” ëª» í•©ë‹ˆë‹¤.</strong></p><h2 id="ë¶ˆí‰ë“±ì€-ì–¸ì œë‚˜-ì¤‘ì•™í™”ë¡œ-ì´ì–´ì§„ë‹¤"><a href="#ë¶ˆí‰ë“±ì€-ì–¸ì œë‚˜-ì¤‘ì•™í™”ë¡œ-ì´ì–´ì§„ë‹¤" class="headerlink" title="ë¶ˆí‰ë“±ì€ ì–¸ì œë‚˜ ì¤‘ì•™í™”ë¡œ ì´ì–´ì§„ë‹¤."></a>ë¶ˆí‰ë“±ì€ ì–¸ì œë‚˜ ì¤‘ì•™í™”ë¡œ ì´ì–´ì§„ë‹¤.</h2><p>ê²‰ìœ¼ë¡œ ë³´ê¸°ì— íƒˆì¤‘ì•™í™”ëœ ê²ƒ ê°™ì€ ì½”ì¸ì€ ë¶€ìœ í•œ ì†Œìˆ˜ê°€ ì›í•˜ëŠ” ëŒ€ë¡œ ì‹œìŠ¤í…œì„ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” í˜„ì¬ì˜ ê¸ˆìœµ ì§ˆì„œì™€ ì‚´ì§ ë‹¤ë¥¼ ë¿ ë¹„ìŠ·í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•˜ì§€ë§Œ ì½”ì¸ì´ë‚˜ ê·¸ ì½”ì¸ì´ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ì€ í•˜ë‚˜ë„ ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‘ì—… ì¦ëª…ì´ë“  ì§€ë¶„ ì¦ëª…ì´ë“  ì±„êµ´ìì—ê²Œ ë³´ìƒì„ ì§€ë¶ˆí•˜ëŠ” í•œ, ì±„êµ´ìëŠ” ì‹œìŠ¤í…œ ìœ„ì— êµ°ë¦¼í•˜ê²Œ ë©ë‹ˆë‹¤. ì±„êµ´ìë“¤ì´ ëª¨ë“  ê²ƒì„ ìš´ì˜í•˜ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì´ìœ ëŠ” ëˆì…ë‹ˆë‹¤. ì±„êµ´ìë“¤ì€ ì‚¬ì‹¤ìƒ ì½”ì¸ ìì²´ì—ëŠ” ê´€ì‹¬ì´ ì—†ìŠµë‹ˆë‹¤. ë‚´ì¼ ë¹„íŠ¸ì½”ì¸ì´ ì—†ì–´ì§„ë‹¤ë©´ ì±„êµ´ìë“¤ì€ ê·¸ì € ì´ë”ë¦¬ì›€ì´ë“  ë¼ì´íŠ¸ì½”ì¸ì´ë“  ë‹¤ë¥¸ ì½”ì¸ì„ ì±„êµ´í•˜ë©´ ë©ë‹ˆë‹¤.</p><p>ê·¸ë˜ì„œ ë¸”ë¡ì²´ì¸ì˜ ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•  ë•Œ ì±„êµ´ìë“¤ì€ ìì‹ ë“¤ì˜ ì´ê¸°ì ì¸ ì´ìµì„ ìµœìš°ì„ ìœ¼ë¡œ ìƒê°í•©ë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì€ ê·¸ëŸ° ë°©í–¥ì„ ì›ì¹˜ ì•Šì„ê±°ë¼ê³ ìš”? ê¸€ì„ìš”, ì²´ì¸ì„ í¬í¬(fork)í•´ì„œ ëˆ„ê°€ ë” ë§ì€ ê¶Œë ¥ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ ë³´ë©´ ì•Œ ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤. ê¸°ì¡´ ì²´ì¸ì´ ì£½ë”ë¼ë„ ëˆ„ê°€ ìƒê´€í• ê¹Œìš”?</p><h2 id="ì¤‘ì•™í™”ëŠ”-ì•”í˜¸í™”íë¥¼-í‡´ë¬¼ë¡œ-ë§Œë“ ë‹¤"><a href="#ì¤‘ì•™í™”ëŠ”-ì•”í˜¸í™”íë¥¼-í‡´ë¬¼ë¡œ-ë§Œë“ ë‹¤" class="headerlink" title="ì¤‘ì•™í™”ëŠ” ì•”í˜¸í™”íë¥¼ í‡´ë¬¼ë¡œ ë§Œë“ ë‹¤."></a>ì¤‘ì•™í™”ëŠ” ì•”í˜¸í™”íë¥¼ í‡´ë¬¼ë¡œ ë§Œë“ ë‹¤.</h2><p>ë§Œì•½ ì–´ë–¤ ì½”ì¸ì˜ ìš´ëª…ì„ ê·¹ì†Œìˆ˜ì˜ ê°œì¸ì´ ì¢Œìš°í•  ìˆ˜ ìˆë‹¤ë©´ í˜„ì¬ì˜ í†µí™” ì‹œìŠ¤í…œê³¼ ë‹¤ë¥¼ ê²Œ ë¬´ì—‡ì¼ê¹Œìš”? ê·¸ì € ì¤‘ì•™ ì€í–‰ì´ ì¤‘ì•™ ì±„êµ´ìë¡œ ë°”ë€ŒëŠ” ê²ƒ ë¿ì…ë‹ˆë‹¤. ë‹¬ë¼ì§ˆ ê²Œ ì—†ëŠ”ë° ë­í•˜ëŸ¬ ê·€ì°®ê²Œ ë°”ê¾¸ë‚˜ìš”?</p><blockquote><p>ê¿ˆì€ ì£½ì—ˆìŠµë‹ˆë‹¤.</p></blockquote><p>ì±„êµ´ì ì†ì•„ê·€ë¡œ ë„˜ì–´ê°„ ê¶Œë ¥ì€ íƒˆì¤‘ì•™í™”ëœ ì•”í˜¸í™”íê°€ ë‚´ì„¸ì› ë˜ ì´ìƒì„ íŒŒê´´í•©ë‹ˆë‹¤. ê¿ˆì€ ì£½ì—ˆìŠµë‹ˆë‹¤. ê°€ê¹ŒìŠ¤ë¡œ ì£¼ë¥˜ì— í¸ì…í•œ ì–´ë–¤ ì•”í˜¸í™”íë¼ë„ ì±„êµ´ìë¥¼ ì—†ì• ì§€ ì•Šìœ¼ë©´ ê²°êµ­ ë˜‘ê°™ì€ ë¬¸ì œì— ì§ë©´í•˜ê²Œ ë©ë‹ˆë‹¤.</p><h2 id="í¬ë§ì€-ìˆë‹¤"><a href="#í¬ë§ì€-ìˆë‹¤" class="headerlink" title="í¬ë§ì€ ìˆë‹¤."></a>í¬ë§ì€ ìˆë‹¤.</h2><p>ì•„ë¬´ë„ ì‹œìŠ¤í…œ ìœ„ì— êµ°ë¦¼í•´ì„œëŠ” ì•ˆ ë˜ë©°, ì‹œìŠ¤í…œì˜ ì¼ë¶€ê°€ ë˜ëŠ” ê²ƒ ì™¸ì— ë‹¤ë¥¸ ë™ê¸°(motivation)ê°€ ìˆìœ¼ë©´ ì•ˆ ë©ë‹ˆë‹¤. ì±„êµ´ìì™€ ì‚¬ìš©ì ì‚¬ì´ì— ì•„ë¬´ëŸ° ì°¨ì´ê°€ ì—†ì–´ì•¼ë§Œ ìœ„ì—ì„œ ë§í•œ ë¬¸ì œê°€ ìƒê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤. ì „ì²´ë¥¼ ì´ë£¨ëŠ” ëª¨ë“  êµ¬ì„±ì›ì€ í‰ë“±(equal)í•´ì•¼ í•©ë‹ˆë‹¤. ë¬¸ì œì˜ í•µì‹¬ì„ íŒŒê³  ë“¤ì–´ì„œ, ë„¤íŠ¸ì›Œí¬ ìš´ì˜ì— ëŒ€í•œ ë³´ìƒì„ ì—†ì•¤ë‹¤ë©´ ëª¨ë‘ê°€ í‰ë“±í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³´ìƒì´ ì—†ì–´ì§€ë©´ ë¶ˆí‰ë“±ì´ ì—†ì–´ì§€ê³ (No rewards = no inequality), í‰ë“±í•´ì§€ë©´ ì¤‘ì•™í™”ëŠ” ì‚¬ë¼ì§‘ë‹ˆë‹¤(No inequality = no centralization).</p><p>í•˜ì§€ë§Œ ê¸ˆì „ì ì¸ ë³´ìƒì´ ì—†ë‹¤ë©´ ë„ëŒ€ì²´ ëˆ„ê°€ ë…¸ë“œë¥¼ ìš´ì˜í•˜ë ¤ í• ê¹Œìš”? ëŒ€ë‹µì€ ë§¤ìš° ë‹¨ìˆœí•˜ê³ , ì•„ì´ì˜¤íƒ€(IOTA)ëŠ” ì´ ë¬¸ì œë¥¼ ì²˜ìŒë¶€í„° ë°”ë¡œì¡ê³  ì‹œì‘í•˜ëŠ” ìœ ë§í•œ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ìš©í•˜ë ¤ë©´ ì‚¬ìš©ì ìŠ¤ìŠ¤ë¡œ ë„¤íŠ¸ì›Œí¬ë¥¼ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤. ê±°ë˜ë¥¼ í•˜ê³  ì‹¶ìœ¼ë©´ ë‹¤ë¥¸ ë‘ ê°œì˜ ê±°ë˜ë¥¼ ê²€ì‚¬í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ì•„ì£¼ ë‹¨ìˆœí•˜ì£ .</p><p>ì´ ë°©ì‹ì—ì„œëŠ” ëª¨ë“  ì‚¬ìš©ìê°€ í‰ë“±í•©ë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ì˜ ì¼ë¶€ê°€ ë˜ê³  ì‹¶ìœ¼ë©´ ë„¤íŠ¸ì›Œí¬ì˜ ì¼ë¶€ê°€ ë˜ê¸° ìœ„í•´ ë…¸ë ¥ì„ í•´ì•¼ í•©ë‹ˆë‹¤. ê° ì‚¬ìš©ìëŠ” ìì‹ ì˜ í•„ìš”ì— ë”°ë¼ ì£¼ê³  ë°›ìŠµë‹ˆë‹¤. ë†ë‹´ ì„ì–´ ë§í•˜ìë©´ ê³µì‚°ì£¼ì˜ì˜ ê¿ˆì´ ë””ì§€í„¸ ì•”í˜¸ ì¥ë¶€(cryptoledger)ë¥¼ í†µí•´ ë§ˆì¹¨ë‚´ ì´ë£¨ì–´ì§€ê²Œ ë˜ëŠ” ê²ë‹ˆë‹¤.</p><p>ì§„ì‹¬ìœ¼ë¡œ ë§í•˜ìë©´, ì´ ë°©ì‹ì€ ì§€ê¸ˆê¹Œì§€ ì§„ì •í•œ íƒˆì¤‘ì•™í™” ë‹¬ì„±ì„ ìœ„í•´ ë‚˜ì˜¨ ì—¬ëŸ¬ ë°©ì‹ ì¤‘ì—ì„œ ê°€ì¥ ë‚˜ì€ ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤. ì•„ì´ì˜¤íƒ€ ë„¤íŠ¸ì›Œí¬ì˜ ê·œëª¨ê°€ í˜„ì‹¤ì ìœ¼ë¡œ ì‘ê³  ê·¸ë˜ì„œ ì½”ë””ë„¤ì´í„°(coordinator)ê°€ ìˆì–´ì•¼ë§Œ ì•ˆì •ì„±ì„ ë³´ì¥ë°›ì„ ìˆ˜ ìˆëŠ” í˜„ ì‹œì ì—ì„œëŠ”, ì§„ì •í•œ íƒˆì¤‘ì•™í™”ë¥¼ ì´ë¤„ë‚¸ í”„ë¡œì íŠ¸ëŠ” ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ê·œëª¨ê°€ ì¶©ë¶„í•´ì§€ê³  ê·¸ë˜ì„œ ì½”ë””ë„¤ì´í„°ë¥¼ í•„ìš”ë¡œ í•˜ì§€ ì•Šê²Œ ë˜ëŠ” ìˆœê°„, ì•„ì´ì˜¤íƒ€ëŠ” í˜„ì¬ì˜ ì•”í˜¸í™”í ì„¸ìƒì˜ ì§ˆì„œë¥¼ ë°”ê¿”ë†“ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p><p>ì§„ì •í•œ íƒˆì¤‘ì•™í™”ì— ëŒ€í•œ ì•½ì†ì´ì•¼ë§ë¡œ ì—…ê³„ì—ì„œ ì•„ì´ì˜¤íƒ€ê°€ ì‚¬ë‘ë°›ëŠ” ì´ìœ ì…ë‹ˆë‹¤. ì•„ì´ì˜¤íƒ€ê°€ ë‹¤ë¥¸ ì–´ë–¤ í”„ë¡œì íŠ¸ë³´ë‹¤ ë§ì€ íŒŒíŠ¸ë„ˆì‹­ì„ ê°€ì§ˆ ìˆ˜ ìˆì—ˆë˜ ì´ìœ ì´ê¸°ë„ í•©ë‹ˆë‹¤. ì‚°ì—…ê³„ì—ì„œ ì´ë¯¸ í° í˜ì„ ê°€ì§€ê³  ìˆëŠ” íšŒì‚¬ê°€ ìˆ˜ìƒí•œ ì†Œìˆ˜ì˜ ê°œì¸ì— ì˜í•´ ì¢Œìš°ë  ìˆ˜ ìˆëŠ” ì•”í˜¸í™”í í”„ë¡œì íŠ¸ì™€ ë­í•˜ëŸ¬ ì†ì„ ì¡ê² ìŠµë‹ˆê¹Œ? ì•”í˜¸í™”íê°€ í˜„ì‹¤ ì„¸ìƒì— ì œëŒ€ë¡œ ë„ì…ë˜ë ¤ë©´ ì§„ì •í•œ íƒˆì¤‘ì•™í™”ì™€ í‰ë“±ì€ í•„ìˆ˜ ì¡°ê±´ì…ë‹ˆë‹¤. 99%ì˜ ì•”í˜¸í™”íëŠ” ì´ ì¡°ê±´ì„ ì¶©ì¡±ì‹œí‚¤ì§€ ëª»í•©ë‹ˆë‹¤.</p><p>ìš°ë¦¬ëŠ” í¥ë¯¸ì§„ì§„í•œ ì„¸ìƒì„ ì‚´ê³  ìˆìŠµë‹ˆë‹¤. ì•”í˜¸í™”íì— ëŒ€í•´ ì´ë ‡ê²Œ ë¹„ê´€ì ìœ¼ë¡œ ì–˜ê¸°í•´ì„œ ìœ ê°ì´ì§€ë§Œ ëˆ„êµ°ê°€ëŠ” ë§ˆìŒì— ë‹´ì•˜ë˜ ì´ì•¼ê¸°ë¥¼ í•´ì•¼ë§Œ í•˜ê³  ëª¨ë“  ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì— ëŒ€í•´ ì´ì•¼ê¸° í•´ì•¼ í•©ë‹ˆë‹¤. ê²½ê³ ì¼ ìˆ˜ë„ ìˆê³  ë¯¸ë˜ì˜ ì•”í˜¸í™”í í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•˜ëŠ” íŒì¼ ìˆ˜ë„ ìˆëŠ” ì´ì•¼ê¸°ë¡œ ê¸€ì„ ë§ˆë¬´ë¦¬í•˜ë ¤ í•©ë‹ˆë‹¤. ì±„êµ´ì ì—†ëŠ” ì§„ì •í•œ í‰ë“±ì„ ì¶”êµ¬í•˜ì§€ ì•ŠëŠ” í”„ë¡œì íŠ¸ì˜ ìš´ëª…ì€ ì´ë¯¸ ê²°ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;íƒˆì¤‘ì•™í™”ëœ-ì•”í˜¸í™”íëŠ”-ì£½ì—ˆë‹¤&quot;&gt;&lt;a href=&quot;#íƒˆì¤‘ì•™í™”ëœ-ì•”í˜¸í™”íëŠ”-ì£½ì—ˆë‹¤&quot; class=&quot;headerlink&quot; title=&quot;íƒˆì¤‘ì•™í™”ëœ ì•”í˜¸í™”íëŠ” ì£½ì—ˆë‹¤.&quot;&gt;&lt;/a&gt;íƒˆì¤‘ì•™í™”ëœ ì•”í˜¸í™”íëŠ” ì£½ì—ˆë‹¤.&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;ì›ì €ì
      
    
    </summary>
    
      <category term="Distributed Ledger Technology" scheme="http://homoefficio.github.io/categories/Distributed-Ledger-Technology/"/>
    
    
      <category term="ë¸”ë¡ì²´ì¸" scheme="http://homoefficio.github.io/tags/%EB%B8%94%EB%A1%9D%EC%B2%B4%EC%9D%B8/"/>
    
      <category term="Cryptocurrency" scheme="http://homoefficio.github.io/tags/Cryptocurrency/"/>
    
      <category term="IOTA" scheme="http://homoefficio.github.io/tags/IOTA/"/>
    
      <category term="ì•„ì´ì˜¤íƒ€" scheme="http://homoefficio.github.io/tags/%EC%95%84%EC%9D%B4%EC%98%A4%ED%83%80/"/>
    
      <category term="ì•”í˜¸í™”í" scheme="http://homoefficio.github.io/tags/%EC%95%94%ED%98%B8%ED%99%94%ED%8F%90/"/>
    
      <category term="Distributed Ledger Technology" scheme="http://homoefficio.github.io/tags/Distributed-Ledger-Technology/"/>
    
      <category term="ë¶„ì‚° ì›ì¥ ê¸°ìˆ " scheme="http://homoefficio.github.io/tags/%EB%B6%84%EC%82%B0-%EC%9B%90%EC%9E%A5-%EA%B8%B0%EC%88%A0/"/>
    
      <category term="Blockchain" scheme="http://homoefficio.github.io/tags/Blockchain/"/>
    
      <category term="Translation" scheme="http://homoefficio.github.io/tags/Translation/"/>
    
      <category term="ë²ˆì—­" scheme="http://homoefficio.github.io/tags/%EB%B2%88%EC%97%AD/"/>
    
  </entry>
  
</feed>
